{
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/index.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _app = require(\"./app\");\n\nvar _logger = _interopRequireDefault(require(\"./util/logger\"));\n\nvar configs = _interopRequireWildcard(require(\"../configs/config.json\"));\n\nconst log = (0, _logger.default)('[Start App]');\n\nasync function main() {\n  try {\n    const server = (await (0, _app.createServer)()).listen(configs.serverSettings.port);\n    log.info(`Server listening on ${server.address().port}`);\n  } catch (e) {\n    log.error(e.message);\n    process.exit(1);\n  }\n}\n\nif (!module.parent) {\n  main();\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImxvZyIsIm1haW4iLCJzZXJ2ZXIiLCJsaXN0ZW4iLCJjb25maWdzIiwic2VydmVyU2V0dGluZ3MiLCJwb3J0IiwiaW5mbyIsImFkZHJlc3MiLCJlIiwiZXJyb3IiLCJtZXNzYWdlIiwicHJvY2VzcyIsImV4aXQiLCJtb2R1bGUiLCJwYXJlbnQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBOztBQUNBOztBQUVBOztBQUVBLE1BQU1BLEdBQUcsR0FBRyxxQkFBTyxhQUFQLENBQVo7O0FBRUEsZUFBZUMsSUFBZixHQUFzQjtBQUNwQixNQUFJO0FBQ0YsVUFBTUMsTUFBTSxHQUFHLENBQUMsTUFBTSx3QkFBUCxFQUF1QkMsTUFBdkIsQ0FBOEJDLE9BQU8sQ0FBQ0MsY0FBUixDQUF1QkMsSUFBckQsQ0FBZjtBQUNBTixJQUFBQSxHQUFHLENBQUNPLElBQUosQ0FBVSx1QkFBc0JMLE1BQU0sQ0FBQ00sT0FBUCxHQUFpQkYsSUFBSyxFQUF0RDtBQUNELEdBSEQsQ0FHRSxPQUFPRyxDQUFQLEVBQVU7QUFDVlQsSUFBQUEsR0FBRyxDQUFDVSxLQUFKLENBQVVELENBQUMsQ0FBQ0UsT0FBWjtBQUNBQyxJQUFBQSxPQUFPLENBQUNDLElBQVIsQ0FBYSxDQUFiO0FBQ0Q7QUFDRjs7QUFFRCxJQUFJLENBQUNDLE1BQU0sQ0FBQ0MsTUFBWixFQUFvQjtBQUNsQmQsRUFBQUEsSUFBSTtBQUNMIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9uYXZydXpqbi9Eb2N1bWVudHMvQXJjaGl2ZS9iYWNrZW5kL2JhY2svc3JjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlU2VydmVyIH0gZnJvbSAnLi9hcHAnO1xuaW1wb3J0IGxvZ2dlciBmcm9tICcuL3V0aWwvbG9nZ2VyJztcblxuaW1wb3J0ICogYXMgY29uZmlncyBmcm9tICcuLi9jb25maWdzL2NvbmZpZy5qc29uJ1xuXG5jb25zdCBsb2cgPSBsb2dnZXIoJ1tTdGFydCBBcHBdJyk7XG5cbmFzeW5jIGZ1bmN0aW9uIG1haW4oKSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc2VydmVyID0gKGF3YWl0IGNyZWF0ZVNlcnZlcigpKS5saXN0ZW4oY29uZmlncy5zZXJ2ZXJTZXR0aW5ncy5wb3J0KTtcbiAgICBsb2cuaW5mbyhgU2VydmVyIGxpc3RlbmluZyBvbiAke3NlcnZlci5hZGRyZXNzKCkucG9ydH1gKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGxvZy5lcnJvcihlLm1lc3NhZ2UpO1xuICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgfVxufVxuXG5pZiAoIW1vZHVsZS5wYXJlbnQpIHtcbiAgbWFpbigpO1xufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "log",
        "main",
        "server",
        "listen",
        "configs",
        "serverSettings",
        "port",
        "info",
        "address",
        "e",
        "error",
        "message",
        "process",
        "exit",
        "module",
        "parent"
      ],
      "mappings": ";;;;;;AAAA;;AACA;;AAEA;;AAEA,MAAMA,GAAG,GAAG,qBAAO,aAAP,CAAZ;;AAEA,eAAeC,IAAf,GAAsB;AACpB,MAAI;AACF,UAAMC,MAAM,GAAG,CAAC,MAAM,wBAAP,EAAuBC,MAAvB,CAA8BC,OAAO,CAACC,cAAR,CAAuBC,IAArD,CAAf;AACAN,IAAAA,GAAG,CAACO,IAAJ,CAAU,uBAAsBL,MAAM,CAACM,OAAP,GAAiBF,IAAK,EAAtD;AACD,GAHD,CAGE,OAAOG,CAAP,EAAU;AACVT,IAAAA,GAAG,CAACU,KAAJ,CAAUD,CAAC,CAACE,OAAZ;AACAC,IAAAA,OAAO,CAACC,IAAR,CAAa,CAAb;AACD;AACF;;AAED,IAAI,CAACC,MAAM,CAACC,MAAZ,EAAoB;AAClBd,EAAAA,IAAI;AACL",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src",
      "sourcesContent": [
        "import { createServer } from './app';\nimport logger from './util/logger';\n\nimport * as configs from '../configs/config.json'\n\nconst log = logger('[Start App]');\n\nasync function main() {\n  try {\n    const server = (await createServer()).listen(configs.serverSettings.port);\n    log.info(`Server listening on ${server.address().port}`);\n  } catch (e) {\n    log.error(e.message);\n    process.exit(1);\n  }\n}\n\nif (!module.parent) {\n  main();\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557991448541
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/app.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/app.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/app.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/app.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src",
        "sourceFileName": "app.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createServer = createServer;\n\nvar _koa = _interopRequireDefault(require(\"koa\"));\n\nvar _http = _interopRequireDefault(require(\"http\"));\n\nvar _cors = _interopRequireDefault(require(\"@koa/cors\"));\n\nvar _koaRespond = _interopRequireDefault(require(\"koa-respond\"));\n\nvar _koaBody = _interopRequireDefault(require(\"koa-body\"));\n\nvar _koaStatic = _interopRequireDefault(require(\"koa-static\"));\n\nvar _middleware = _interopRequireDefault(require(\"./middleware\"));\n\nvar _router = _interopRequireDefault(require(\"./router\"));\n\nvar _logger = _interopRequireDefault(require(\"./util/logger\"));\n\nvar _connect = _interopRequireDefault(require(\"./db/connect\"));\n\nconst log = (0, _logger.default)('[App Server]');\n\nasync function createServer() {\n  log.debug('Creating server...');\n  const app = new _koa.default();\n\n  _connect.default.mongoConnect();\n\n  app.use((0, _cors.default)()).use(_middleware.default.authMiddleware).use(_middleware.default.errorHandler).use((0, _koaStatic.default)(process.cwd() + '/static')).use((0, _koaRespond.default)()).use((0, _koaBody.default)({\n    multipart: true\n  })).use(_middleware.default.httpLogger).use((0, _router.default)()).use(_middleware.default.notFound);\n  app.on('error', (e, ctx) => {\n    log.error(e.message);\n    ctx.send(e.statusCode || 400, {\n      error: e.message\n    });\n  });\n\n  const server = _http.default.createServer(app.callback());\n\n  log.debug('Server created, ready to listen...');\n  return server;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJsb2ciLCJjcmVhdGVTZXJ2ZXIiLCJkZWJ1ZyIsImFwcCIsIktvYSIsImRiIiwibW9uZ29Db25uZWN0IiwidXNlIiwibWlkZGxld2FyZSIsImF1dGhNaWRkbGV3YXJlIiwiZXJyb3JIYW5kbGVyIiwicHJvY2VzcyIsImN3ZCIsIm11bHRpcGFydCIsImh0dHBMb2dnZXIiLCJub3RGb3VuZCIsIm9uIiwiZSIsImN0eCIsImVycm9yIiwibWVzc2FnZSIsInNlbmQiLCJzdGF0dXNDb2RlIiwic2VydmVyIiwiSHR0cCIsImNhbGxiYWNrIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxNQUFNQSxHQUFHLEdBQUcscUJBQU8sY0FBUCxDQUFaOztBQUVPLGVBQWVDLFlBQWYsR0FBOEI7QUFDbkNELEVBQUFBLEdBQUcsQ0FBQ0UsS0FBSixDQUFVLG9CQUFWO0FBQ0EsUUFBTUMsR0FBRyxHQUFHLElBQUlDLFlBQUosRUFBWjs7QUFFQUMsbUJBQUdDLFlBQUg7O0FBRUFILEVBQUFBLEdBQUcsQ0FDRUksR0FETCxDQUNTLG9CQURULEVBRUtBLEdBRkwsQ0FFU0Msb0JBQVdDLGNBRnBCLEVBR0tGLEdBSEwsQ0FHU0Msb0JBQVdFLFlBSHBCLEVBSUtILEdBSkwsQ0FJUyx3QkFBTUksT0FBTyxDQUFDQyxHQUFSLEtBQWdCLFNBQXRCLENBSlQsRUFLS0wsR0FMTCxDQUtTLDBCQUxULEVBTUtBLEdBTkwsQ0FNUyxzQkFBSztBQUFFTSxJQUFBQSxTQUFTLEVBQUU7QUFBYixHQUFMLENBTlQsRUFPS04sR0FQTCxDQU9TQyxvQkFBV00sVUFQcEIsRUFRS1AsR0FSTCxDQVFTLHNCQVJULEVBU0tBLEdBVEwsQ0FTU0Msb0JBQVdPLFFBVHBCO0FBV0FaLEVBQUFBLEdBQUcsQ0FBQ2EsRUFBSixDQUFPLE9BQVAsRUFBZ0IsQ0FBQ0MsQ0FBRCxFQUFJQyxHQUFKLEtBQVk7QUFDMUJsQixJQUFBQSxHQUFHLENBQUNtQixLQUFKLENBQVVGLENBQUMsQ0FBQ0csT0FBWjtBQUNBRixJQUFBQSxHQUFHLENBQUNHLElBQUosQ0FBU0osQ0FBQyxDQUFDSyxVQUFGLElBQWdCLEdBQXpCLEVBQThCO0FBQUVILE1BQUFBLEtBQUssRUFBRUYsQ0FBQyxDQUFDRztBQUFYLEtBQTlCO0FBQ0QsR0FIRDs7QUFLQSxRQUFNRyxNQUFNLEdBQUdDLGNBQUt2QixZQUFMLENBQWtCRSxHQUFHLENBQUNzQixRQUFKLEVBQWxCLENBQWY7O0FBRUF6QixFQUFBQSxHQUFHLENBQUNFLEtBQUosQ0FBVSxvQ0FBVjtBQUNBLFNBQU9xQixNQUFQO0FBQ0QiLCJzb3VyY2VSb290IjoiL1VzZXJzL25hdnJ1empuL0RvY3VtZW50cy9BcmNoaXZlL2JhY2tlbmQvYmFjay9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgS29hIGZyb20gJ2tvYSc7XG5pbXBvcnQgSHR0cCBmcm9tICdodHRwJztcbmltcG9ydCBjb3JzIGZyb20gJ0Brb2EvY29ycyc7XG5pbXBvcnQgcmVzcG9uZCBmcm9tICdrb2EtcmVzcG9uZCc7XG5pbXBvcnQgYm9keSBmcm9tICdrb2EtYm9keSc7XG5pbXBvcnQgc2VydmUgZnJvbSAna29hLXN0YXRpYyc7XG5cbmltcG9ydCBtaWRkbGV3YXJlIGZyb20gJy4vbWlkZGxld2FyZSc7XG5pbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVyJztcbmltcG9ydCBsb2dnZXIgZnJvbSAnLi91dGlsL2xvZ2dlcic7XG5pbXBvcnQgZGIgZnJvbSAnLi9kYi9jb25uZWN0JztcblxuY29uc3QgbG9nID0gbG9nZ2VyKCdbQXBwIFNlcnZlcl0nKTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVNlcnZlcigpIHtcbiAgbG9nLmRlYnVnKCdDcmVhdGluZyBzZXJ2ZXIuLi4nKTtcbiAgY29uc3QgYXBwID0gbmV3IEtvYSgpO1xuXG4gIGRiLm1vbmdvQ29ubmVjdCgpO1xuXG4gIGFwcFxuICAgICAgLnVzZShjb3JzKCkpXG4gICAgICAudXNlKG1pZGRsZXdhcmUuYXV0aE1pZGRsZXdhcmUpXG4gICAgICAudXNlKG1pZGRsZXdhcmUuZXJyb3JIYW5kbGVyKVxuICAgICAgLnVzZShzZXJ2ZShwcm9jZXNzLmN3ZCgpICsgJy9zdGF0aWMnKSlcbiAgICAgIC51c2UocmVzcG9uZCgpKVxuICAgICAgLnVzZShib2R5KHsgbXVsdGlwYXJ0OiB0cnVlIH0pKVxuICAgICAgLnVzZShtaWRkbGV3YXJlLmh0dHBMb2dnZXIpXG4gICAgICAudXNlKHJvdXRlcigpKVxuICAgICAgLnVzZShtaWRkbGV3YXJlLm5vdEZvdW5kKTtcblxuICBhcHAub24oJ2Vycm9yJywgKGUsIGN0eCkgPT4ge1xuICAgIGxvZy5lcnJvcihlLm1lc3NhZ2UpO1xuICAgIGN0eC5zZW5kKGUuc3RhdHVzQ29kZSB8fCA0MDAsIHsgZXJyb3I6IGUubWVzc2FnZSB9KTtcbiAgfSk7XG5cbiAgY29uc3Qgc2VydmVyID0gSHR0cC5jcmVhdGVTZXJ2ZXIoYXBwLmNhbGxiYWNrKCkpO1xuXG4gIGxvZy5kZWJ1ZygnU2VydmVyIGNyZWF0ZWQsIHJlYWR5IHRvIGxpc3Rlbi4uLicpO1xuICByZXR1cm4gc2VydmVyO1xufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "log",
        "createServer",
        "debug",
        "app",
        "Koa",
        "db",
        "mongoConnect",
        "use",
        "middleware",
        "authMiddleware",
        "errorHandler",
        "process",
        "cwd",
        "multipart",
        "httpLogger",
        "notFound",
        "on",
        "e",
        "ctx",
        "error",
        "message",
        "send",
        "statusCode",
        "server",
        "Http",
        "callback"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AAEA,MAAMA,GAAG,GAAG,qBAAO,cAAP,CAAZ;;AAEO,eAAeC,YAAf,GAA8B;AACnCD,EAAAA,GAAG,CAACE,KAAJ,CAAU,oBAAV;AACA,QAAMC,GAAG,GAAG,IAAIC,YAAJ,EAAZ;;AAEAC,mBAAGC,YAAH;;AAEAH,EAAAA,GAAG,CACEI,GADL,CACS,oBADT,EAEKA,GAFL,CAESC,oBAAWC,cAFpB,EAGKF,GAHL,CAGSC,oBAAWE,YAHpB,EAIKH,GAJL,CAIS,wBAAMI,OAAO,CAACC,GAAR,KAAgB,SAAtB,CAJT,EAKKL,GALL,CAKS,0BALT,EAMKA,GANL,CAMS,sBAAK;AAAEM,IAAAA,SAAS,EAAE;AAAb,GAAL,CANT,EAOKN,GAPL,CAOSC,oBAAWM,UAPpB,EAQKP,GARL,CAQS,sBART,EASKA,GATL,CASSC,oBAAWO,QATpB;AAWAZ,EAAAA,GAAG,CAACa,EAAJ,CAAO,OAAP,EAAgB,CAACC,CAAD,EAAIC,GAAJ,KAAY;AAC1BlB,IAAAA,GAAG,CAACmB,KAAJ,CAAUF,CAAC,CAACG,OAAZ;AACAF,IAAAA,GAAG,CAACG,IAAJ,CAASJ,CAAC,CAACK,UAAF,IAAgB,GAAzB,EAA8B;AAAEH,MAAAA,KAAK,EAAEF,CAAC,CAACG;AAAX,KAA9B;AACD,GAHD;;AAKA,QAAMG,MAAM,GAAGC,cAAKvB,YAAL,CAAkBE,GAAG,CAACsB,QAAJ,EAAlB,CAAf;;AAEAzB,EAAAA,GAAG,CAACE,KAAJ,CAAU,oCAAV;AACA,SAAOqB,MAAP;AACD",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src",
      "sourcesContent": [
        "import Koa from 'koa';\nimport Http from 'http';\nimport cors from '@koa/cors';\nimport respond from 'koa-respond';\nimport body from 'koa-body';\nimport serve from 'koa-static';\n\nimport middleware from './middleware';\nimport router from './router';\nimport logger from './util/logger';\nimport db from './db/connect';\n\nconst log = logger('[App Server]');\n\nexport async function createServer() {\n  log.debug('Creating server...');\n  const app = new Koa();\n\n  db.mongoConnect();\n\n  app\n      .use(cors())\n      .use(middleware.authMiddleware)\n      .use(middleware.errorHandler)\n      .use(serve(process.cwd() + '/static'))\n      .use(respond())\n      .use(body({ multipart: true }))\n      .use(middleware.httpLogger)\n      .use(router())\n      .use(middleware.notFound);\n\n  app.on('error', (e, ctx) => {\n    log.error(e.message);\n    ctx.send(e.statusCode || 400, { error: e.message });\n  });\n\n  const server = Http.createServer(app.callback());\n\n  log.debug('Server created, ready to listen...');\n  return server;\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557949173859
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/app.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/app.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/app.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/app.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src",
        "sourceFileName": "app.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createServer = createServer;\n\nvar _koa = _interopRequireDefault(require(\"koa\"));\n\nvar _http = _interopRequireDefault(require(\"http\"));\n\nvar _cors = _interopRequireDefault(require(\"@koa/cors\"));\n\nvar _koaRespond = _interopRequireDefault(require(\"koa-respond\"));\n\nvar _koaBody = _interopRequireDefault(require(\"koa-body\"));\n\nvar _koaStatic = _interopRequireDefault(require(\"koa-static\"));\n\nvar _middleware = _interopRequireDefault(require(\"./middleware\"));\n\nvar _router = _interopRequireDefault(require(\"./router\"));\n\nvar _logger = _interopRequireDefault(require(\"./util/logger\"));\n\nvar _connect = _interopRequireDefault(require(\"./db/connect\"));\n\nconst log = (0, _logger.default)('[App Server]');\n\nasync function createServer() {\n  log.debug('Creating server...');\n  const app = new _koa.default();\n\n  _connect.default.mongoConnect();\n\n  app.use((0, _cors.default)()).use(_middleware.default.authMiddleware).use(_middleware.default.errorHandler).use((0, _koaStatic.default)(process.cwd() + '/static')).use((0, _koaRespond.default)()).use((0, _koaBody.default)({\n    multipart: true\n  })).use(_middleware.default.httpLogger).use((0, _router.default)()).use(_middleware.default.notFound);\n  app.on('error', (e, ctx) => {\n    log.error(e.message);\n    ctx.send(e.statusCode || 400, {\n      error: e.message\n    });\n  });\n\n  const server = _http.default.createServer(app.callback());\n\n  log.debug('Server created, ready to listen...');\n  return server;\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJsb2ciLCJjcmVhdGVTZXJ2ZXIiLCJkZWJ1ZyIsImFwcCIsIktvYSIsImRiIiwibW9uZ29Db25uZWN0IiwidXNlIiwibWlkZGxld2FyZSIsImF1dGhNaWRkbGV3YXJlIiwiZXJyb3JIYW5kbGVyIiwicHJvY2VzcyIsImN3ZCIsIm11bHRpcGFydCIsImh0dHBMb2dnZXIiLCJub3RGb3VuZCIsIm9uIiwiZSIsImN0eCIsImVycm9yIiwibWVzc2FnZSIsInNlbmQiLCJzdGF0dXNDb2RlIiwic2VydmVyIiwiSHR0cCIsImNhbGxiYWNrIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFFQSxNQUFNQSxHQUFHLEdBQUcscUJBQU8sY0FBUCxDQUFaOztBQUVPLGVBQWVDLFlBQWYsR0FBOEI7QUFDbkNELEVBQUFBLEdBQUcsQ0FBQ0UsS0FBSixDQUFVLG9CQUFWO0FBQ0EsUUFBTUMsR0FBRyxHQUFHLElBQUlDLFlBQUosRUFBWjs7QUFFQUMsbUJBQUdDLFlBQUg7O0FBRUFILEVBQUFBLEdBQUcsQ0FDRUksR0FETCxDQUNTLG9CQURULEVBRUtBLEdBRkwsQ0FFU0Msb0JBQVdDLGNBRnBCLEVBR0tGLEdBSEwsQ0FHU0Msb0JBQVdFLFlBSHBCLEVBSUtILEdBSkwsQ0FJUyx3QkFBTUksT0FBTyxDQUFDQyxHQUFSLEtBQWdCLFNBQXRCLENBSlQsRUFLS0wsR0FMTCxDQUtTLDBCQUxULEVBTUtBLEdBTkwsQ0FNUyxzQkFBSztBQUFFTSxJQUFBQSxTQUFTLEVBQUU7QUFBYixHQUFMLENBTlQsRUFPS04sR0FQTCxDQU9TQyxvQkFBV00sVUFQcEIsRUFRS1AsR0FSTCxDQVFTLHNCQVJULEVBU0tBLEdBVEwsQ0FTU0Msb0JBQVdPLFFBVHBCO0FBV0FaLEVBQUFBLEdBQUcsQ0FBQ2EsRUFBSixDQUFPLE9BQVAsRUFBZ0IsQ0FBQ0MsQ0FBRCxFQUFJQyxHQUFKLEtBQVk7QUFDMUJsQixJQUFBQSxHQUFHLENBQUNtQixLQUFKLENBQVVGLENBQUMsQ0FBQ0csT0FBWjtBQUNBRixJQUFBQSxHQUFHLENBQUNHLElBQUosQ0FBU0osQ0FBQyxDQUFDSyxVQUFGLElBQWdCLEdBQXpCLEVBQThCO0FBQUVILE1BQUFBLEtBQUssRUFBRUYsQ0FBQyxDQUFDRztBQUFYLEtBQTlCO0FBQ0QsR0FIRDs7QUFLQSxRQUFNRyxNQUFNLEdBQUdDLGNBQUt2QixZQUFMLENBQWtCRSxHQUFHLENBQUNzQixRQUFKLEVBQWxCLENBQWY7O0FBRUF6QixFQUFBQSxHQUFHLENBQUNFLEtBQUosQ0FBVSxvQ0FBVjtBQUNBLFNBQU9xQixNQUFQO0FBQ0QiLCJzb3VyY2VSb290IjoiL1VzZXJzL25hdnJ1empuL0RvY3VtZW50cy9BcmNoaXZlL2JhY2tlbmQvYmFjay9zcmMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgS29hIGZyb20gJ2tvYSc7XG5pbXBvcnQgSHR0cCBmcm9tICdodHRwJztcbmltcG9ydCBjb3JzIGZyb20gJ0Brb2EvY29ycyc7XG5pbXBvcnQgcmVzcG9uZCBmcm9tICdrb2EtcmVzcG9uZCc7XG5pbXBvcnQgYm9keSBmcm9tICdrb2EtYm9keSc7XG5pbXBvcnQgc2VydmUgZnJvbSAna29hLXN0YXRpYyc7XG5cbmltcG9ydCBtaWRkbGV3YXJlIGZyb20gJy4vbWlkZGxld2FyZSc7XG5pbXBvcnQgcm91dGVyIGZyb20gJy4vcm91dGVyJztcbmltcG9ydCBsb2dnZXIgZnJvbSAnLi91dGlsL2xvZ2dlcic7XG5pbXBvcnQgZGIgZnJvbSAnLi9kYi9jb25uZWN0JztcblxuY29uc3QgbG9nID0gbG9nZ2VyKCdbQXBwIFNlcnZlcl0nKTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVNlcnZlcigpIHtcbiAgbG9nLmRlYnVnKCdDcmVhdGluZyBzZXJ2ZXIuLi4nKTtcbiAgY29uc3QgYXBwID0gbmV3IEtvYSgpO1xuXG4gIGRiLm1vbmdvQ29ubmVjdCgpO1xuXG4gIGFwcFxuICAgICAgLnVzZShjb3JzKCkpXG4gICAgICAudXNlKG1pZGRsZXdhcmUuYXV0aE1pZGRsZXdhcmUpXG4gICAgICAudXNlKG1pZGRsZXdhcmUuZXJyb3JIYW5kbGVyKVxuICAgICAgLnVzZShzZXJ2ZShwcm9jZXNzLmN3ZCgpICsgJy9zdGF0aWMnKSlcbiAgICAgIC51c2UocmVzcG9uZCgpKVxuICAgICAgLnVzZShib2R5KHsgbXVsdGlwYXJ0OiB0cnVlIH0pKVxuICAgICAgLnVzZShtaWRkbGV3YXJlLmh0dHBMb2dnZXIpXG4gICAgICAudXNlKHJvdXRlcigpKVxuICAgICAgLnVzZShtaWRkbGV3YXJlLm5vdEZvdW5kKTtcblxuICBhcHAub24oJ2Vycm9yJywgKGUsIGN0eCkgPT4ge1xuICAgIGxvZy5lcnJvcihlLm1lc3NhZ2UpO1xuICAgIGN0eC5zZW5kKGUuc3RhdHVzQ29kZSB8fCA0MDAsIHsgZXJyb3I6IGUubWVzc2FnZSB9KTtcbiAgfSk7XG5cbiAgY29uc3Qgc2VydmVyID0gSHR0cC5jcmVhdGVTZXJ2ZXIoYXBwLmNhbGxiYWNrKCkpO1xuXG4gIGxvZy5kZWJ1ZygnU2VydmVyIGNyZWF0ZWQsIHJlYWR5IHRvIGxpc3Rlbi4uLicpO1xuICByZXR1cm4gc2VydmVyO1xufVxuIl19",
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "log",
        "createServer",
        "debug",
        "app",
        "Koa",
        "db",
        "mongoConnect",
        "use",
        "middleware",
        "authMiddleware",
        "errorHandler",
        "process",
        "cwd",
        "multipart",
        "httpLogger",
        "notFound",
        "on",
        "e",
        "ctx",
        "error",
        "message",
        "send",
        "statusCode",
        "server",
        "Http",
        "callback"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AAEA,MAAMA,GAAG,GAAG,qBAAO,cAAP,CAAZ;;AAEO,eAAeC,YAAf,GAA8B;AACnCD,EAAAA,GAAG,CAACE,KAAJ,CAAU,oBAAV;AACA,QAAMC,GAAG,GAAG,IAAIC,YAAJ,EAAZ;;AAEAC,mBAAGC,YAAH;;AAEAH,EAAAA,GAAG,CACEI,GADL,CACS,oBADT,EAEKA,GAFL,CAESC,oBAAWC,cAFpB,EAGKF,GAHL,CAGSC,oBAAWE,YAHpB,EAIKH,GAJL,CAIS,wBAAMI,OAAO,CAACC,GAAR,KAAgB,SAAtB,CAJT,EAKKL,GALL,CAKS,0BALT,EAMKA,GANL,CAMS,sBAAK;AAAEM,IAAAA,SAAS,EAAE;AAAb,GAAL,CANT,EAOKN,GAPL,CAOSC,oBAAWM,UAPpB,EAQKP,GARL,CAQS,sBART,EASKA,GATL,CASSC,oBAAWO,QATpB;AAWAZ,EAAAA,GAAG,CAACa,EAAJ,CAAO,OAAP,EAAgB,CAACC,CAAD,EAAIC,GAAJ,KAAY;AAC1BlB,IAAAA,GAAG,CAACmB,KAAJ,CAAUF,CAAC,CAACG,OAAZ;AACAF,IAAAA,GAAG,CAACG,IAAJ,CAASJ,CAAC,CAACK,UAAF,IAAgB,GAAzB,EAA8B;AAAEH,MAAAA,KAAK,EAAEF,CAAC,CAACG;AAAX,KAA9B;AACD,GAHD;;AAKA,QAAMG,MAAM,GAAGC,cAAKvB,YAAL,CAAkBE,GAAG,CAACsB,QAAJ,EAAlB,CAAf;;AAEAzB,EAAAA,GAAG,CAACE,KAAJ,CAAU,oCAAV;AACA,SAAOqB,MAAP;AACD",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src",
      "sourcesContent": [
        "import Koa from 'koa';\nimport Http from 'http';\nimport cors from '@koa/cors';\nimport respond from 'koa-respond';\nimport body from 'koa-body';\nimport serve from 'koa-static';\n\nimport middleware from './middleware';\nimport router from './router';\nimport logger from './util/logger';\nimport db from './db/connect';\n\nconst log = logger('[App Server]');\n\nexport async function createServer() {\n  log.debug('Creating server...');\n  const app = new Koa();\n\n  db.mongoConnect();\n\n  app\n      .use(cors())\n      .use(middleware.authMiddleware)\n      .use(middleware.errorHandler)\n      .use(serve(process.cwd() + '/static'))\n      .use(respond())\n      .use(body({ multipart: true }))\n      .use(middleware.httpLogger)\n      .use(router())\n      .use(middleware.notFound);\n\n  app.on('error', (e, ctx) => {\n    log.error(e.message);\n    ctx.send(e.statusCode || 400, { error: e.message });\n  });\n\n  const server = Http.createServer(app.callback());\n\n  log.debug('Server created, ready to listen...');\n  return server;\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557949173859
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/index.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _errorHandler = _interopRequireDefault(require(\"./error-handler\"));\n\nvar _notFound = _interopRequireDefault(require(\"./not-found\"));\n\nvar _httpLogger = _interopRequireDefault(require(\"./http-logger\"));\n\nvar _authMiddleware = _interopRequireDefault(require(\"./authMiddleware\"));\n\nvar _default = {\n  errorHandler: _errorHandler.default,\n  notFound: _notFound.default,\n  httpLogger: _httpLogger.default,\n  authMiddleware: _authMiddleware.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImVycm9ySGFuZGxlciIsIm5vdEZvdW5kIiwiaHR0cExvZ2dlciIsImF1dGhNaWRkbGV3YXJlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7ZUFFZTtBQUNiQSxFQUFBQSxZQUFZLEVBQVpBLHFCQURhO0FBRWJDLEVBQUFBLFFBQVEsRUFBUkEsaUJBRmE7QUFHYkMsRUFBQUEsVUFBVSxFQUFWQSxtQkFIYTtBQUliQyxFQUFBQSxjQUFjLEVBQWRBO0FBSmEsQyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbmF2cnV6am4vRG9jdW1lbnRzL0FyY2hpdmUvYmFja2VuZC9iYWNrL3NyYy9taWRkbGV3YXJlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVycm9ySGFuZGxlciBmcm9tICcuL2Vycm9yLWhhbmRsZXInO1xuaW1wb3J0IG5vdEZvdW5kIGZyb20gJy4vbm90LWZvdW5kJztcbmltcG9ydCBodHRwTG9nZ2VyIGZyb20gJy4vaHR0cC1sb2dnZXInO1xuaW1wb3J0IGF1dGhNaWRkbGV3YXJlIGZyb20gJy4vYXV0aE1pZGRsZXdhcmUnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGVycm9ySGFuZGxlcixcbiAgbm90Rm91bmQsXG4gIGh0dHBMb2dnZXIsXG4gIGF1dGhNaWRkbGV3YXJlXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "errorHandler",
        "notFound",
        "httpLogger",
        "authMiddleware"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;eAEe;AACbA,EAAAA,YAAY,EAAZA,qBADa;AAEbC,EAAAA,QAAQ,EAARA,iBAFa;AAGbC,EAAAA,UAAU,EAAVA,mBAHa;AAIbC,EAAAA,cAAc,EAAdA;AAJa,C",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "sourcesContent": [
        "import errorHandler from './error-handler';\nimport notFound from './not-found';\nimport httpLogger from './http-logger';\nimport authMiddleware from './authMiddleware';\n\nexport default {\n  errorHandler,\n  notFound,\n  httpLogger,\n  authMiddleware\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557942485114
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware/error-handler.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/error-handler.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/error-handler.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/error-handler.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
        "sourceFileName": "error-handler.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = async (ctx, next) => {\n  try {\n    await next();\n  } catch (e) {\n    ctx.app.emit('error', (e, ctx));\n  }\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9yLWhhbmRsZXIuanMiXSwibmFtZXMiOlsiY3R4IiwibmV4dCIsImUiLCJhcHAiLCJlbWl0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O2VBQWUsT0FBT0EsR0FBUCxFQUFZQyxJQUFaLEtBQXFCO0FBQ2xDLE1BQUk7QUFDRixVQUFNQSxJQUFJLEVBQVY7QUFDRCxHQUZELENBRUUsT0FBT0MsQ0FBUCxFQUFVO0FBQ1ZGLElBQUFBLEdBQUcsQ0FBQ0csR0FBSixDQUFRQyxJQUFSLENBQWEsT0FBYixHQUF1QkYsQ0FBQyxFQUFFRixHQUExQjtBQUNEO0FBQ0YsQyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbmF2cnV6am4vRG9jdW1lbnRzL0FyY2hpdmUvYmFja2VuZC9iYWNrL3NyYy9taWRkbGV3YXJlIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgYXN5bmMgKGN0eCwgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGF3YWl0IG5leHQoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGN0eC5hcHAuZW1pdCgnZXJyb3InLCAoZSwgY3R4KSk7XG4gIH1cbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "error-handler.js"
      ],
      "names": [
        "ctx",
        "next",
        "e",
        "app",
        "emit"
      ],
      "mappings": ";;;;;;;eAAe,OAAOA,GAAP,EAAYC,IAAZ,KAAqB;AAClC,MAAI;AACF,UAAMA,IAAI,EAAV;AACD,GAFD,CAEE,OAAOC,CAAP,EAAU;AACVF,IAAAA,GAAG,CAACG,GAAJ,CAAQC,IAAR,CAAa,OAAb,GAAuBF,CAAC,EAAEF,GAA1B;AACD;AACF,C",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "sourcesContent": [
        "export default async (ctx, next) => {\n  try {\n    await next();\n  } catch (e) {\n    ctx.app.emit('error', (e, ctx));\n  }\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557941438804
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware/not-found.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/not-found.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/not-found.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/not-found.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
        "sourceFileName": "not-found.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = async (ctx, next) => {\n  const path = `${ctx.request.method} ${ctx.request.path}`;\n  const message = `No endpoint matched your request: ${path}`;\n  ctx.notFound(message);\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdC1mb3VuZC5qcyJdLCJuYW1lcyI6WyJjdHgiLCJuZXh0IiwicGF0aCIsInJlcXVlc3QiLCJtZXRob2QiLCJtZXNzYWdlIiwibm90Rm91bmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7ZUFBZSxPQUFPQSxHQUFQLEVBQVlDLElBQVosS0FBcUI7QUFDbEMsUUFBTUMsSUFBSSxHQUFJLEdBQUVGLEdBQUcsQ0FBQ0csT0FBSixDQUFZQyxNQUFPLElBQUdKLEdBQUcsQ0FBQ0csT0FBSixDQUFZRCxJQUFLLEVBQXZEO0FBQ0EsUUFBTUcsT0FBTyxHQUFJLHFDQUFvQ0gsSUFBSyxFQUExRDtBQUNBRixFQUFBQSxHQUFHLENBQUNNLFFBQUosQ0FBYUQsT0FBYjtBQUNELEMiLCJzb3VyY2VSb290IjoiL1VzZXJzL25hdnJ1empuL0RvY3VtZW50cy9BcmNoaXZlL2JhY2tlbmQvYmFjay9zcmMvbWlkZGxld2FyZSIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGFzeW5jIChjdHgsIG5leHQpID0+IHtcbiAgY29uc3QgcGF0aCA9IGAke2N0eC5yZXF1ZXN0Lm1ldGhvZH0gJHtjdHgucmVxdWVzdC5wYXRofWA7XG4gIGNvbnN0IG1lc3NhZ2UgPSBgTm8gZW5kcG9pbnQgbWF0Y2hlZCB5b3VyIHJlcXVlc3Q6ICR7cGF0aH1gO1xuICBjdHgubm90Rm91bmQobWVzc2FnZSk7XG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "not-found.js"
      ],
      "names": [
        "ctx",
        "next",
        "path",
        "request",
        "method",
        "message",
        "notFound"
      ],
      "mappings": ";;;;;;;eAAe,OAAOA,GAAP,EAAYC,IAAZ,KAAqB;AAClC,QAAMC,IAAI,GAAI,GAAEF,GAAG,CAACG,OAAJ,CAAYC,MAAO,IAAGJ,GAAG,CAACG,OAAJ,CAAYD,IAAK,EAAvD;AACA,QAAMG,OAAO,GAAI,qCAAoCH,IAAK,EAA1D;AACAF,EAAAA,GAAG,CAACM,QAAJ,CAAaD,OAAb;AACD,C",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "sourcesContent": [
        "export default async (ctx, next) => {\n  const path = `${ctx.request.method} ${ctx.request.path}`;\n  const message = `No endpoint matched your request: ${path}`;\n  ctx.notFound(message);\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557941438805
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware/http-logger.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/http-logger.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/http-logger.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/http-logger.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
        "sourceFileName": "http-logger.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _logger = _interopRequireDefault(require(\"../util/logger\"));\n\nconst size = 120;\nconst log = (0, _logger.default)('[HTTP Logger]');\n\nfunction handler(body) {\n  if (typeof body !== 'object') body = {\n    body\n  };\n  body = JSON.stringify(body);\n  body = body.length > size ? body.substring(0, size) + '...' : body;\n  return body;\n}\n\nvar _default = async (ctx, next) => {\n  const start = Date.now();\n  await next();\n  const end = Date.now() - start;\n  const resBody = handler(ctx.body);\n  const reqBody = handler(ctx.request.body);\n  const startMsg = `${ctx.method} ${ctx.path} :: ${ctx.status}`;\n  log.info(`${startMsg} :: ${reqBody} <--> ${resBody} :: [Length:${ctx.length}] :: ${end}ms`);\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHAtbG9nZ2VyLmpzIl0sIm5hbWVzIjpbInNpemUiLCJsb2ciLCJoYW5kbGVyIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsZW5ndGgiLCJzdWJzdHJpbmciLCJjdHgiLCJuZXh0Iiwic3RhcnQiLCJEYXRlIiwibm93IiwiZW5kIiwicmVzQm9keSIsInJlcUJvZHkiLCJyZXF1ZXN0Iiwic3RhcnRNc2ciLCJtZXRob2QiLCJwYXRoIiwic3RhdHVzIiwiaW5mbyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBRUEsTUFBTUEsSUFBSSxHQUFHLEdBQWI7QUFDQSxNQUFNQyxHQUFHLEdBQUcscUJBQU8sZUFBUCxDQUFaOztBQUVBLFNBQVNDLE9BQVQsQ0FBaUJDLElBQWpCLEVBQXVCO0FBQ3JCLE1BQUksT0FBT0EsSUFBUCxLQUFnQixRQUFwQixFQUE4QkEsSUFBSSxHQUFHO0FBQUVBLElBQUFBO0FBQUYsR0FBUDtBQUM5QkEsRUFBQUEsSUFBSSxHQUFHQyxJQUFJLENBQUNDLFNBQUwsQ0FBZUYsSUFBZixDQUFQO0FBRUFBLEVBQUFBLElBQUksR0FBR0EsSUFBSSxDQUFDRyxNQUFMLEdBQWNOLElBQWQsR0FBcUJHLElBQUksQ0FBQ0ksU0FBTCxDQUFlLENBQWYsRUFBa0JQLElBQWxCLElBQTBCLEtBQS9DLEdBQXVERyxJQUE5RDtBQUNBLFNBQU9BLElBQVA7QUFDRDs7ZUFFYyxPQUFPSyxHQUFQLEVBQVlDLElBQVosS0FBcUI7QUFDbEMsUUFBTUMsS0FBSyxHQUFHQyxJQUFJLENBQUNDLEdBQUwsRUFBZDtBQUNBLFFBQU1ILElBQUksRUFBVjtBQUNBLFFBQU1JLEdBQUcsR0FBR0YsSUFBSSxDQUFDQyxHQUFMLEtBQWFGLEtBQXpCO0FBRUEsUUFBTUksT0FBTyxHQUFHWixPQUFPLENBQUNNLEdBQUcsQ0FBQ0wsSUFBTCxDQUF2QjtBQUNBLFFBQU1ZLE9BQU8sR0FBR2IsT0FBTyxDQUFDTSxHQUFHLENBQUNRLE9BQUosQ0FBWWIsSUFBYixDQUF2QjtBQUNBLFFBQU1jLFFBQVEsR0FBSSxHQUFFVCxHQUFHLENBQUNVLE1BQU8sSUFBR1YsR0FBRyxDQUFDVyxJQUFLLE9BQU1YLEdBQUcsQ0FBQ1ksTUFBTyxFQUE1RDtBQUVBbkIsRUFBQUEsR0FBRyxDQUFDb0IsSUFBSixDQUFVLEdBQUVKLFFBQVMsT0FBTUYsT0FBUSxTQUFRRCxPQUFRLGVBQWNOLEdBQUcsQ0FBQ0YsTUFBTyxRQUFPTyxHQUFJLElBQXZGO0FBQ0QsQyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbmF2cnV6am4vRG9jdW1lbnRzL0FyY2hpdmUvYmFja2VuZC9iYWNrL3NyYy9taWRkbGV3YXJlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGxvZ2dlciBmcm9tICcuLi91dGlsL2xvZ2dlcic7XG5cbmNvbnN0IHNpemUgPSAxMjA7XG5jb25zdCBsb2cgPSBsb2dnZXIoJ1tIVFRQIExvZ2dlcl0nKTtcblxuZnVuY3Rpb24gaGFuZGxlcihib2R5KSB7XG4gIGlmICh0eXBlb2YgYm9keSAhPT0gJ29iamVjdCcpIGJvZHkgPSB7IGJvZHkgfTtcbiAgYm9keSA9IEpTT04uc3RyaW5naWZ5KGJvZHkpO1xuXG4gIGJvZHkgPSBib2R5Lmxlbmd0aCA+IHNpemUgPyBib2R5LnN1YnN0cmluZygwLCBzaXplKSArICcuLi4nIDogYm9keTtcbiAgcmV0dXJuIGJvZHk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChjdHgsIG5leHQpID0+IHtcbiAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuICBhd2FpdCBuZXh0KCk7XG4gIGNvbnN0IGVuZCA9IERhdGUubm93KCkgLSBzdGFydDtcblxuICBjb25zdCByZXNCb2R5ID0gaGFuZGxlcihjdHguYm9keSk7XG4gIGNvbnN0IHJlcUJvZHkgPSBoYW5kbGVyKGN0eC5yZXF1ZXN0LmJvZHkpO1xuICBjb25zdCBzdGFydE1zZyA9IGAke2N0eC5tZXRob2R9ICR7Y3R4LnBhdGh9IDo6ICR7Y3R4LnN0YXR1c31gO1xuXG4gIGxvZy5pbmZvKGAke3N0YXJ0TXNnfSA6OiAke3JlcUJvZHl9IDwtLT4gJHtyZXNCb2R5fSA6OiBbTGVuZ3RoOiR7Y3R4Lmxlbmd0aH1dIDo6ICR7ZW5kfW1zYCk7XG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "http-logger.js"
      ],
      "names": [
        "size",
        "log",
        "handler",
        "body",
        "JSON",
        "stringify",
        "length",
        "substring",
        "ctx",
        "next",
        "start",
        "Date",
        "now",
        "end",
        "resBody",
        "reqBody",
        "request",
        "startMsg",
        "method",
        "path",
        "status",
        "info"
      ],
      "mappings": ";;;;;;;;;AAAA;;AAEA,MAAMA,IAAI,GAAG,GAAb;AACA,MAAMC,GAAG,GAAG,qBAAO,eAAP,CAAZ;;AAEA,SAASC,OAAT,CAAiBC,IAAjB,EAAuB;AACrB,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8BA,IAAI,GAAG;AAAEA,IAAAA;AAAF,GAAP;AAC9BA,EAAAA,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAeF,IAAf,CAAP;AAEAA,EAAAA,IAAI,GAAGA,IAAI,CAACG,MAAL,GAAcN,IAAd,GAAqBG,IAAI,CAACI,SAAL,CAAe,CAAf,EAAkBP,IAAlB,IAA0B,KAA/C,GAAuDG,IAA9D;AACA,SAAOA,IAAP;AACD;;eAEc,OAAOK,GAAP,EAAYC,IAAZ,KAAqB;AAClC,QAAMC,KAAK,GAAGC,IAAI,CAACC,GAAL,EAAd;AACA,QAAMH,IAAI,EAAV;AACA,QAAMI,GAAG,GAAGF,IAAI,CAACC,GAAL,KAAaF,KAAzB;AAEA,QAAMI,OAAO,GAAGZ,OAAO,CAACM,GAAG,CAACL,IAAL,CAAvB;AACA,QAAMY,OAAO,GAAGb,OAAO,CAACM,GAAG,CAACQ,OAAJ,CAAYb,IAAb,CAAvB;AACA,QAAMc,QAAQ,GAAI,GAAET,GAAG,CAACU,MAAO,IAAGV,GAAG,CAACW,IAAK,OAAMX,GAAG,CAACY,MAAO,EAA5D;AAEAnB,EAAAA,GAAG,CAACoB,IAAJ,CAAU,GAAEJ,QAAS,OAAMF,OAAQ,SAAQD,OAAQ,eAAcN,GAAG,CAACF,MAAO,QAAOO,GAAI,IAAvF;AACD,C",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "sourcesContent": [
        "import logger from '../util/logger';\n\nconst size = 120;\nconst log = logger('[HTTP Logger]');\n\nfunction handler(body) {\n  if (typeof body !== 'object') body = { body };\n  body = JSON.stringify(body);\n\n  body = body.length > size ? body.substring(0, size) + '...' : body;\n  return body;\n}\n\nexport default async (ctx, next) => {\n  const start = Date.now();\n  await next();\n  const end = Date.now() - start;\n\n  const resBody = handler(ctx.body);\n  const reqBody = handler(ctx.request.body);\n  const startMsg = `${ctx.method} ${ctx.path} :: ${ctx.status}`;\n\n  log.info(`${startMsg} :: ${reqBody} <--> ${resBody} :: [Length:${ctx.length}] :: ${end}ms`);\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557941438804
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/util\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/util/logger.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/util/logger.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/util/logger.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/util/logger.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util",
        "sourceFileName": "logger.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar log4js = _interopRequireWildcard(require(\"log4js\"));\n\nvar _config = require(\"../config\");\n\nconst option = {\n  appenders: {\n    dateFile: {\n      type: 'dateFile',\n      category: 'http',\n      pattern: 'yyyy-MM-dd.log',\n      alwaysIncludePattern: true,\n      maxLogSize: 5242880,\n      numBackups: 3,\n      encoding: 'utf-8',\n      filename: _config.loggerOptions.file || 'logs/logFile'\n    },\n    out: {\n      type: 'console',\n      category: 'console'\n    }\n  },\n  replaceConsole: true,\n  categories: {\n    default: {\n      appenders: ['dateFile', 'out'],\n      level: _config.loggerOptions.level\n    }\n  }\n};\nlog4js.configure(option);\nObject.freeze(log4js);\n\nvar _default = name => {\n  const title = _config.loggerOptions.title;\n  const logger = log4js.getLogger(`${title} ` + name);\n  logger.level = process.env.NODE_ENV === 'test' ? 'off' : _config.loggerOptions.level;\n  return logger;\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2dlci5qcyJdLCJuYW1lcyI6WyJvcHRpb24iLCJhcHBlbmRlcnMiLCJkYXRlRmlsZSIsInR5cGUiLCJjYXRlZ29yeSIsInBhdHRlcm4iLCJhbHdheXNJbmNsdWRlUGF0dGVybiIsIm1heExvZ1NpemUiLCJudW1CYWNrdXBzIiwiZW5jb2RpbmciLCJmaWxlbmFtZSIsImxvZ2dlck9wdGlvbnMiLCJmaWxlIiwib3V0IiwicmVwbGFjZUNvbnNvbGUiLCJjYXRlZ29yaWVzIiwiZGVmYXVsdCIsImxldmVsIiwibG9nNGpzIiwiY29uZmlndXJlIiwiT2JqZWN0IiwiZnJlZXplIiwibmFtZSIsInRpdGxlIiwibG9nZ2VyIiwiZ2V0TG9nZ2VyIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQSxNQUFNQSxNQUFNLEdBQUc7QUFDYkMsRUFBQUEsU0FBUyxFQUFFO0FBQ1RDLElBQUFBLFFBQVEsRUFBRTtBQUNSQyxNQUFBQSxJQUFJLEVBQUUsVUFERTtBQUVSQyxNQUFBQSxRQUFRLEVBQUUsTUFGRjtBQUdSQyxNQUFBQSxPQUFPLEVBQUUsZ0JBSEQ7QUFJUkMsTUFBQUEsb0JBQW9CLEVBQUUsSUFKZDtBQUtSQyxNQUFBQSxVQUFVLEVBQUUsT0FMSjtBQU1SQyxNQUFBQSxVQUFVLEVBQUUsQ0FOSjtBQU9SQyxNQUFBQSxRQUFRLEVBQUUsT0FQRjtBQVFSQyxNQUFBQSxRQUFRLEVBQUVDLHNCQUFjQyxJQUFkLElBQXNCO0FBUnhCLEtBREQ7QUFXVEMsSUFBQUEsR0FBRyxFQUFFO0FBQ0hWLE1BQUFBLElBQUksRUFBRSxTQURIO0FBRUhDLE1BQUFBLFFBQVEsRUFBRTtBQUZQO0FBWEksR0FERTtBQWlCYlUsRUFBQUEsY0FBYyxFQUFFLElBakJIO0FBa0JiQyxFQUFBQSxVQUFVLEVBQUU7QUFDVkMsSUFBQUEsT0FBTyxFQUFFO0FBQ1BmLE1BQUFBLFNBQVMsRUFBRSxDQUFDLFVBQUQsRUFBYSxLQUFiLENBREo7QUFFUGdCLE1BQUFBLEtBQUssRUFBRU4sc0JBQWNNO0FBRmQ7QUFEQztBQWxCQyxDQUFmO0FBMEJBQyxNQUFNLENBQUNDLFNBQVAsQ0FBaUJuQixNQUFqQjtBQUNBb0IsTUFBTSxDQUFDQyxNQUFQLENBQWNILE1BQWQ7O2VBRWVJLElBQUksSUFBSTtBQUNyQixRQUFNQyxLQUFLLEdBQUdaLHNCQUFjWSxLQUE1QjtBQUNBLFFBQU1DLE1BQU0sR0FBR04sTUFBTSxDQUFDTyxTQUFQLENBQWtCLEdBQUVGLEtBQU0sR0FBVCxHQUFjRCxJQUEvQixDQUFmO0FBQ0FFLEVBQUFBLE1BQU0sQ0FBQ1AsS0FBUCxHQUFlUyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBWixLQUF5QixNQUF6QixHQUFrQyxLQUFsQyxHQUEwQ2pCLHNCQUFjTSxLQUF2RTtBQUNBLFNBQU9PLE1BQVA7QUFDRCxDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9uYXZydXpqbi9Eb2N1bWVudHMvQXJjaGl2ZS9iYWNrZW5kL2JhY2svc3JjL3V0aWwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBsb2c0anMgZnJvbSAnbG9nNGpzJztcbmltcG9ydCB7IGxvZ2dlck9wdGlvbnMgfSBmcm9tICcuLi9jb25maWcnO1xuXG5jb25zdCBvcHRpb24gPSB7XG4gIGFwcGVuZGVyczoge1xuICAgIGRhdGVGaWxlOiB7XG4gICAgICB0eXBlOiAnZGF0ZUZpbGUnLFxuICAgICAgY2F0ZWdvcnk6ICdodHRwJyxcbiAgICAgIHBhdHRlcm46ICd5eXl5LU1NLWRkLmxvZycsXG4gICAgICBhbHdheXNJbmNsdWRlUGF0dGVybjogdHJ1ZSxcbiAgICAgIG1heExvZ1NpemU6IDUyNDI4ODAsXG4gICAgICBudW1CYWNrdXBzOiAzLFxuICAgICAgZW5jb2Rpbmc6ICd1dGYtOCcsXG4gICAgICBmaWxlbmFtZTogbG9nZ2VyT3B0aW9ucy5maWxlIHx8ICdsb2dzL2xvZ0ZpbGUnXG4gICAgfSxcbiAgICBvdXQ6IHtcbiAgICAgIHR5cGU6ICdjb25zb2xlJyxcbiAgICAgIGNhdGVnb3J5OiAnY29uc29sZSdcbiAgICB9XG4gIH0sXG4gIHJlcGxhY2VDb25zb2xlOiB0cnVlLFxuICBjYXRlZ29yaWVzOiB7XG4gICAgZGVmYXVsdDoge1xuICAgICAgYXBwZW5kZXJzOiBbJ2RhdGVGaWxlJywgJ291dCddLFxuICAgICAgbGV2ZWw6IGxvZ2dlck9wdGlvbnMubGV2ZWxcbiAgICB9XG4gIH1cbn07XG5cbmxvZzRqcy5jb25maWd1cmUob3B0aW9uKTtcbk9iamVjdC5mcmVlemUobG9nNGpzKTtcblxuZXhwb3J0IGRlZmF1bHQgbmFtZSA9PiB7XG4gIGNvbnN0IHRpdGxlID0gbG9nZ2VyT3B0aW9ucy50aXRsZTtcbiAgY29uc3QgbG9nZ2VyID0gbG9nNGpzLmdldExvZ2dlcihgJHt0aXRsZX0gYCArIG5hbWUpO1xuICBsb2dnZXIubGV2ZWwgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnID8gJ29mZicgOiBsb2dnZXJPcHRpb25zLmxldmVsO1xuICByZXR1cm4gbG9nZ2VyO1xufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "logger.js"
      ],
      "names": [
        "option",
        "appenders",
        "dateFile",
        "type",
        "category",
        "pattern",
        "alwaysIncludePattern",
        "maxLogSize",
        "numBackups",
        "encoding",
        "filename",
        "loggerOptions",
        "file",
        "out",
        "replaceConsole",
        "categories",
        "default",
        "level",
        "log4js",
        "configure",
        "Object",
        "freeze",
        "name",
        "title",
        "logger",
        "getLogger",
        "process",
        "env",
        "NODE_ENV"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AAEA,MAAMA,MAAM,GAAG;AACbC,EAAAA,SAAS,EAAE;AACTC,IAAAA,QAAQ,EAAE;AACRC,MAAAA,IAAI,EAAE,UADE;AAERC,MAAAA,QAAQ,EAAE,MAFF;AAGRC,MAAAA,OAAO,EAAE,gBAHD;AAIRC,MAAAA,oBAAoB,EAAE,IAJd;AAKRC,MAAAA,UAAU,EAAE,OALJ;AAMRC,MAAAA,UAAU,EAAE,CANJ;AAORC,MAAAA,QAAQ,EAAE,OAPF;AAQRC,MAAAA,QAAQ,EAAEC,sBAAcC,IAAd,IAAsB;AARxB,KADD;AAWTC,IAAAA,GAAG,EAAE;AACHV,MAAAA,IAAI,EAAE,SADH;AAEHC,MAAAA,QAAQ,EAAE;AAFP;AAXI,GADE;AAiBbU,EAAAA,cAAc,EAAE,IAjBH;AAkBbC,EAAAA,UAAU,EAAE;AACVC,IAAAA,OAAO,EAAE;AACPf,MAAAA,SAAS,EAAE,CAAC,UAAD,EAAa,KAAb,CADJ;AAEPgB,MAAAA,KAAK,EAAEN,sBAAcM;AAFd;AADC;AAlBC,CAAf;AA0BAC,MAAM,CAACC,SAAP,CAAiBnB,MAAjB;AACAoB,MAAM,CAACC,MAAP,CAAcH,MAAd;;eAEeI,IAAI,IAAI;AACrB,QAAMC,KAAK,GAAGZ,sBAAcY,KAA5B;AACA,QAAMC,MAAM,GAAGN,MAAM,CAACO,SAAP,CAAkB,GAAEF,KAAM,GAAT,GAAcD,IAA/B,CAAf;AACAE,EAAAA,MAAM,CAACP,KAAP,GAAeS,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAAzB,GAAkC,KAAlC,GAA0CjB,sBAAcM,KAAvE;AACA,SAAOO,MAAP;AACD,C",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util",
      "sourcesContent": [
        "import * as log4js from 'log4js';\nimport { loggerOptions } from '../config';\n\nconst option = {\n  appenders: {\n    dateFile: {\n      type: 'dateFile',\n      category: 'http',\n      pattern: 'yyyy-MM-dd.log',\n      alwaysIncludePattern: true,\n      maxLogSize: 5242880,\n      numBackups: 3,\n      encoding: 'utf-8',\n      filename: loggerOptions.file || 'logs/logFile'\n    },\n    out: {\n      type: 'console',\n      category: 'console'\n    }\n  },\n  replaceConsole: true,\n  categories: {\n    default: {\n      appenders: ['dateFile', 'out'],\n      level: loggerOptions.level\n    }\n  }\n};\n\nlog4js.configure(option);\nObject.freeze(log4js);\n\nexport default name => {\n  const title = loggerOptions.title;\n  const logger = log4js.getLogger(`${title} ` + name);\n  logger.level = process.env.NODE_ENV === 'test' ? 'off' : loggerOptions.level;\n  return logger;\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557950775888
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/index.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _errorHandler = _interopRequireDefault(require(\"./error-handler\"));\n\nvar _notFound = _interopRequireDefault(require(\"./not-found\"));\n\nvar _httpLogger = _interopRequireDefault(require(\"./http-logger\"));\n\nvar _authMiddleware = _interopRequireDefault(require(\"./authMiddleware\"));\n\nvar _default = {\n  errorHandler: _errorHandler.default,\n  notFound: _notFound.default,\n  httpLogger: _httpLogger.default,\n  authMiddleware: _authMiddleware.default\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImVycm9ySGFuZGxlciIsIm5vdEZvdW5kIiwiaHR0cExvZ2dlciIsImF1dGhNaWRkbGV3YXJlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7ZUFFZTtBQUNiQSxFQUFBQSxZQUFZLEVBQVpBLHFCQURhO0FBRWJDLEVBQUFBLFFBQVEsRUFBUkEsaUJBRmE7QUFHYkMsRUFBQUEsVUFBVSxFQUFWQSxtQkFIYTtBQUliQyxFQUFBQSxjQUFjLEVBQWRBO0FBSmEsQyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbmF2cnV6am4vRG9jdW1lbnRzL0FyY2hpdmUvYmFja2VuZC9iYWNrL3NyYy9taWRkbGV3YXJlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGVycm9ySGFuZGxlciBmcm9tICcuL2Vycm9yLWhhbmRsZXInO1xuaW1wb3J0IG5vdEZvdW5kIGZyb20gJy4vbm90LWZvdW5kJztcbmltcG9ydCBodHRwTG9nZ2VyIGZyb20gJy4vaHR0cC1sb2dnZXInO1xuaW1wb3J0IGF1dGhNaWRkbGV3YXJlIGZyb20gJy4vYXV0aE1pZGRsZXdhcmUnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIGVycm9ySGFuZGxlcixcbiAgbm90Rm91bmQsXG4gIGh0dHBMb2dnZXIsXG4gIGF1dGhNaWRkbGV3YXJlXG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "errorHandler",
        "notFound",
        "httpLogger",
        "authMiddleware"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;eAEe;AACbA,EAAAA,YAAY,EAAZA,qBADa;AAEbC,EAAAA,QAAQ,EAARA,iBAFa;AAGbC,EAAAA,UAAU,EAAVA,mBAHa;AAIbC,EAAAA,cAAc,EAAdA;AAJa,C",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "sourcesContent": [
        "import errorHandler from './error-handler';\nimport notFound from './not-found';\nimport httpLogger from './http-logger';\nimport authMiddleware from './authMiddleware';\n\nexport default {\n  errorHandler,\n  notFound,\n  httpLogger,\n  authMiddleware\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557942485114
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/config.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/config.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/config.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loggerOptions = exports.port = void 0;\n\nrequire(\"dotenv/config\");\n\nconst port = 8080;\nexports.port = port;\nconst loggerOptions = {\n  file: 'logs/qweep',\n  level: 'debug',\n  title: 'Qweep'\n};\nexports.loggerOptions = loggerOptions;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJwb3J0IiwibG9nZ2VyT3B0aW9ucyIsImZpbGUiLCJsZXZlbCIsInRpdGxlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRU8sTUFBTUEsSUFBSSxHQUFHLElBQWI7O0FBRUEsTUFBTUMsYUFBYSxHQUFHO0FBQzNCQyxFQUFBQSxJQUFJLEVBQUUsWUFEcUI7QUFFM0JDLEVBQUFBLEtBQUssRUFBRSxPQUZvQjtBQUczQkMsRUFBQUEsS0FBSyxFQUFFO0FBSG9CLENBQXRCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9uYXZydXpqbi9Eb2N1bWVudHMvQXJjaGl2ZS9iYWNrZW5kL2JhY2svc3JjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdkb3RlbnYvY29uZmlnJztcblxuZXhwb3J0IGNvbnN0IHBvcnQgPSA4MDgwO1xuXG5leHBvcnQgY29uc3QgbG9nZ2VyT3B0aW9ucyA9IHtcbiAgZmlsZTogJ2xvZ3MvcXdlZXAnLFxuICBsZXZlbDogJ2RlYnVnJyxcbiAgdGl0bGU6ICdRd2VlcCdcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "port",
        "loggerOptions",
        "file",
        "level",
        "title"
      ],
      "mappings": ";;;;;;;AAAA;;AAEO,MAAMA,IAAI,GAAG,IAAb;;AAEA,MAAMC,aAAa,GAAG;AAC3BC,EAAAA,IAAI,EAAE,YADqB;AAE3BC,EAAAA,KAAK,EAAE,OAFoB;AAG3BC,EAAAA,KAAK,EAAE;AAHoB,CAAtB",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src",
      "sourcesContent": [
        "import 'dotenv/config';\n\nexport const port = 8080;\n\nexport const loggerOptions = {\n  file: 'logs/qweep',\n  level: 'debug',\n  title: 'Qweep'\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557949063022
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware/error-handler.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/error-handler.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/error-handler.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/error-handler.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
        "sourceFileName": "error-handler.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = async (ctx, next) => {\n  try {\n    await next();\n  } catch (e) {\n    ctx.app.emit('error', (e, ctx));\n  }\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9yLWhhbmRsZXIuanMiXSwibmFtZXMiOlsiY3R4IiwibmV4dCIsImUiLCJhcHAiLCJlbWl0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O2VBQWUsT0FBT0EsR0FBUCxFQUFZQyxJQUFaLEtBQXFCO0FBQ2xDLE1BQUk7QUFDRixVQUFNQSxJQUFJLEVBQVY7QUFDRCxHQUZELENBRUUsT0FBT0MsQ0FBUCxFQUFVO0FBQ1ZGLElBQUFBLEdBQUcsQ0FBQ0csR0FBSixDQUFRQyxJQUFSLENBQWEsT0FBYixHQUF1QkYsQ0FBQyxFQUFFRixHQUExQjtBQUNEO0FBQ0YsQyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbmF2cnV6am4vRG9jdW1lbnRzL0FyY2hpdmUvYmFja2VuZC9iYWNrL3NyYy9taWRkbGV3YXJlIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgYXN5bmMgKGN0eCwgbmV4dCkgPT4ge1xuICB0cnkge1xuICAgIGF3YWl0IG5leHQoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGN0eC5hcHAuZW1pdCgnZXJyb3InLCAoZSwgY3R4KSk7XG4gIH1cbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "error-handler.js"
      ],
      "names": [
        "ctx",
        "next",
        "e",
        "app",
        "emit"
      ],
      "mappings": ";;;;;;;eAAe,OAAOA,GAAP,EAAYC,IAAZ,KAAqB;AAClC,MAAI;AACF,UAAMA,IAAI,EAAV;AACD,GAFD,CAEE,OAAOC,CAAP,EAAU;AACVF,IAAAA,GAAG,CAACG,GAAJ,CAAQC,IAAR,CAAa,OAAb,GAAuBF,CAAC,EAAEF,GAA1B;AACD;AACF,C",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "sourcesContent": [
        "export default async (ctx, next) => {\n  try {\n    await next();\n  } catch (e) {\n    ctx.app.emit('error', (e, ctx));\n  }\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557941438804
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware/authMiddleware.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/authMiddleware.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/authMiddleware.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/authMiddleware.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
        "sourceFileName": "authMiddleware.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n//import { Context } from \"koa\";\nconst {\n  getTokenFromHeader\n} = require(\"../util/token/UserAuthManager\");\n\nconst TokenGenerator = require(\"../util/token/TokenGenerator\");\n\nconst jwtSettings = require(\"../../configs/config.json\").jwt; // Don't do redundant work for these paths\n// TODO: /code/token/verify routes (из тз), если правильно\n\n\nconst noAuthPrefixes = [\"/api/auth/\", \"/api/attendant/\", \"/api/signin/\", \"/api/signup/\", \"/api/refreshtoken\"];\n\nvar _default = async (ctx, next) => {\n  for (const prefix of noAuthPrefixes) {\n    if (ctx.url.startsWith(prefix)) {\n      await next();\n      return;\n    }\n  }\n\n  const authHeader = ctx.request.header.authorization;\n  const token = getTokenFromHeader(authHeader);\n  let isAdmin = false; // Admin token for access without signup\n\n  const env = process.env.NODE_ENV || \"dev\";\n  const adminToken = \"b32f9a44-151b-46ed-8cba-1eaeb58360da\";\n\n  if (env === \"dev\" && token === adminToken) {\n    isAdmin = true;\n  } //TODO: tokenType из settings\n\n\n  const auth = token ? TokenGenerator.verify(token, jwtSettings.jwtSecret) : null; // jwtSettings.tokenType.access\n\n  if (!auth && !isAdmin) {\n    return ctx.throw(401, \"Unauthorizaed\");\n  }\n\n  ctx.response.body = auth; //TODO: update user lastOnline after token verify\n\n  await next();\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhNaWRkbGV3YXJlLmpzIl0sIm5hbWVzIjpbImdldFRva2VuRnJvbUhlYWRlciIsInJlcXVpcmUiLCJUb2tlbkdlbmVyYXRvciIsImp3dFNldHRpbmdzIiwiand0Iiwibm9BdXRoUHJlZml4ZXMiLCJjdHgiLCJuZXh0IiwicHJlZml4IiwidXJsIiwic3RhcnRzV2l0aCIsImF1dGhIZWFkZXIiLCJyZXF1ZXN0IiwiaGVhZGVyIiwiYXV0aG9yaXphdGlvbiIsInRva2VuIiwiaXNBZG1pbiIsImVudiIsInByb2Nlc3MiLCJOT0RFX0VOViIsImFkbWluVG9rZW4iLCJhdXRoIiwidmVyaWZ5Iiwiand0U2VjcmV0IiwidGhyb3ciLCJyZXNwb25zZSIsImJvZHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUF5QkMsT0FBTyxDQUFDLCtCQUFELENBQXRDOztBQUNBLE1BQU1DLGNBQWMsR0FBR0QsT0FBTyxDQUFDLDhCQUFELENBQTlCOztBQUNBLE1BQU1FLFdBQVcsR0FBR0YsT0FBTyxDQUFDLDJCQUFELENBQVAsQ0FBcUNHLEdBQXpELEMsQ0FFQTtBQUNBOzs7QUFDQSxNQUFNQyxjQUFjLEdBQUcsQ0FDckIsWUFEcUIsRUFFckIsaUJBRnFCLEVBR3JCLGNBSHFCLEVBSXJCLGNBSnFCLEVBS3JCLG1CQUxxQixDQUF2Qjs7ZUFRZSxPQUFPQyxHQUFQLEVBQVlDLElBQVosS0FBcUI7QUFDbEMsT0FBSyxNQUFNQyxNQUFYLElBQXFCSCxjQUFyQixFQUFxQztBQUNuQyxRQUFJQyxHQUFHLENBQUNHLEdBQUosQ0FBUUMsVUFBUixDQUFtQkYsTUFBbkIsQ0FBSixFQUFnQztBQUM5QixZQUFNRCxJQUFJLEVBQVY7QUFDQTtBQUNEO0FBQ0Y7O0FBRUQsUUFBTUksVUFBVSxHQUFHTCxHQUFHLENBQUNNLE9BQUosQ0FBWUMsTUFBWixDQUFtQkMsYUFBdEM7QUFDQSxRQUFNQyxLQUFLLEdBQUdmLGtCQUFrQixDQUFDVyxVQUFELENBQWhDO0FBRUEsTUFBSUssT0FBTyxHQUFHLEtBQWQsQ0FYa0MsQ0FhbEM7O0FBQ0EsUUFBTUMsR0FBRyxHQUFHQyxPQUFPLENBQUNELEdBQVIsQ0FBWUUsUUFBWixJQUF3QixLQUFwQztBQUNBLFFBQU1DLFVBQVUsR0FBRyxzQ0FBbkI7O0FBRUEsTUFBSUgsR0FBRyxLQUFLLEtBQVIsSUFBaUJGLEtBQUssS0FBS0ssVUFBL0IsRUFBMkM7QUFDekNKLElBQUFBLE9BQU8sR0FBRyxJQUFWO0FBQ0QsR0FuQmlDLENBcUJsQzs7O0FBQ0EsUUFBTUssSUFBSSxHQUFHTixLQUFLLEdBQ1piLGNBQWMsQ0FBQ29CLE1BQWYsQ0FBc0JQLEtBQXRCLEVBQTZCWixXQUFXLENBQUNvQixTQUF6QyxDQURZLEdBRVosSUFGTixDQXRCa0MsQ0F3QnRCOztBQUVaLE1BQUksQ0FBQ0YsSUFBRCxJQUFTLENBQUNMLE9BQWQsRUFBdUI7QUFDckIsV0FBT1YsR0FBRyxDQUFDa0IsS0FBSixDQUFVLEdBQVYsRUFBZSxlQUFmLENBQVA7QUFDRDs7QUFFRGxCLEVBQUFBLEdBQUcsQ0FBQ21CLFFBQUosQ0FBYUMsSUFBYixHQUFvQkwsSUFBcEIsQ0E5QmtDLENBZ0NsQzs7QUFFQSxRQUFNZCxJQUFJLEVBQVY7QUFDRCxDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9uYXZydXpqbi9Eb2N1bWVudHMvQXJjaGl2ZS9iYWNrZW5kL2JhY2svc3JjL21pZGRsZXdhcmUiLCJzb3VyY2VzQ29udGVudCI6WyIvL2ltcG9ydCB7IENvbnRleHQgfSBmcm9tIFwia29hXCI7XG5jb25zdCB7IGdldFRva2VuRnJvbUhlYWRlciB9ID0gcmVxdWlyZShcIi4uL3V0aWwvdG9rZW4vVXNlckF1dGhNYW5hZ2VyXCIpO1xuY29uc3QgVG9rZW5HZW5lcmF0b3IgPSByZXF1aXJlKFwiLi4vdXRpbC90b2tlbi9Ub2tlbkdlbmVyYXRvclwiKTtcbmNvbnN0IGp3dFNldHRpbmdzID0gcmVxdWlyZShcIi4uLy4uL2NvbmZpZ3MvY29uZmlnLmpzb25cIikuand0O1xuXG4vLyBEb24ndCBkbyByZWR1bmRhbnQgd29yayBmb3IgdGhlc2UgcGF0aHNcbi8vIFRPRE86IC9jb2RlL3Rva2VuL3ZlcmlmeSByb3V0ZXMgKNC40Lcg0YLQtyksINC10YHQu9C4INC/0YDQsNCy0LjQu9GM0L3QvlxuY29uc3Qgbm9BdXRoUHJlZml4ZXMgPSBbXG4gIFwiL2FwaS9hdXRoL1wiLFxuICBcIi9hcGkvYXR0ZW5kYW50L1wiLFxuICBcIi9hcGkvc2lnbmluL1wiLFxuICBcIi9hcGkvc2lnbnVwL1wiLFxuICBcIi9hcGkvcmVmcmVzaHRva2VuXCJcbl07XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChjdHgsIG5leHQpID0+IHtcbiAgZm9yIChjb25zdCBwcmVmaXggb2Ygbm9BdXRoUHJlZml4ZXMpIHtcbiAgICBpZiAoY3R4LnVybC5zdGFydHNXaXRoKHByZWZpeCkpIHtcbiAgICAgIGF3YWl0IG5leHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBjb25zdCBhdXRoSGVhZGVyID0gY3R4LnJlcXVlc3QuaGVhZGVyLmF1dGhvcml6YXRpb247XG4gIGNvbnN0IHRva2VuID0gZ2V0VG9rZW5Gcm9tSGVhZGVyKGF1dGhIZWFkZXIpO1xuXG4gIGxldCBpc0FkbWluID0gZmFsc2U7XG5cbiAgLy8gQWRtaW4gdG9rZW4gZm9yIGFjY2VzcyB3aXRob3V0IHNpZ251cFxuICBjb25zdCBlbnYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCBcImRldlwiO1xuICBjb25zdCBhZG1pblRva2VuID0gXCJiMzJmOWE0NC0xNTFiLTQ2ZWQtOGNiYS0xZWFlYjU4MzYwZGFcIjtcblxuICBpZiAoZW52ID09PSBcImRldlwiICYmIHRva2VuID09PSBhZG1pblRva2VuKSB7XG4gICAgaXNBZG1pbiA9IHRydWU7XG4gIH1cblxuICAvL1RPRE86IHRva2VuVHlwZSDQuNC3IHNldHRpbmdzXG4gIGNvbnN0IGF1dGggPSB0b2tlblxuICAgICAgPyBUb2tlbkdlbmVyYXRvci52ZXJpZnkodG9rZW4sIGp3dFNldHRpbmdzLmp3dFNlY3JldClcbiAgICAgIDogbnVsbDsgLy8gand0U2V0dGluZ3MudG9rZW5UeXBlLmFjY2Vzc1xuXG4gIGlmICghYXV0aCAmJiAhaXNBZG1pbikge1xuICAgIHJldHVybiBjdHgudGhyb3coNDAxLCBcIlVuYXV0aG9yaXphZWRcIik7XG4gIH1cblxuICBjdHgucmVzcG9uc2UuYm9keSA9IGF1dGg7XG5cbiAgLy9UT0RPOiB1cGRhdGUgdXNlciBsYXN0T25saW5lIGFmdGVyIHRva2VuIHZlcmlmeVxuXG4gIGF3YWl0IG5leHQoKTtcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "authMiddleware.js"
      ],
      "names": [
        "getTokenFromHeader",
        "require",
        "TokenGenerator",
        "jwtSettings",
        "jwt",
        "noAuthPrefixes",
        "ctx",
        "next",
        "prefix",
        "url",
        "startsWith",
        "authHeader",
        "request",
        "header",
        "authorization",
        "token",
        "isAdmin",
        "env",
        "process",
        "NODE_ENV",
        "adminToken",
        "auth",
        "verify",
        "jwtSecret",
        "throw",
        "response",
        "body"
      ],
      "mappings": ";;;;;;;AAAA;AACA,MAAM;AAAEA,EAAAA;AAAF,IAAyBC,OAAO,CAAC,+BAAD,CAAtC;;AACA,MAAMC,cAAc,GAAGD,OAAO,CAAC,8BAAD,CAA9B;;AACA,MAAME,WAAW,GAAGF,OAAO,CAAC,2BAAD,CAAP,CAAqCG,GAAzD,C,CAEA;AACA;;;AACA,MAAMC,cAAc,GAAG,CACrB,YADqB,EAErB,iBAFqB,EAGrB,cAHqB,EAIrB,cAJqB,EAKrB,mBALqB,CAAvB;;eAQe,OAAOC,GAAP,EAAYC,IAAZ,KAAqB;AAClC,OAAK,MAAMC,MAAX,IAAqBH,cAArB,EAAqC;AACnC,QAAIC,GAAG,CAACG,GAAJ,CAAQC,UAAR,CAAmBF,MAAnB,CAAJ,EAAgC;AAC9B,YAAMD,IAAI,EAAV;AACA;AACD;AACF;;AAED,QAAMI,UAAU,GAAGL,GAAG,CAACM,OAAJ,CAAYC,MAAZ,CAAmBC,aAAtC;AACA,QAAMC,KAAK,GAAGf,kBAAkB,CAACW,UAAD,CAAhC;AAEA,MAAIK,OAAO,GAAG,KAAd,CAXkC,CAalC;;AACA,QAAMC,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAZ,IAAwB,KAApC;AACA,QAAMC,UAAU,GAAG,sCAAnB;;AAEA,MAAIH,GAAG,KAAK,KAAR,IAAiBF,KAAK,KAAKK,UAA/B,EAA2C;AACzCJ,IAAAA,OAAO,GAAG,IAAV;AACD,GAnBiC,CAqBlC;;;AACA,QAAMK,IAAI,GAAGN,KAAK,GACZb,cAAc,CAACoB,MAAf,CAAsBP,KAAtB,EAA6BZ,WAAW,CAACoB,SAAzC,CADY,GAEZ,IAFN,CAtBkC,CAwBtB;;AAEZ,MAAI,CAACF,IAAD,IAAS,CAACL,OAAd,EAAuB;AACrB,WAAOV,GAAG,CAACkB,KAAJ,CAAU,GAAV,EAAe,eAAf,CAAP;AACD;;AAEDlB,EAAAA,GAAG,CAACmB,QAAJ,CAAaC,IAAb,GAAoBL,IAApB,CA9BkC,CAgClC;;AAEA,QAAMd,IAAI,EAAV;AACD,C",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "sourcesContent": [
        "//import { Context } from \"koa\";\nconst { getTokenFromHeader } = require(\"../util/token/UserAuthManager\");\nconst TokenGenerator = require(\"../util/token/TokenGenerator\");\nconst jwtSettings = require(\"../../configs/config.json\").jwt;\n\n// Don't do redundant work for these paths\n// TODO: /code/token/verify routes (из тз), если правильно\nconst noAuthPrefixes = [\n  \"/api/auth/\",\n  \"/api/attendant/\",\n  \"/api/signin/\",\n  \"/api/signup/\",\n  \"/api/refreshtoken\"\n];\n\nexport default async (ctx, next) => {\n  for (const prefix of noAuthPrefixes) {\n    if (ctx.url.startsWith(prefix)) {\n      await next();\n      return;\n    }\n  }\n\n  const authHeader = ctx.request.header.authorization;\n  const token = getTokenFromHeader(authHeader);\n\n  let isAdmin = false;\n\n  // Admin token for access without signup\n  const env = process.env.NODE_ENV || \"dev\";\n  const adminToken = \"b32f9a44-151b-46ed-8cba-1eaeb58360da\";\n\n  if (env === \"dev\" && token === adminToken) {\n    isAdmin = true;\n  }\n\n  //TODO: tokenType из settings\n  const auth = token\n      ? TokenGenerator.verify(token, jwtSettings.jwtSecret)\n      : null; // jwtSettings.tokenType.access\n\n  if (!auth && !isAdmin) {\n    return ctx.throw(401, \"Unauthorizaed\");\n  }\n\n  ctx.response.body = auth;\n\n  //TODO: update user lastOnline after token verify\n\n  await next();\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557942719863
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/util/token\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/util/token/UserAuthManager.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token/UserAuthManager.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token/UserAuthManager.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token/UserAuthManager.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token",
        "sourceFileName": "UserAuthManager.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst jwtSettings = require(\"../../../configs/config.json\").jwt;\n\nconst getTokenFromHeader = authHeader => {\n  console.log(\"**********************\", authHeader);\n\n  if (authHeader) {\n    const authParts = authHeader.split(\" \");\n\n    if (authParts.length === 1) {\n      // TODO deprecated\n      return authHeader;\n    } else if (authParts.length === 2 && authParts[0].toLowerCase() === \"bearer\") {\n      return authParts[1];\n    }\n  }\n\n  return undefined;\n};\n\nclass UserAuthManager {\n  static getAccessPayloadForUser(user) {\n    return {\n      sub: jwtSettings.tokenType.access,\n      id: user._id,\n      name: user.name //TODO: payload  { phone, id: (id or null), iat, exp } ?\n\n    };\n  }\n\n  static getRefreshPayloadForUser(user) {\n    return {\n      sub: jwtSettings.tokenType.refresh,\n      id: user._id,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      imageUrl: user.imageUrl,\n      address: user.address,\n      phone: user.phone,\n      password: user.password // xz\n\n    };\n  } //TODO: не понял зачем это\n  // static async createOrUpdateUserFromRefreshToken(payload) {\n  //     const userRepository = getManager().getRepository(User);\n  //     const user = await User.findOne(payload.id); //TODO: import model\n  //     if (!user) {\n  //         const newUser = new User(\n  //             payload.id,\n  //             payload.name,\n  //             payload.job,\n  //             payload.statusMessage,\n  //             undefined, // seat not synced because it is flight-local\n  //             payload.email,\n  //             payload.language,\n  //             payload.auth,\n  //             new Date(payload.updated)\n  //         );\n  //         await userRepository.save(newUser);\n  //         return newUser;\n  //     }\n  //     const tokenUpdated = new Date(payload.updated);\n  //     if (user.updated < tokenUpdated) {\n  //         user.name = payload.name;\n  //         user.job = payload.job;\n  //         user.statusMessage = payload.statusMessage;\n  //         user.email = payload.email || \"\";\n  //         user.updated = tokenUpdated;\n  //         await userRepository.save(user);\n  //     }\n  //     return user;\n  // }\n\n\n}\n\nmodule.exports = {\n  UserAuthManager,\n  getTokenFromHeader\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJBdXRoTWFuYWdlci5qcyJdLCJuYW1lcyI6WyJqd3RTZXR0aW5ncyIsInJlcXVpcmUiLCJqd3QiLCJnZXRUb2tlbkZyb21IZWFkZXIiLCJhdXRoSGVhZGVyIiwiY29uc29sZSIsImxvZyIsImF1dGhQYXJ0cyIsInNwbGl0IiwibGVuZ3RoIiwidG9Mb3dlckNhc2UiLCJ1bmRlZmluZWQiLCJVc2VyQXV0aE1hbmFnZXIiLCJnZXRBY2Nlc3NQYXlsb2FkRm9yVXNlciIsInVzZXIiLCJzdWIiLCJ0b2tlblR5cGUiLCJhY2Nlc3MiLCJpZCIsIl9pZCIsIm5hbWUiLCJnZXRSZWZyZXNoUGF5bG9hZEZvclVzZXIiLCJyZWZyZXNoIiwic3VybmFtZSIsImVtYWlsIiwiaW1hZ2VVcmwiLCJhZGRyZXNzIiwicGhvbmUiLCJwYXNzd29yZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsV0FBVyxHQUFHQyxPQUFPLENBQUMsOEJBQUQsQ0FBUCxDQUF3Q0MsR0FBNUQ7O0FBRUEsTUFBTUMsa0JBQWtCLEdBQUdDLFVBQVUsSUFBSTtBQUN2Q0MsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksd0JBQVosRUFBc0NGLFVBQXRDOztBQUNBLE1BQUlBLFVBQUosRUFBZ0I7QUFDZCxVQUFNRyxTQUFTLEdBQUdILFVBQVUsQ0FBQ0ksS0FBWCxDQUFpQixHQUFqQixDQUFsQjs7QUFDQSxRQUFJRCxTQUFTLENBQUNFLE1BQVYsS0FBcUIsQ0FBekIsRUFBNEI7QUFDMUI7QUFDQSxhQUFPTCxVQUFQO0FBQ0QsS0FIRCxNQUdPLElBQ0xHLFNBQVMsQ0FBQ0UsTUFBVixLQUFxQixDQUFyQixJQUNBRixTQUFTLENBQUMsQ0FBRCxDQUFULENBQWFHLFdBQWIsT0FBK0IsUUFGMUIsRUFHTDtBQUNBLGFBQU9ILFNBQVMsQ0FBQyxDQUFELENBQWhCO0FBQ0Q7QUFDRjs7QUFDRCxTQUFPSSxTQUFQO0FBQ0QsQ0FmRDs7QUFpQkEsTUFBTUMsZUFBTixDQUFzQjtBQUNwQixTQUFPQyx1QkFBUCxDQUErQkMsSUFBL0IsRUFBcUM7QUFDbkMsV0FBTztBQUNMQyxNQUFBQSxHQUFHLEVBQUVmLFdBQVcsQ0FBQ2dCLFNBQVosQ0FBc0JDLE1BRHRCO0FBRUxDLE1BQUFBLEVBQUUsRUFBRUosSUFBSSxDQUFDSyxHQUZKO0FBR0xDLE1BQUFBLElBQUksRUFBRU4sSUFBSSxDQUFDTSxJQUhOLENBR1c7O0FBSFgsS0FBUDtBQUtEOztBQUVELFNBQU9DLHdCQUFQLENBQWdDUCxJQUFoQyxFQUFzQztBQUNwQyxXQUFPO0FBQ0xDLE1BQUFBLEdBQUcsRUFBRWYsV0FBVyxDQUFDZ0IsU0FBWixDQUFzQk0sT0FEdEI7QUFFTEosTUFBQUEsRUFBRSxFQUFFSixJQUFJLENBQUNLLEdBRko7QUFHTEMsTUFBQUEsSUFBSSxFQUFFTixJQUFJLENBQUNNLElBSE47QUFJTEcsTUFBQUEsT0FBTyxFQUFFVCxJQUFJLENBQUNTLE9BSlQ7QUFLTEMsTUFBQUEsS0FBSyxFQUFFVixJQUFJLENBQUNVLEtBTFA7QUFNTEMsTUFBQUEsUUFBUSxFQUFFWCxJQUFJLENBQUNXLFFBTlY7QUFPTEMsTUFBQUEsT0FBTyxFQUFFWixJQUFJLENBQUNZLE9BUFQ7QUFRTEMsTUFBQUEsS0FBSyxFQUFFYixJQUFJLENBQUNhLEtBUlA7QUFTTEMsTUFBQUEsUUFBUSxFQUFFZCxJQUFJLENBQUNjLFFBVFYsQ0FTbUI7O0FBVG5CLEtBQVA7QUFXRCxHQXJCbUIsQ0F1QnBCO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7O0FBekRvQjs7QUE0RHRCQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFBRWxCLEVBQUFBLGVBQUY7QUFBbUJULEVBQUFBO0FBQW5CLENBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9uYXZydXpqbi9Eb2N1bWVudHMvQXJjaGl2ZS9iYWNrZW5kL2JhY2svc3JjL3V0aWwvdG9rZW4iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBqd3RTZXR0aW5ncyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb25maWdzL2NvbmZpZy5qc29uXCIpLmp3dDtcblxuY29uc3QgZ2V0VG9rZW5Gcm9tSGVhZGVyID0gYXV0aEhlYWRlciA9PiB7XG4gIGNvbnNvbGUubG9nKFwiKioqKioqKioqKioqKioqKioqKioqKlwiLCBhdXRoSGVhZGVyKTtcbiAgaWYgKGF1dGhIZWFkZXIpIHtcbiAgICBjb25zdCBhdXRoUGFydHMgPSBhdXRoSGVhZGVyLnNwbGl0KFwiIFwiKTtcbiAgICBpZiAoYXV0aFBhcnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gVE9ETyBkZXByZWNhdGVkXG4gICAgICByZXR1cm4gYXV0aEhlYWRlcjtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgYXV0aFBhcnRzLmxlbmd0aCA9PT0gMiAmJlxuICAgICAgYXV0aFBhcnRzWzBdLnRvTG93ZXJDYXNlKCkgPT09IFwiYmVhcmVyXCJcbiAgICApIHtcbiAgICAgIHJldHVybiBhdXRoUGFydHNbMV07XG4gICAgfVxuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5jbGFzcyBVc2VyQXV0aE1hbmFnZXIge1xuICBzdGF0aWMgZ2V0QWNjZXNzUGF5bG9hZEZvclVzZXIodXNlcikge1xuICAgIHJldHVybiB7XG4gICAgICBzdWI6IGp3dFNldHRpbmdzLnRva2VuVHlwZS5hY2Nlc3MsXG4gICAgICBpZDogdXNlci5faWQsXG4gICAgICBuYW1lOiB1c2VyLm5hbWUgLy9UT0RPOiBwYXlsb2FkICB7IHBob25lLCBpZDogKGlkIG9yIG51bGwpLCBpYXQsIGV4cCB9ID9cbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGdldFJlZnJlc2hQYXlsb2FkRm9yVXNlcih1c2VyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Yjogand0U2V0dGluZ3MudG9rZW5UeXBlLnJlZnJlc2gsXG4gICAgICBpZDogdXNlci5faWQsXG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgIGltYWdlVXJsOiB1c2VyLmltYWdlVXJsLFxuICAgICAgYWRkcmVzczogdXNlci5hZGRyZXNzLFxuICAgICAgcGhvbmU6IHVzZXIucGhvbmUsXG4gICAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZCAvLyB4elxuICAgIH07XG4gIH1cblxuICAvL1RPRE86INC90LUg0L/QvtC90Y/QuyDQt9Cw0YfQtdC8INGN0YLQvlxuXG4gIC8vIHN0YXRpYyBhc3luYyBjcmVhdGVPclVwZGF0ZVVzZXJGcm9tUmVmcmVzaFRva2VuKHBheWxvYWQpIHtcbiAgLy8gICAgIGNvbnN0IHVzZXJSZXBvc2l0b3J5ID0gZ2V0TWFuYWdlcigpLmdldFJlcG9zaXRvcnkoVXNlcik7XG4gIC8vICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHBheWxvYWQuaWQpOyAvL1RPRE86IGltcG9ydCBtb2RlbFxuXG4gIC8vICAgICBpZiAoIXVzZXIpIHtcbiAgLy8gICAgICAgICBjb25zdCBuZXdVc2VyID0gbmV3IFVzZXIoXG4gIC8vICAgICAgICAgICAgIHBheWxvYWQuaWQsXG4gIC8vICAgICAgICAgICAgIHBheWxvYWQubmFtZSxcbiAgLy8gICAgICAgICAgICAgcGF5bG9hZC5qb2IsXG4gIC8vICAgICAgICAgICAgIHBheWxvYWQuc3RhdHVzTWVzc2FnZSxcbiAgLy8gICAgICAgICAgICAgdW5kZWZpbmVkLCAvLyBzZWF0IG5vdCBzeW5jZWQgYmVjYXVzZSBpdCBpcyBmbGlnaHQtbG9jYWxcbiAgLy8gICAgICAgICAgICAgcGF5bG9hZC5lbWFpbCxcbiAgLy8gICAgICAgICAgICAgcGF5bG9hZC5sYW5ndWFnZSxcbiAgLy8gICAgICAgICAgICAgcGF5bG9hZC5hdXRoLFxuICAvLyAgICAgICAgICAgICBuZXcgRGF0ZShwYXlsb2FkLnVwZGF0ZWQpXG4gIC8vICAgICAgICAgKTtcbiAgLy8gICAgICAgICBhd2FpdCB1c2VyUmVwb3NpdG9yeS5zYXZlKG5ld1VzZXIpO1xuICAvLyAgICAgICAgIHJldHVybiBuZXdVc2VyO1xuICAvLyAgICAgfVxuXG4gIC8vICAgICBjb25zdCB0b2tlblVwZGF0ZWQgPSBuZXcgRGF0ZShwYXlsb2FkLnVwZGF0ZWQpO1xuXG4gIC8vICAgICBpZiAodXNlci51cGRhdGVkIDwgdG9rZW5VcGRhdGVkKSB7XG4gIC8vICAgICAgICAgdXNlci5uYW1lID0gcGF5bG9hZC5uYW1lO1xuICAvLyAgICAgICAgIHVzZXIuam9iID0gcGF5bG9hZC5qb2I7XG4gIC8vICAgICAgICAgdXNlci5zdGF0dXNNZXNzYWdlID0gcGF5bG9hZC5zdGF0dXNNZXNzYWdlO1xuICAvLyAgICAgICAgIHVzZXIuZW1haWwgPSBwYXlsb2FkLmVtYWlsIHx8IFwiXCI7XG4gIC8vICAgICAgICAgdXNlci51cGRhdGVkID0gdG9rZW5VcGRhdGVkO1xuICAvLyAgICAgICAgIGF3YWl0IHVzZXJSZXBvc2l0b3J5LnNhdmUodXNlcik7XG4gIC8vICAgICB9XG5cbiAgLy8gICAgIHJldHVybiB1c2VyO1xuICAvLyB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0geyBVc2VyQXV0aE1hbmFnZXIsIGdldFRva2VuRnJvbUhlYWRlciB9O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "UserAuthManager.js"
      ],
      "names": [
        "jwtSettings",
        "require",
        "jwt",
        "getTokenFromHeader",
        "authHeader",
        "console",
        "log",
        "authParts",
        "split",
        "length",
        "toLowerCase",
        "undefined",
        "UserAuthManager",
        "getAccessPayloadForUser",
        "user",
        "sub",
        "tokenType",
        "access",
        "id",
        "_id",
        "name",
        "getRefreshPayloadForUser",
        "refresh",
        "surname",
        "email",
        "imageUrl",
        "address",
        "phone",
        "password",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,WAAW,GAAGC,OAAO,CAAC,8BAAD,CAAP,CAAwCC,GAA5D;;AAEA,MAAMC,kBAAkB,GAAGC,UAAU,IAAI;AACvCC,EAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCF,UAAtC;;AACA,MAAIA,UAAJ,EAAgB;AACd,UAAMG,SAAS,GAAGH,UAAU,CAACI,KAAX,CAAiB,GAAjB,CAAlB;;AACA,QAAID,SAAS,CAACE,MAAV,KAAqB,CAAzB,EAA4B;AAC1B;AACA,aAAOL,UAAP;AACD,KAHD,MAGO,IACLG,SAAS,CAACE,MAAV,KAAqB,CAArB,IACAF,SAAS,CAAC,CAAD,CAAT,CAAaG,WAAb,OAA+B,QAF1B,EAGL;AACA,aAAOH,SAAS,CAAC,CAAD,CAAhB;AACD;AACF;;AACD,SAAOI,SAAP;AACD,CAfD;;AAiBA,MAAMC,eAAN,CAAsB;AACpB,SAAOC,uBAAP,CAA+BC,IAA/B,EAAqC;AACnC,WAAO;AACLC,MAAAA,GAAG,EAAEf,WAAW,CAACgB,SAAZ,CAAsBC,MADtB;AAELC,MAAAA,EAAE,EAAEJ,IAAI,CAACK,GAFJ;AAGLC,MAAAA,IAAI,EAAEN,IAAI,CAACM,IAHN,CAGW;;AAHX,KAAP;AAKD;;AAED,SAAOC,wBAAP,CAAgCP,IAAhC,EAAsC;AACpC,WAAO;AACLC,MAAAA,GAAG,EAAEf,WAAW,CAACgB,SAAZ,CAAsBM,OADtB;AAELJ,MAAAA,EAAE,EAAEJ,IAAI,CAACK,GAFJ;AAGLC,MAAAA,IAAI,EAAEN,IAAI,CAACM,IAHN;AAILG,MAAAA,OAAO,EAAET,IAAI,CAACS,OAJT;AAKLC,MAAAA,KAAK,EAAEV,IAAI,CAACU,KALP;AAMLC,MAAAA,QAAQ,EAAEX,IAAI,CAACW,QANV;AAOLC,MAAAA,OAAO,EAAEZ,IAAI,CAACY,OAPT;AAQLC,MAAAA,KAAK,EAAEb,IAAI,CAACa,KARP;AASLC,MAAAA,QAAQ,EAAEd,IAAI,CAACc,QATV,CASmB;;AATnB,KAAP;AAWD,GArBmB,CAuBpB;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;AAzDoB;;AA4DtBC,MAAM,CAACC,OAAP,GAAiB;AAAElB,EAAAA,eAAF;AAAmBT,EAAAA;AAAnB,CAAjB",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token",
      "sourcesContent": [
        "const jwtSettings = require(\"../../../configs/config.json\").jwt;\n\nconst getTokenFromHeader = authHeader => {\n  console.log(\"**********************\", authHeader);\n  if (authHeader) {\n    const authParts = authHeader.split(\" \");\n    if (authParts.length === 1) {\n      // TODO deprecated\n      return authHeader;\n    } else if (\n      authParts.length === 2 &&\n      authParts[0].toLowerCase() === \"bearer\"\n    ) {\n      return authParts[1];\n    }\n  }\n  return undefined;\n};\n\nclass UserAuthManager {\n  static getAccessPayloadForUser(user) {\n    return {\n      sub: jwtSettings.tokenType.access,\n      id: user._id,\n      name: user.name //TODO: payload  { phone, id: (id or null), iat, exp } ?\n    };\n  }\n\n  static getRefreshPayloadForUser(user) {\n    return {\n      sub: jwtSettings.tokenType.refresh,\n      id: user._id,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      imageUrl: user.imageUrl,\n      address: user.address,\n      phone: user.phone,\n      password: user.password // xz\n    };\n  }\n\n  //TODO: не понял зачем это\n\n  // static async createOrUpdateUserFromRefreshToken(payload) {\n  //     const userRepository = getManager().getRepository(User);\n  //     const user = await User.findOne(payload.id); //TODO: import model\n\n  //     if (!user) {\n  //         const newUser = new User(\n  //             payload.id,\n  //             payload.name,\n  //             payload.job,\n  //             payload.statusMessage,\n  //             undefined, // seat not synced because it is flight-local\n  //             payload.email,\n  //             payload.language,\n  //             payload.auth,\n  //             new Date(payload.updated)\n  //         );\n  //         await userRepository.save(newUser);\n  //         return newUser;\n  //     }\n\n  //     const tokenUpdated = new Date(payload.updated);\n\n  //     if (user.updated < tokenUpdated) {\n  //         user.name = payload.name;\n  //         user.job = payload.job;\n  //         user.statusMessage = payload.statusMessage;\n  //         user.email = payload.email || \"\";\n  //         user.updated = tokenUpdated;\n  //         await userRepository.save(user);\n  //     }\n\n  //     return user;\n  // }\n}\n\nmodule.exports = { UserAuthManager, getTokenFromHeader };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557941829317
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/util/token\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/util/token/TokenGenerator.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token/TokenGenerator.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token/TokenGenerator.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token/TokenGenerator.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token",
        "sourceFileName": "TokenGenerator.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst jwtSettings = require(\"../../../configs/config.json\").jwt;\n\nconst {\n  UserAuthManager\n} = require(\"./UserAuthManager\"); // TODO: Почему не назвать module TokenManager и не запихнуть сюда getTokenFromHeader() ?\n\n\nclass TokenGenerator {\n  static sign(user) {\n    const payloadCommon = UserAuthManager.getAccessPayloadForUser(user);\n    const payloadRefresh = UserAuthManager.getRefreshPayloadForUser(user);\n    const options = {\n      expiresIn: jwtSettings.expiresIn,\n      algorithm: jwtSettings.algorithm\n    };\n    const refreshOptions = {\n      expiresIn: jwtSettings.refreshExpiresIn,\n      algorithm: jwtSettings.algorithm\n    };\n    return {\n      token: \"Bearer \" + jwt.sign(payloadCommon, jwtSettings.jwtSecret, options),\n      refreshToken: \"Bearer \" + jwt.sign(payloadRefresh, jwtSettings.jwtSecret, refreshOptions)\n    };\n  }\n\n  static verify(token, secret) {\n    return jwt.verify(token, secret);\n  }\n\n}\n\nmodule.exports = TokenGenerator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRva2VuR2VuZXJhdG9yLmpzIl0sIm5hbWVzIjpbImp3dCIsInJlcXVpcmUiLCJqd3RTZXR0aW5ncyIsIlVzZXJBdXRoTWFuYWdlciIsIlRva2VuR2VuZXJhdG9yIiwic2lnbiIsInVzZXIiLCJwYXlsb2FkQ29tbW9uIiwiZ2V0QWNjZXNzUGF5bG9hZEZvclVzZXIiLCJwYXlsb2FkUmVmcmVzaCIsImdldFJlZnJlc2hQYXlsb2FkRm9yVXNlciIsIm9wdGlvbnMiLCJleHBpcmVzSW4iLCJhbGdvcml0aG0iLCJyZWZyZXNoT3B0aW9ucyIsInJlZnJlc2hFeHBpcmVzSW4iLCJ0b2tlbiIsImp3dFNlY3JldCIsInJlZnJlc2hUb2tlbiIsInZlcmlmeSIsInNlY3JldCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsY0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxXQUFXLEdBQUdELE9BQU8sQ0FBQyw4QkFBRCxDQUFQLENBQXdDRCxHQUE1RDs7QUFDQSxNQUFNO0FBQUVHLEVBQUFBO0FBQUYsSUFBc0JGLE9BQU8sQ0FBQyxtQkFBRCxDQUFuQyxDLENBRUE7OztBQUVBLE1BQU1HLGNBQU4sQ0FBcUI7QUFDbkIsU0FBT0MsSUFBUCxDQUFZQyxJQUFaLEVBQWtCO0FBQ2hCLFVBQU1DLGFBQWEsR0FBR0osZUFBZSxDQUFDSyx1QkFBaEIsQ0FBd0NGLElBQXhDLENBQXRCO0FBQ0EsVUFBTUcsY0FBYyxHQUFHTixlQUFlLENBQUNPLHdCQUFoQixDQUF5Q0osSUFBekMsQ0FBdkI7QUFFQSxVQUFNSyxPQUFPLEdBQUc7QUFDZEMsTUFBQUEsU0FBUyxFQUFFVixXQUFXLENBQUNVLFNBRFQ7QUFFZEMsTUFBQUEsU0FBUyxFQUFFWCxXQUFXLENBQUNXO0FBRlQsS0FBaEI7QUFLQSxVQUFNQyxjQUFjLEdBQUc7QUFDckJGLE1BQUFBLFNBQVMsRUFBRVYsV0FBVyxDQUFDYSxnQkFERjtBQUVyQkYsTUFBQUEsU0FBUyxFQUFFWCxXQUFXLENBQUNXO0FBRkYsS0FBdkI7QUFLQSxXQUFPO0FBQ0xHLE1BQUFBLEtBQUssRUFDSCxZQUFZaEIsR0FBRyxDQUFDSyxJQUFKLENBQVNFLGFBQVQsRUFBd0JMLFdBQVcsQ0FBQ2UsU0FBcEMsRUFBK0NOLE9BQS9DLENBRlQ7QUFHTE8sTUFBQUEsWUFBWSxFQUNWLFlBQVlsQixHQUFHLENBQUNLLElBQUosQ0FBU0ksY0FBVCxFQUF5QlAsV0FBVyxDQUFDZSxTQUFyQyxFQUFnREgsY0FBaEQ7QUFKVCxLQUFQO0FBTUQ7O0FBRUQsU0FBT0ssTUFBUCxDQUFjSCxLQUFkLEVBQXFCSSxNQUFyQixFQUE2QjtBQUMzQixXQUFPcEIsR0FBRyxDQUFDbUIsTUFBSixDQUFXSCxLQUFYLEVBQWtCSSxNQUFsQixDQUFQO0FBQ0Q7O0FBekJrQjs7QUE0QnJCQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJsQixjQUFqQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbmF2cnV6am4vRG9jdW1lbnRzL0FyY2hpdmUvYmFja2VuZC9iYWNrL3NyYy91dGlsL3Rva2VuIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcbmNvbnN0IGp3dFNldHRpbmdzID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbmZpZ3MvY29uZmlnLmpzb25cIikuand0O1xuY29uc3QgeyBVc2VyQXV0aE1hbmFnZXIgfSA9IHJlcXVpcmUoXCIuL1VzZXJBdXRoTWFuYWdlclwiKTtcblxuLy8gVE9ETzog0J/QvtGH0LXQvNGDINC90LUg0L3QsNC30LLQsNGC0YwgbW9kdWxlIFRva2VuTWFuYWdlciDQuCDQvdC1INC30LDQv9C40YXQvdGD0YLRjCDRgdGO0LTQsCBnZXRUb2tlbkZyb21IZWFkZXIoKSA/XG5cbmNsYXNzIFRva2VuR2VuZXJhdG9yIHtcbiAgc3RhdGljIHNpZ24odXNlcikge1xuICAgIGNvbnN0IHBheWxvYWRDb21tb24gPSBVc2VyQXV0aE1hbmFnZXIuZ2V0QWNjZXNzUGF5bG9hZEZvclVzZXIodXNlcik7XG4gICAgY29uc3QgcGF5bG9hZFJlZnJlc2ggPSBVc2VyQXV0aE1hbmFnZXIuZ2V0UmVmcmVzaFBheWxvYWRGb3JVc2VyKHVzZXIpO1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIGV4cGlyZXNJbjogand0U2V0dGluZ3MuZXhwaXJlc0luLFxuICAgICAgYWxnb3JpdGhtOiBqd3RTZXR0aW5ncy5hbGdvcml0aG1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVmcmVzaE9wdGlvbnMgPSB7XG4gICAgICBleHBpcmVzSW46IGp3dFNldHRpbmdzLnJlZnJlc2hFeHBpcmVzSW4sXG4gICAgICBhbGdvcml0aG06IGp3dFNldHRpbmdzLmFsZ29yaXRobVxuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG9rZW46XG4gICAgICAgIFwiQmVhcmVyIFwiICsgand0LnNpZ24ocGF5bG9hZENvbW1vbiwgand0U2V0dGluZ3Muand0U2VjcmV0LCBvcHRpb25zKSxcbiAgICAgIHJlZnJlc2hUb2tlbjpcbiAgICAgICAgXCJCZWFyZXIgXCIgKyBqd3Quc2lnbihwYXlsb2FkUmVmcmVzaCwgand0U2V0dGluZ3Muand0U2VjcmV0LCByZWZyZXNoT3B0aW9ucylcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIHZlcmlmeSh0b2tlbiwgc2VjcmV0KSB7XG4gICAgcmV0dXJuIGp3dC52ZXJpZnkodG9rZW4sIHNlY3JldCk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBUb2tlbkdlbmVyYXRvcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "TokenGenerator.js"
      ],
      "names": [
        "jwt",
        "require",
        "jwtSettings",
        "UserAuthManager",
        "TokenGenerator",
        "sign",
        "user",
        "payloadCommon",
        "getAccessPayloadForUser",
        "payloadRefresh",
        "getRefreshPayloadForUser",
        "options",
        "expiresIn",
        "algorithm",
        "refreshOptions",
        "refreshExpiresIn",
        "token",
        "jwtSecret",
        "refreshToken",
        "verify",
        "secret",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,cAAD,CAAnB;;AACA,MAAMC,WAAW,GAAGD,OAAO,CAAC,8BAAD,CAAP,CAAwCD,GAA5D;;AACA,MAAM;AAAEG,EAAAA;AAAF,IAAsBF,OAAO,CAAC,mBAAD,CAAnC,C,CAEA;;;AAEA,MAAMG,cAAN,CAAqB;AACnB,SAAOC,IAAP,CAAYC,IAAZ,EAAkB;AAChB,UAAMC,aAAa,GAAGJ,eAAe,CAACK,uBAAhB,CAAwCF,IAAxC,CAAtB;AACA,UAAMG,cAAc,GAAGN,eAAe,CAACO,wBAAhB,CAAyCJ,IAAzC,CAAvB;AAEA,UAAMK,OAAO,GAAG;AACdC,MAAAA,SAAS,EAAEV,WAAW,CAACU,SADT;AAEdC,MAAAA,SAAS,EAAEX,WAAW,CAACW;AAFT,KAAhB;AAKA,UAAMC,cAAc,GAAG;AACrBF,MAAAA,SAAS,EAAEV,WAAW,CAACa,gBADF;AAErBF,MAAAA,SAAS,EAAEX,WAAW,CAACW;AAFF,KAAvB;AAKA,WAAO;AACLG,MAAAA,KAAK,EACH,YAAYhB,GAAG,CAACK,IAAJ,CAASE,aAAT,EAAwBL,WAAW,CAACe,SAApC,EAA+CN,OAA/C,CAFT;AAGLO,MAAAA,YAAY,EACV,YAAYlB,GAAG,CAACK,IAAJ,CAASI,cAAT,EAAyBP,WAAW,CAACe,SAArC,EAAgDH,cAAhD;AAJT,KAAP;AAMD;;AAED,SAAOK,MAAP,CAAcH,KAAd,EAAqBI,MAArB,EAA6B;AAC3B,WAAOpB,GAAG,CAACmB,MAAJ,CAAWH,KAAX,EAAkBI,MAAlB,CAAP;AACD;;AAzBkB;;AA4BrBC,MAAM,CAACC,OAAP,GAAiBlB,cAAjB",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token",
      "sourcesContent": [
        "const jwt = require(\"jsonwebtoken\");\nconst jwtSettings = require(\"../../../configs/config.json\").jwt;\nconst { UserAuthManager } = require(\"./UserAuthManager\");\n\n// TODO: Почему не назвать module TokenManager и не запихнуть сюда getTokenFromHeader() ?\n\nclass TokenGenerator {\n  static sign(user) {\n    const payloadCommon = UserAuthManager.getAccessPayloadForUser(user);\n    const payloadRefresh = UserAuthManager.getRefreshPayloadForUser(user);\n\n    const options = {\n      expiresIn: jwtSettings.expiresIn,\n      algorithm: jwtSettings.algorithm\n    };\n\n    const refreshOptions = {\n      expiresIn: jwtSettings.refreshExpiresIn,\n      algorithm: jwtSettings.algorithm\n    };\n\n    return {\n      token:\n        \"Bearer \" + jwt.sign(payloadCommon, jwtSettings.jwtSecret, options),\n      refreshToken:\n        \"Bearer \" + jwt.sign(payloadRefresh, jwtSettings.jwtSecret, refreshOptions)\n    };\n  }\n\n  static verify(token, secret) {\n    return jwt.verify(token, secret);\n  }\n}\n\nmodule.exports = TokenGenerator;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557941829331
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/router\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/router/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/router",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/router/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/router/index.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/router/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/router",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _koaCompose = _interopRequireDefault(require(\"koa-compose\"));\n\nvar _auth = _interopRequireDefault(require(\"./auth\"));\n\nvar _commonUser = _interopRequireDefault(require(\"./common-user\"));\n\nfunction combineRoutes(routes) {\n  if (!Array.isArray(routes)) routes = [].prototype.slice.call(arguments);\n  const middleware = [];\n  routes.forEach(router => {\n    middleware.push(router.routes());\n    if (router.allowedMethods) middleware.push(router.allowedMethods());\n  });\n  return (0, _koaCompose.default)(middleware);\n}\n\nconst routes = [_auth.default, _commonUser.default];\n\nvar _default = () => combineRoutes(routes);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImNvbWJpbmVSb3V0ZXMiLCJyb3V0ZXMiLCJBcnJheSIsImlzQXJyYXkiLCJwcm90b3R5cGUiLCJzbGljZSIsImNhbGwiLCJhcmd1bWVudHMiLCJtaWRkbGV3YXJlIiwiZm9yRWFjaCIsInJvdXRlciIsInB1c2giLCJhbGxvd2VkTWV0aG9kcyIsImF1dGgiLCJjb21tb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUVBLFNBQVNBLGFBQVQsQ0FBdUJDLE1BQXZCLEVBQStCO0FBQzdCLE1BQUksQ0FBQ0MsS0FBSyxDQUFDQyxPQUFOLENBQWNGLE1BQWQsQ0FBTCxFQUE0QkEsTUFBTSxHQUFHLEdBQUdHLFNBQUgsQ0FBYUMsS0FBYixDQUFtQkMsSUFBbkIsQ0FBd0JDLFNBQXhCLENBQVQ7QUFFNUIsUUFBTUMsVUFBVSxHQUFHLEVBQW5CO0FBQ0FQLEVBQUFBLE1BQU0sQ0FBQ1EsT0FBUCxDQUFlQyxNQUFNLElBQUk7QUFDdkJGLElBQUFBLFVBQVUsQ0FBQ0csSUFBWCxDQUFnQkQsTUFBTSxDQUFDVCxNQUFQLEVBQWhCO0FBQ0EsUUFBSVMsTUFBTSxDQUFDRSxjQUFYLEVBQTJCSixVQUFVLENBQUNHLElBQVgsQ0FBZ0JELE1BQU0sQ0FBQ0UsY0FBUCxFQUFoQjtBQUM1QixHQUhEO0FBS0EsU0FBTyx5QkFBUUosVUFBUixDQUFQO0FBQ0Q7O0FBRUQsTUFBTVAsTUFBTSxHQUFHLENBQUNZLGFBQUQsRUFBT0MsbUJBQVAsQ0FBZjs7ZUFFZSxNQUFNZCxhQUFhLENBQUNDLE1BQUQsQyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbmF2cnV6am4vRG9jdW1lbnRzL0FyY2hpdmUvYmFja2VuZC9iYWNrL3NyYy9yb3V0ZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29tcG9zZSBmcm9tICdrb2EtY29tcG9zZSc7XG5pbXBvcnQgYXV0aCBmcm9tICcuL2F1dGgnO1xuaW1wb3J0IGNvbW1vbiBmcm9tICcuL2NvbW1vbi11c2VyJ1xuXG5mdW5jdGlvbiBjb21iaW5lUm91dGVzKHJvdXRlcykge1xuICBpZiAoIUFycmF5LmlzQXJyYXkocm91dGVzKSkgcm91dGVzID0gW10ucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblxuICBjb25zdCBtaWRkbGV3YXJlID0gW107XG4gIHJvdXRlcy5mb3JFYWNoKHJvdXRlciA9PiB7XG4gICAgbWlkZGxld2FyZS5wdXNoKHJvdXRlci5yb3V0ZXMoKSk7XG4gICAgaWYgKHJvdXRlci5hbGxvd2VkTWV0aG9kcykgbWlkZGxld2FyZS5wdXNoKHJvdXRlci5hbGxvd2VkTWV0aG9kcygpKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNvbXBvc2UobWlkZGxld2FyZSk7XG59XG5cbmNvbnN0IHJvdXRlcyA9IFthdXRoLCBjb21tb25dO1xuXG5leHBvcnQgZGVmYXVsdCAoKSA9PiBjb21iaW5lUm91dGVzKHJvdXRlcyk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "combineRoutes",
        "routes",
        "Array",
        "isArray",
        "prototype",
        "slice",
        "call",
        "arguments",
        "middleware",
        "forEach",
        "router",
        "push",
        "allowedMethods",
        "auth",
        "common"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;AAEA,SAASA,aAAT,CAAuBC,MAAvB,EAA+B;AAC7B,MAAI,CAACC,KAAK,CAACC,OAAN,CAAcF,MAAd,CAAL,EAA4BA,MAAM,GAAG,GAAGG,SAAH,CAAaC,KAAb,CAAmBC,IAAnB,CAAwBC,SAAxB,CAAT;AAE5B,QAAMC,UAAU,GAAG,EAAnB;AACAP,EAAAA,MAAM,CAACQ,OAAP,CAAeC,MAAM,IAAI;AACvBF,IAAAA,UAAU,CAACG,IAAX,CAAgBD,MAAM,CAACT,MAAP,EAAhB;AACA,QAAIS,MAAM,CAACE,cAAX,EAA2BJ,UAAU,CAACG,IAAX,CAAgBD,MAAM,CAACE,cAAP,EAAhB;AAC5B,GAHD;AAKA,SAAO,yBAAQJ,UAAR,CAAP;AACD;;AAED,MAAMP,MAAM,GAAG,CAACY,aAAD,EAAOC,mBAAP,CAAf;;eAEe,MAAMd,aAAa,CAACC,MAAD,C",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/router",
      "sourcesContent": [
        "import compose from 'koa-compose';\nimport auth from './auth';\nimport common from './common-user'\n\nfunction combineRoutes(routes) {\n  if (!Array.isArray(routes)) routes = [].prototype.slice.call(arguments);\n\n  const middleware = [];\n  routes.forEach(router => {\n    middleware.push(router.routes());\n    if (router.allowedMethods) middleware.push(router.allowedMethods());\n  });\n\n  return compose(middleware);\n}\n\nconst routes = [auth, common];\n\nexport default () => combineRoutes(routes);\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557941438807
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/router\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/router/auth.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/router",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/router/auth.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/router/auth.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/router/auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/router",
        "sourceFileName": "auth.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _koaRouter = _interopRequireDefault(require(\"koa-router\"));\n\nvar _User = _interopRequireDefault(require(\"../controllers/User\"));\n\nvar _TokenGenerator = _interopRequireDefault(require(\"../util/token/TokenGenerator\"));\n\nconst router = new _koaRouter.default();\n\nvar _default = router.prefix(\"/api/auth\").post(\"/:action\", async ctx => {\n  switch (ctx.params.action) {\n    case \"signup\":\n      {\n        const user = _User.default.createUser(ctx.request.body);\n\n        ctx.response.body = await _TokenGenerator.default.sign(user);\n        break;\n      }\n\n    case \"signin\":\n      {\n        console.log(ctx.request.body.email);\n\n        const user = _User.default.findUserWithParam(ctx.request.body.email);\n\n        ctx.response.body = await _TokenGenerator.default.sign(user);\n        break;\n      }\n\n    default:\n      {\n        return ctx.throw(402, \"Action not found\");\n      }\n  }\n});\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsicm91dGVyIiwiUm91dGVyIiwicHJlZml4IiwicG9zdCIsImN0eCIsInBhcmFtcyIsImFjdGlvbiIsInVzZXIiLCJVc2VyIiwiY3JlYXRlVXNlciIsInJlcXVlc3QiLCJib2R5IiwicmVzcG9uc2UiLCJUb2tlbkdlbmVyYXRvciIsInNpZ24iLCJjb25zb2xlIiwibG9nIiwiZW1haWwiLCJmaW5kVXNlcldpdGhQYXJhbSIsInRocm93Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFFQSxNQUFNQSxNQUFNLEdBQUcsSUFBSUMsa0JBQUosRUFBZjs7ZUFFZUQsTUFBTSxDQUNsQkUsTUFEWSxDQUNMLFdBREssRUFHWkMsSUFIWSxDQUdQLFVBSE8sRUFHSyxNQUFNQyxHQUFOLElBQWE7QUFDN0IsVUFBUUEsR0FBRyxDQUFDQyxNQUFKLENBQVdDLE1BQW5CO0FBQ0UsU0FBSyxRQUFMO0FBQWU7QUFDYixjQUFNQyxJQUFJLEdBQUdDLGNBQUtDLFVBQUwsQ0FBZ0JMLEdBQUcsQ0FBQ00sT0FBSixDQUFZQyxJQUE1QixDQUFiOztBQUNBUCxRQUFBQSxHQUFHLENBQUNRLFFBQUosQ0FBYUQsSUFBYixHQUFvQixNQUFNRSx3QkFBZUMsSUFBZixDQUFvQlAsSUFBcEIsQ0FBMUI7QUFDQTtBQUNEOztBQUNELFNBQUssUUFBTDtBQUFlO0FBQ2JRLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZWixHQUFHLENBQUNNLE9BQUosQ0FBWUMsSUFBWixDQUFpQk0sS0FBN0I7O0FBQ0EsY0FBTVYsSUFBSSxHQUFHQyxjQUFLVSxpQkFBTCxDQUF1QmQsR0FBRyxDQUFDTSxPQUFKLENBQVlDLElBQVosQ0FBaUJNLEtBQXhDLENBQWI7O0FBQ0FiLFFBQUFBLEdBQUcsQ0FBQ1EsUUFBSixDQUFhRCxJQUFiLEdBQW9CLE1BQU1FLHdCQUFlQyxJQUFmLENBQW9CUCxJQUFwQixDQUExQjtBQUNBO0FBQ0Q7O0FBQ0Q7QUFBUztBQUNQLGVBQU9ILEdBQUcsQ0FBQ2UsS0FBSixDQUFVLEdBQVYsRUFBZSxrQkFBZixDQUFQO0FBQ0Q7QUFkSDtBQWdCRCxDQXBCWSxDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9uYXZydXpqbi9Eb2N1bWVudHMvQXJjaGl2ZS9iYWNrZW5kL2JhY2svc3JjL3JvdXRlciIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcic7XG5pbXBvcnQgVXNlciBmcm9tICcuLi9jb250cm9sbGVycy9Vc2VyJztcbmltcG9ydCBUb2tlbkdlbmVyYXRvciBmcm9tICcuLi91dGlsL3Rva2VuL1Rva2VuR2VuZXJhdG9yJztcblxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXJcbiAgLnByZWZpeChcIi9hcGkvYXV0aFwiKVxuXG4gIC5wb3N0KFwiLzphY3Rpb25cIiwgYXN5bmMgY3R4ID0+IHtcbiAgICBzd2l0Y2ggKGN0eC5wYXJhbXMuYWN0aW9uKSB7XG4gICAgICBjYXNlIFwic2lnbnVwXCI6IHtcbiAgICAgICAgY29uc3QgdXNlciA9IFVzZXIuY3JlYXRlVXNlcihjdHgucmVxdWVzdC5ib2R5KTtcbiAgICAgICAgY3R4LnJlc3BvbnNlLmJvZHkgPSBhd2FpdCBUb2tlbkdlbmVyYXRvci5zaWduKHVzZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJzaWduaW5cIjoge1xuICAgICAgICBjb25zb2xlLmxvZyhjdHgucmVxdWVzdC5ib2R5LmVtYWlsKTtcbiAgICAgICAgY29uc3QgdXNlciA9IFVzZXIuZmluZFVzZXJXaXRoUGFyYW0oY3R4LnJlcXVlc3QuYm9keS5lbWFpbCk7XG4gICAgICAgIGN0eC5yZXNwb25zZS5ib2R5ID0gYXdhaXQgVG9rZW5HZW5lcmF0b3Iuc2lnbih1c2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIHJldHVybiBjdHgudGhyb3coNDAyLCBcIkFjdGlvbiBub3QgZm91bmRcIik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "auth.js"
      ],
      "names": [
        "router",
        "Router",
        "prefix",
        "post",
        "ctx",
        "params",
        "action",
        "user",
        "User",
        "createUser",
        "request",
        "body",
        "response",
        "TokenGenerator",
        "sign",
        "console",
        "log",
        "email",
        "findUserWithParam",
        "throw"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;AAEA,MAAMA,MAAM,GAAG,IAAIC,kBAAJ,EAAf;;eAEeD,MAAM,CAClBE,MADY,CACL,WADK,EAGZC,IAHY,CAGP,UAHO,EAGK,MAAMC,GAAN,IAAa;AAC7B,UAAQA,GAAG,CAACC,MAAJ,CAAWC,MAAnB;AACE,SAAK,QAAL;AAAe;AACb,cAAMC,IAAI,GAAGC,cAAKC,UAAL,CAAgBL,GAAG,CAACM,OAAJ,CAAYC,IAA5B,CAAb;;AACAP,QAAAA,GAAG,CAACQ,QAAJ,CAAaD,IAAb,GAAoB,MAAME,wBAAeC,IAAf,CAAoBP,IAApB,CAA1B;AACA;AACD;;AACD,SAAK,QAAL;AAAe;AACbQ,QAAAA,OAAO,CAACC,GAAR,CAAYZ,GAAG,CAACM,OAAJ,CAAYC,IAAZ,CAAiBM,KAA7B;;AACA,cAAMV,IAAI,GAAGC,cAAKU,iBAAL,CAAuBd,GAAG,CAACM,OAAJ,CAAYC,IAAZ,CAAiBM,KAAxC,CAAb;;AACAb,QAAAA,GAAG,CAACQ,QAAJ,CAAaD,IAAb,GAAoB,MAAME,wBAAeC,IAAf,CAAoBP,IAApB,CAA1B;AACA;AACD;;AACD;AAAS;AACP,eAAOH,GAAG,CAACe,KAAJ,CAAU,GAAV,EAAe,kBAAf,CAAP;AACD;AAdH;AAgBD,CApBY,C",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/router",
      "sourcesContent": [
        "import Router from 'koa-router';\nimport User from '../controllers/User';\nimport TokenGenerator from '../util/token/TokenGenerator';\n\nconst router = new Router();\n\nexport default router\n  .prefix(\"/api/auth\")\n\n  .post(\"/:action\", async ctx => {\n    switch (ctx.params.action) {\n      case \"signup\": {\n        const user = User.createUser(ctx.request.body);\n        ctx.response.body = await TokenGenerator.sign(user);\n        break;\n      }\n      case \"signin\": {\n        console.log(ctx.request.body.email);\n        const user = User.findUserWithParam(ctx.request.body.email);\n        ctx.response.body = await TokenGenerator.sign(user);\n        break;\n      }\n      default: {\n        return ctx.throw(402, \"Action not found\");\n      }\n    }\n  });\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557991163533
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/controllers/User.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/controllers/User.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/controllers/User.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/controllers/User.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/controllers",
        "sourceFileName": "User.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _User = _interopRequireDefault(require(\"../model/User\"));\n\nconst _ = require(\"lodash\");\n\nclass User {\n  static async createUser(userData) {\n    return await new _User.default({ ...userData\n    }).save();\n  }\n\n  static async getUsers() {\n    let users = await _User.default.find().sort(\"name\");\n    return users.map(user => {\n      user = _.pick(user, [\"name\", \"surname\", \"phone\", \"registration_date\"]);\n    });\n  }\n\n  static async getUser(id) {\n    let user = await _User.default.findById(id);\n    user = _.pick(user, [\"name\", \"surname\", \"phone\", \"registration_date\"]);\n    return user;\n  }\n\n  static async updateUser(id, userData) {\n    return await _User.default.findByIdAndUpdate(id, { ...userData\n    }, {\n      new: true\n    });\n  }\n\n  static async removeUser(id) {\n    return await _User.default.findByIdAndRemove(id);\n  }\n\n  static findUserWithParam(email) {\n    const user = _User.default.findOne({\n      email\n    });\n\n    if (!user) ctx.throw(402, \"User not found\");\n    return user;\n  }\n\n}\n\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwibmFtZXMiOlsiXyIsInJlcXVpcmUiLCJVc2VyIiwiY3JlYXRlVXNlciIsInVzZXJEYXRhIiwiVXNlck1vZGVsIiwic2F2ZSIsImdldFVzZXJzIiwidXNlcnMiLCJmaW5kIiwic29ydCIsIm1hcCIsInVzZXIiLCJwaWNrIiwiZ2V0VXNlciIsImlkIiwiZmluZEJ5SWQiLCJ1cGRhdGVVc2VyIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJuZXciLCJyZW1vdmVVc2VyIiwiZmluZEJ5SWRBbmRSZW1vdmUiLCJmaW5kVXNlcldpdGhQYXJhbSIsImVtYWlsIiwiZmluZE9uZSIsImN0eCIsInRocm93IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBOztBQUVBLE1BQU1BLENBQUMsR0FBR0MsT0FBTyxDQUFDLFFBQUQsQ0FBakI7O0FBRUEsTUFBTUMsSUFBTixDQUFXO0FBQ1QsZUFBYUMsVUFBYixDQUF3QkMsUUFBeEIsRUFBa0M7QUFDaEMsV0FBTyxNQUFNLElBQUlDLGFBQUosQ0FBYyxFQUFFLEdBQUdEO0FBQUwsS0FBZCxFQUErQkUsSUFBL0IsRUFBYjtBQUNEOztBQUVELGVBQWFDLFFBQWIsR0FBd0I7QUFDdEIsUUFBSUMsS0FBSyxHQUFHLE1BQU1ILGNBQVVJLElBQVYsR0FBaUJDLElBQWpCLENBQXNCLE1BQXRCLENBQWxCO0FBQ0EsV0FBT0YsS0FBSyxDQUFDRyxHQUFOLENBQVVDLElBQUksSUFBSTtBQUN2QkEsTUFBQUEsSUFBSSxHQUFHWixDQUFDLENBQUNhLElBQUYsQ0FBT0QsSUFBUCxFQUFhLENBQUMsTUFBRCxFQUFTLFNBQVQsRUFBb0IsT0FBcEIsRUFBNkIsbUJBQTdCLENBQWIsQ0FBUDtBQUNELEtBRk0sQ0FBUDtBQUdEOztBQUVELGVBQWFFLE9BQWIsQ0FBcUJDLEVBQXJCLEVBQXlCO0FBQ3ZCLFFBQUlILElBQUksR0FBRyxNQUFNUCxjQUFVVyxRQUFWLENBQW1CRCxFQUFuQixDQUFqQjtBQUNBSCxJQUFBQSxJQUFJLEdBQUdaLENBQUMsQ0FBQ2EsSUFBRixDQUFPRCxJQUFQLEVBQWEsQ0FBQyxNQUFELEVBQVMsU0FBVCxFQUFvQixPQUFwQixFQUE2QixtQkFBN0IsQ0FBYixDQUFQO0FBQ0EsV0FBT0EsSUFBUDtBQUNEOztBQUVELGVBQWFLLFVBQWIsQ0FBd0JGLEVBQXhCLEVBQTRCWCxRQUE1QixFQUFzQztBQUNwQyxXQUFPLE1BQU1DLGNBQVVhLGlCQUFWLENBQ1hILEVBRFcsRUFFWCxFQUFFLEdBQUdYO0FBQUwsS0FGVyxFQUdYO0FBQUVlLE1BQUFBLEdBQUcsRUFBRTtBQUFQLEtBSFcsQ0FBYjtBQUtEOztBQUVELGVBQWFDLFVBQWIsQ0FBd0JMLEVBQXhCLEVBQTRCO0FBQzFCLFdBQU8sTUFBTVYsY0FBVWdCLGlCQUFWLENBQTRCTixFQUE1QixDQUFiO0FBQ0Q7O0FBRUQsU0FBT08saUJBQVAsQ0FBeUJDLEtBQXpCLEVBQWdDO0FBQzlCLFVBQU1YLElBQUksR0FBR1AsY0FBVW1CLE9BQVYsQ0FBa0I7QUFBRUQsTUFBQUE7QUFBRixLQUFsQixDQUFiOztBQUNBLFFBQUksQ0FBQ1gsSUFBTCxFQUFXYSxHQUFHLENBQUNDLEtBQUosQ0FBVSxHQUFWLEVBQWUsZ0JBQWY7QUFDWCxXQUFPZCxJQUFQO0FBQ0Q7O0FBbENROztBQXFDWGUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCMUIsSUFBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL25hdnJ1empuL0RvY3VtZW50cy9BcmNoaXZlL2JhY2tlbmQvYmFjay9zcmMvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlck1vZGVsIGZyb20gXCIuLi9tb2RlbC9Vc2VyXCI7XG5cbmNvbnN0IF8gPSByZXF1aXJlKFwibG9kYXNoXCIpO1xuXG5jbGFzcyBVc2VyIHtcbiAgc3RhdGljIGFzeW5jIGNyZWF0ZVVzZXIodXNlckRhdGEpIHtcbiAgICByZXR1cm4gYXdhaXQgbmV3IFVzZXJNb2RlbCh7IC4uLnVzZXJEYXRhIH0pLnNhdmUoKTtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRVc2VycygpIHtcbiAgICBsZXQgdXNlcnMgPSBhd2FpdCBVc2VyTW9kZWwuZmluZCgpLnNvcnQoXCJuYW1lXCIpO1xuICAgIHJldHVybiB1c2Vycy5tYXAodXNlciA9PiB7XG4gICAgICB1c2VyID0gXy5waWNrKHVzZXIsIFtcIm5hbWVcIiwgXCJzdXJuYW1lXCIsIFwicGhvbmVcIiwgXCJyZWdpc3RyYXRpb25fZGF0ZVwiXSk7XG4gICAgfSk7XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0VXNlcihpZCkge1xuICAgIGxldCB1c2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRCeUlkKGlkKTtcbiAgICB1c2VyID0gXy5waWNrKHVzZXIsIFtcIm5hbWVcIiwgXCJzdXJuYW1lXCIsIFwicGhvbmVcIiwgXCJyZWdpc3RyYXRpb25fZGF0ZVwiXSk7XG4gICAgcmV0dXJuIHVzZXI7XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdXBkYXRlVXNlcihpZCwgdXNlckRhdGEpIHtcbiAgICByZXR1cm4gYXdhaXQgVXNlck1vZGVsLmZpbmRCeUlkQW5kVXBkYXRlKFxuICAgICAgaWQsXG4gICAgICB7IC4uLnVzZXJEYXRhIH0sXG4gICAgICB7IG5ldzogdHJ1ZSB9XG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyByZW1vdmVVc2VyKGlkKSB7XG4gICAgcmV0dXJuIGF3YWl0IFVzZXJNb2RlbC5maW5kQnlJZEFuZFJlbW92ZShpZCk7XG4gIH1cblxuICBzdGF0aWMgZmluZFVzZXJXaXRoUGFyYW0oZW1haWwpIHtcbiAgICBjb25zdCB1c2VyID0gVXNlck1vZGVsLmZpbmRPbmUoeyBlbWFpbCB9KTtcbiAgICBpZiAoIXVzZXIpIGN0eC50aHJvdyg0MDIsIFwiVXNlciBub3QgZm91bmRcIik7XG4gICAgcmV0dXJuIHVzZXI7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBVc2VyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "User.js"
      ],
      "names": [
        "_",
        "require",
        "User",
        "createUser",
        "userData",
        "UserModel",
        "save",
        "getUsers",
        "users",
        "find",
        "sort",
        "map",
        "user",
        "pick",
        "getUser",
        "id",
        "findById",
        "updateUser",
        "findByIdAndUpdate",
        "new",
        "removeUser",
        "findByIdAndRemove",
        "findUserWithParam",
        "email",
        "findOne",
        "ctx",
        "throw",
        "module",
        "exports"
      ],
      "mappings": ";;;;AAAA;;AAEA,MAAMA,CAAC,GAAGC,OAAO,CAAC,QAAD,CAAjB;;AAEA,MAAMC,IAAN,CAAW;AACT,eAAaC,UAAb,CAAwBC,QAAxB,EAAkC;AAChC,WAAO,MAAM,IAAIC,aAAJ,CAAc,EAAE,GAAGD;AAAL,KAAd,EAA+BE,IAA/B,EAAb;AACD;;AAED,eAAaC,QAAb,GAAwB;AACtB,QAAIC,KAAK,GAAG,MAAMH,cAAUI,IAAV,GAAiBC,IAAjB,CAAsB,MAAtB,CAAlB;AACA,WAAOF,KAAK,CAACG,GAAN,CAAUC,IAAI,IAAI;AACvBA,MAAAA,IAAI,GAAGZ,CAAC,CAACa,IAAF,CAAOD,IAAP,EAAa,CAAC,MAAD,EAAS,SAAT,EAAoB,OAApB,EAA6B,mBAA7B,CAAb,CAAP;AACD,KAFM,CAAP;AAGD;;AAED,eAAaE,OAAb,CAAqBC,EAArB,EAAyB;AACvB,QAAIH,IAAI,GAAG,MAAMP,cAAUW,QAAV,CAAmBD,EAAnB,CAAjB;AACAH,IAAAA,IAAI,GAAGZ,CAAC,CAACa,IAAF,CAAOD,IAAP,EAAa,CAAC,MAAD,EAAS,SAAT,EAAoB,OAApB,EAA6B,mBAA7B,CAAb,CAAP;AACA,WAAOA,IAAP;AACD;;AAED,eAAaK,UAAb,CAAwBF,EAAxB,EAA4BX,QAA5B,EAAsC;AACpC,WAAO,MAAMC,cAAUa,iBAAV,CACXH,EADW,EAEX,EAAE,GAAGX;AAAL,KAFW,EAGX;AAAEe,MAAAA,GAAG,EAAE;AAAP,KAHW,CAAb;AAKD;;AAED,eAAaC,UAAb,CAAwBL,EAAxB,EAA4B;AAC1B,WAAO,MAAMV,cAAUgB,iBAAV,CAA4BN,EAA5B,CAAb;AACD;;AAED,SAAOO,iBAAP,CAAyBC,KAAzB,EAAgC;AAC9B,UAAMX,IAAI,GAAGP,cAAUmB,OAAV,CAAkB;AAAED,MAAAA;AAAF,KAAlB,CAAb;;AACA,QAAI,CAACX,IAAL,EAAWa,GAAG,CAACC,KAAJ,CAAU,GAAV,EAAe,gBAAf;AACX,WAAOd,IAAP;AACD;;AAlCQ;;AAqCXe,MAAM,CAACC,OAAP,GAAiB1B,IAAjB",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/controllers",
      "sourcesContent": [
        "import UserModel from \"../model/User\";\n\nconst _ = require(\"lodash\");\n\nclass User {\n  static async createUser(userData) {\n    return await new UserModel({ ...userData }).save();\n  }\n\n  static async getUsers() {\n    let users = await UserModel.find().sort(\"name\");\n    return users.map(user => {\n      user = _.pick(user, [\"name\", \"surname\", \"phone\", \"registration_date\"]);\n    });\n  }\n\n  static async getUser(id) {\n    let user = await UserModel.findById(id);\n    user = _.pick(user, [\"name\", \"surname\", \"phone\", \"registration_date\"]);\n    return user;\n  }\n\n  static async updateUser(id, userData) {\n    return await UserModel.findByIdAndUpdate(\n      id,\n      { ...userData },\n      { new: true }\n    );\n  }\n\n  static async removeUser(id) {\n    return await UserModel.findByIdAndRemove(id);\n  }\n\n  static findUserWithParam(email) {\n    const user = UserModel.findOne({ email });\n    if (!user) ctx.throw(402, \"User not found\");\n    return user;\n  }\n}\n\nmodule.exports = User;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557951187814
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/model\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/model/User.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/model",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/model/User.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/model/User.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/model/User.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/model",
        "sourceFileName": "User.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nconst Schema = _mongoose.default.Schema;\nconst UserTypes = {\n  // admin = 0,\n  // cleaner = 1,\n  // user = 2\n  userType: {\n    type: String,\n    required: true\n  }\n};\n\nconst User = _mongoose.default.model('User', new Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  surname: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true\n  },\n  avatar: {\n    type: String\n  },\n  address: {\n    type: String,\n    required: true\n  },\n  phone: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  registration_date: {\n    type: Date,\n    default: Date.now\n  }\n}));\n\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwibmFtZXMiOlsiU2NoZW1hIiwibW9uZ29vc2UiLCJVc2VyVHlwZXMiLCJ1c2VyVHlwZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsIlVzZXIiLCJtb2RlbCIsIm5hbWUiLCJzdXJuYW1lIiwiZW1haWwiLCJhdmF0YXIiLCJhZGRyZXNzIiwicGhvbmUiLCJwYXNzd29yZCIsInJlZ2lzdHJhdGlvbl9kYXRlIiwiRGF0ZSIsImRlZmF1bHQiLCJub3ciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBLE1BQU1BLE1BQU0sR0FBR0Msa0JBQVNELE1BQXhCO0FBRUEsTUFBTUUsU0FBUyxHQUFHO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBQyxFQUFBQSxRQUFRLEVBQUU7QUFDUkMsSUFBQUEsSUFBSSxFQUFFQyxNQURFO0FBRVJDLElBQUFBLFFBQVEsRUFBRTtBQUZGO0FBSk0sQ0FBbEI7O0FBVUEsTUFBTUMsSUFBSSxHQUFHTixrQkFBU08sS0FBVCxDQUFlLE1BQWYsRUFBd0IsSUFBSVIsTUFBSixDQUFXO0FBQzVDUyxFQUFBQSxJQUFJLEVBQUU7QUFDRkwsSUFBQUEsSUFBSSxFQUFFQyxNQURKO0FBRUZDLElBQUFBLFFBQVEsRUFBRTtBQUZSLEdBRHNDO0FBSzVDSSxFQUFBQSxPQUFPLEVBQUU7QUFDTE4sSUFBQUEsSUFBSSxFQUFFQyxNQUREO0FBRUxDLElBQUFBLFFBQVEsRUFBRTtBQUZMLEdBTG1DO0FBUzVDSyxFQUFBQSxLQUFLLEVBQUU7QUFDSFAsSUFBQUEsSUFBSSxFQUFFQyxNQURIO0FBRUhDLElBQUFBLFFBQVEsRUFBRTtBQUZQLEdBVHFDO0FBYTVDTSxFQUFBQSxNQUFNLEVBQUU7QUFDSlIsSUFBQUEsSUFBSSxFQUFFQztBQURGLEdBYm9DO0FBZ0I1Q1EsRUFBQUEsT0FBTyxFQUFFO0FBQ0xULElBQUFBLElBQUksRUFBRUMsTUFERDtBQUVMQyxJQUFBQSxRQUFRLEVBQUU7QUFGTCxHQWhCbUM7QUFvQjVDUSxFQUFBQSxLQUFLLEVBQUU7QUFDSFYsSUFBQUEsSUFBSSxFQUFFQyxNQURIO0FBRUhDLElBQUFBLFFBQVEsRUFBRTtBQUZQLEdBcEJxQztBQXdCNUNTLEVBQUFBLFFBQVEsRUFBRTtBQUNOWCxJQUFBQSxJQUFJLEVBQUVDLE1BREE7QUFFTkMsSUFBQUEsUUFBUSxFQUFFO0FBRkosR0F4QmtDO0FBNEI1Q1UsRUFBQUEsaUJBQWlCLEVBQUU7QUFDZlosSUFBQUEsSUFBSSxFQUFFYSxJQURTO0FBRWZDLElBQUFBLE9BQU8sRUFBRUQsSUFBSSxDQUFDRTtBQUZDO0FBNUJ5QixDQUFYLENBQXhCLENBQWI7O2VBa0NlWixJIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9uYXZydXpqbi9Eb2N1bWVudHMvQXJjaGl2ZS9iYWNrZW5kL2JhY2svc3JjL21vZGVsIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcblxuY29uc3QgVXNlclR5cGVzID0ge1xuICAvLyBhZG1pbiA9IDAsXG4gIC8vIGNsZWFuZXIgPSAxLFxuICAvLyB1c2VyID0gMlxuICB1c2VyVHlwZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZVxuICB9XG59O1xuXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInLCAgbmV3IFNjaGVtYSh7XG4gICAgbmFtZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfSxcbiAgICBzdXJuYW1lOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIGVtYWlsOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIGF2YXRhcjoge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIGFkZHJlc3M6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgcGhvbmU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgcGFzc3dvcmQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgcmVnaXN0cmF0aW9uX2RhdGU6IHtcbiAgICAgICAgdHlwZTogRGF0ZSxcbiAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3dcbiAgICB9XG59KSk7XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "User.js"
      ],
      "names": [
        "Schema",
        "mongoose",
        "UserTypes",
        "userType",
        "type",
        "String",
        "required",
        "User",
        "model",
        "name",
        "surname",
        "email",
        "avatar",
        "address",
        "phone",
        "password",
        "registration_date",
        "Date",
        "default",
        "now"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA,MAAMA,MAAM,GAAGC,kBAASD,MAAxB;AAEA,MAAME,SAAS,GAAG;AAChB;AACA;AACA;AACAC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF;AAJM,CAAlB;;AAUA,MAAMC,IAAI,GAAGN,kBAASO,KAAT,CAAe,MAAf,EAAwB,IAAIR,MAAJ,CAAW;AAC5CS,EAAAA,IAAI,EAAE;AACFL,IAAAA,IAAI,EAAEC,MADJ;AAEFC,IAAAA,QAAQ,EAAE;AAFR,GADsC;AAK5CI,EAAAA,OAAO,EAAE;AACLN,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE;AAFL,GALmC;AAS5CK,EAAAA,KAAK,EAAE;AACHP,IAAAA,IAAI,EAAEC,MADH;AAEHC,IAAAA,QAAQ,EAAE;AAFP,GATqC;AAa5CM,EAAAA,MAAM,EAAE;AACJR,IAAAA,IAAI,EAAEC;AADF,GAboC;AAgB5CQ,EAAAA,OAAO,EAAE;AACLT,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE;AAFL,GAhBmC;AAoB5CQ,EAAAA,KAAK,EAAE;AACHV,IAAAA,IAAI,EAAEC,MADH;AAEHC,IAAAA,QAAQ,EAAE;AAFP,GApBqC;AAwB5CS,EAAAA,QAAQ,EAAE;AACNX,IAAAA,IAAI,EAAEC,MADA;AAENC,IAAAA,QAAQ,EAAE;AAFJ,GAxBkC;AA4B5CU,EAAAA,iBAAiB,EAAE;AACfZ,IAAAA,IAAI,EAAEa,IADS;AAEfC,IAAAA,OAAO,EAAED,IAAI,CAACE;AAFC;AA5ByB,CAAX,CAAxB,CAAb;;eAkCeZ,I",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/model",
      "sourcesContent": [
        "import mongoose from 'mongoose';\nconst Schema = mongoose.Schema;\n\nconst UserTypes = {\n  // admin = 0,\n  // cleaner = 1,\n  // user = 2\n  userType: {\n    type: String,\n    required: true\n  }\n};\n\nconst User = mongoose.model('User',  new Schema({\n    name: {\n        type: String,\n        required: true\n    },\n    surname: {\n        type: String,\n        required: true\n    },\n    email: {\n        type: String,\n        required: true\n    },\n    avatar: {\n        type: String\n    },\n    address: {\n        type: String,\n        required: true\n    },\n    phone: {\n        type: String,\n        required: true\n    },\n    password: {\n        type: String,\n        required: true\n    },\n    registration_date: {\n        type: Date,\n        default: Date.now\n    }\n}));\n\nexport default User;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557990681552
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware/not-found.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/not-found.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/not-found.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/not-found.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
        "sourceFileName": "not-found.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _default = async (ctx, next) => {\n  const path = `${ctx.request.method} ${ctx.request.path}`;\n  const message = `No endpoint matched your request: ${path}`;\n  ctx.notFound(message);\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vdC1mb3VuZC5qcyJdLCJuYW1lcyI6WyJjdHgiLCJuZXh0IiwicGF0aCIsInJlcXVlc3QiLCJtZXRob2QiLCJtZXNzYWdlIiwibm90Rm91bmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7ZUFBZSxPQUFPQSxHQUFQLEVBQVlDLElBQVosS0FBcUI7QUFDbEMsUUFBTUMsSUFBSSxHQUFJLEdBQUVGLEdBQUcsQ0FBQ0csT0FBSixDQUFZQyxNQUFPLElBQUdKLEdBQUcsQ0FBQ0csT0FBSixDQUFZRCxJQUFLLEVBQXZEO0FBQ0EsUUFBTUcsT0FBTyxHQUFJLHFDQUFvQ0gsSUFBSyxFQUExRDtBQUNBRixFQUFBQSxHQUFHLENBQUNNLFFBQUosQ0FBYUQsT0FBYjtBQUNELEMiLCJzb3VyY2VSb290IjoiL1VzZXJzL25hdnJ1empuL0RvY3VtZW50cy9BcmNoaXZlL2JhY2tlbmQvYmFjay9zcmMvbWlkZGxld2FyZSIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGFzeW5jIChjdHgsIG5leHQpID0+IHtcbiAgY29uc3QgcGF0aCA9IGAke2N0eC5yZXF1ZXN0Lm1ldGhvZH0gJHtjdHgucmVxdWVzdC5wYXRofWA7XG4gIGNvbnN0IG1lc3NhZ2UgPSBgTm8gZW5kcG9pbnQgbWF0Y2hlZCB5b3VyIHJlcXVlc3Q6ICR7cGF0aH1gO1xuICBjdHgubm90Rm91bmQobWVzc2FnZSk7XG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "not-found.js"
      ],
      "names": [
        "ctx",
        "next",
        "path",
        "request",
        "method",
        "message",
        "notFound"
      ],
      "mappings": ";;;;;;;eAAe,OAAOA,GAAP,EAAYC,IAAZ,KAAqB;AAClC,QAAMC,IAAI,GAAI,GAAEF,GAAG,CAACG,OAAJ,CAAYC,MAAO,IAAGJ,GAAG,CAACG,OAAJ,CAAYD,IAAK,EAAvD;AACA,QAAMG,OAAO,GAAI,qCAAoCH,IAAK,EAA1D;AACAF,EAAAA,GAAG,CAACM,QAAJ,CAAaD,OAAb;AACD,C",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "sourcesContent": [
        "export default async (ctx, next) => {\n  const path = `${ctx.request.method} ${ctx.request.path}`;\n  const message = `No endpoint matched your request: ${path}`;\n  ctx.notFound(message);\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557941438805
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware/http-logger.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/http-logger.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/http-logger.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/http-logger.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
        "sourceFileName": "http-logger.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _logger = _interopRequireDefault(require(\"../util/logger\"));\n\nconst size = 120;\nconst log = (0, _logger.default)('[HTTP Logger]');\n\nfunction handler(body) {\n  if (typeof body !== 'object') body = {\n    body\n  };\n  body = JSON.stringify(body);\n  body = body.length > size ? body.substring(0, size) + '...' : body;\n  return body;\n}\n\nvar _default = async (ctx, next) => {\n  const start = Date.now();\n  await next();\n  const end = Date.now() - start;\n  const resBody = handler(ctx.body);\n  const reqBody = handler(ctx.request.body);\n  const startMsg = `${ctx.method} ${ctx.path} :: ${ctx.status}`;\n  log.info(`${startMsg} :: ${reqBody} <--> ${resBody} :: [Length:${ctx.length}] :: ${end}ms`);\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHAtbG9nZ2VyLmpzIl0sIm5hbWVzIjpbInNpemUiLCJsb2ciLCJoYW5kbGVyIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsZW5ndGgiLCJzdWJzdHJpbmciLCJjdHgiLCJuZXh0Iiwic3RhcnQiLCJEYXRlIiwibm93IiwiZW5kIiwicmVzQm9keSIsInJlcUJvZHkiLCJyZXF1ZXN0Iiwic3RhcnRNc2ciLCJtZXRob2QiLCJwYXRoIiwic3RhdHVzIiwiaW5mbyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7O0FBRUEsTUFBTUEsSUFBSSxHQUFHLEdBQWI7QUFDQSxNQUFNQyxHQUFHLEdBQUcscUJBQU8sZUFBUCxDQUFaOztBQUVBLFNBQVNDLE9BQVQsQ0FBaUJDLElBQWpCLEVBQXVCO0FBQ3JCLE1BQUksT0FBT0EsSUFBUCxLQUFnQixRQUFwQixFQUE4QkEsSUFBSSxHQUFHO0FBQUVBLElBQUFBO0FBQUYsR0FBUDtBQUM5QkEsRUFBQUEsSUFBSSxHQUFHQyxJQUFJLENBQUNDLFNBQUwsQ0FBZUYsSUFBZixDQUFQO0FBRUFBLEVBQUFBLElBQUksR0FBR0EsSUFBSSxDQUFDRyxNQUFMLEdBQWNOLElBQWQsR0FBcUJHLElBQUksQ0FBQ0ksU0FBTCxDQUFlLENBQWYsRUFBa0JQLElBQWxCLElBQTBCLEtBQS9DLEdBQXVERyxJQUE5RDtBQUNBLFNBQU9BLElBQVA7QUFDRDs7ZUFFYyxPQUFPSyxHQUFQLEVBQVlDLElBQVosS0FBcUI7QUFDbEMsUUFBTUMsS0FBSyxHQUFHQyxJQUFJLENBQUNDLEdBQUwsRUFBZDtBQUNBLFFBQU1ILElBQUksRUFBVjtBQUNBLFFBQU1JLEdBQUcsR0FBR0YsSUFBSSxDQUFDQyxHQUFMLEtBQWFGLEtBQXpCO0FBRUEsUUFBTUksT0FBTyxHQUFHWixPQUFPLENBQUNNLEdBQUcsQ0FBQ0wsSUFBTCxDQUF2QjtBQUNBLFFBQU1ZLE9BQU8sR0FBR2IsT0FBTyxDQUFDTSxHQUFHLENBQUNRLE9BQUosQ0FBWWIsSUFBYixDQUF2QjtBQUNBLFFBQU1jLFFBQVEsR0FBSSxHQUFFVCxHQUFHLENBQUNVLE1BQU8sSUFBR1YsR0FBRyxDQUFDVyxJQUFLLE9BQU1YLEdBQUcsQ0FBQ1ksTUFBTyxFQUE1RDtBQUVBbkIsRUFBQUEsR0FBRyxDQUFDb0IsSUFBSixDQUFVLEdBQUVKLFFBQVMsT0FBTUYsT0FBUSxTQUFRRCxPQUFRLGVBQWNOLEdBQUcsQ0FBQ0YsTUFBTyxRQUFPTyxHQUFJLElBQXZGO0FBQ0QsQyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbmF2cnV6am4vRG9jdW1lbnRzL0FyY2hpdmUvYmFja2VuZC9iYWNrL3NyYy9taWRkbGV3YXJlIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGxvZ2dlciBmcm9tICcuLi91dGlsL2xvZ2dlcic7XG5cbmNvbnN0IHNpemUgPSAxMjA7XG5jb25zdCBsb2cgPSBsb2dnZXIoJ1tIVFRQIExvZ2dlcl0nKTtcblxuZnVuY3Rpb24gaGFuZGxlcihib2R5KSB7XG4gIGlmICh0eXBlb2YgYm9keSAhPT0gJ29iamVjdCcpIGJvZHkgPSB7IGJvZHkgfTtcbiAgYm9keSA9IEpTT04uc3RyaW5naWZ5KGJvZHkpO1xuXG4gIGJvZHkgPSBib2R5Lmxlbmd0aCA+IHNpemUgPyBib2R5LnN1YnN0cmluZygwLCBzaXplKSArICcuLi4nIDogYm9keTtcbiAgcmV0dXJuIGJvZHk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChjdHgsIG5leHQpID0+IHtcbiAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuICBhd2FpdCBuZXh0KCk7XG4gIGNvbnN0IGVuZCA9IERhdGUubm93KCkgLSBzdGFydDtcblxuICBjb25zdCByZXNCb2R5ID0gaGFuZGxlcihjdHguYm9keSk7XG4gIGNvbnN0IHJlcUJvZHkgPSBoYW5kbGVyKGN0eC5yZXF1ZXN0LmJvZHkpO1xuICBjb25zdCBzdGFydE1zZyA9IGAke2N0eC5tZXRob2R9ICR7Y3R4LnBhdGh9IDo6ICR7Y3R4LnN0YXR1c31gO1xuXG4gIGxvZy5pbmZvKGAke3N0YXJ0TXNnfSA6OiAke3JlcUJvZHl9IDwtLT4gJHtyZXNCb2R5fSA6OiBbTGVuZ3RoOiR7Y3R4Lmxlbmd0aH1dIDo6ICR7ZW5kfW1zYCk7XG59O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "http-logger.js"
      ],
      "names": [
        "size",
        "log",
        "handler",
        "body",
        "JSON",
        "stringify",
        "length",
        "substring",
        "ctx",
        "next",
        "start",
        "Date",
        "now",
        "end",
        "resBody",
        "reqBody",
        "request",
        "startMsg",
        "method",
        "path",
        "status",
        "info"
      ],
      "mappings": ";;;;;;;;;AAAA;;AAEA,MAAMA,IAAI,GAAG,GAAb;AACA,MAAMC,GAAG,GAAG,qBAAO,eAAP,CAAZ;;AAEA,SAASC,OAAT,CAAiBC,IAAjB,EAAuB;AACrB,MAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8BA,IAAI,GAAG;AAAEA,IAAAA;AAAF,GAAP;AAC9BA,EAAAA,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAeF,IAAf,CAAP;AAEAA,EAAAA,IAAI,GAAGA,IAAI,CAACG,MAAL,GAAcN,IAAd,GAAqBG,IAAI,CAACI,SAAL,CAAe,CAAf,EAAkBP,IAAlB,IAA0B,KAA/C,GAAuDG,IAA9D;AACA,SAAOA,IAAP;AACD;;eAEc,OAAOK,GAAP,EAAYC,IAAZ,KAAqB;AAClC,QAAMC,KAAK,GAAGC,IAAI,CAACC,GAAL,EAAd;AACA,QAAMH,IAAI,EAAV;AACA,QAAMI,GAAG,GAAGF,IAAI,CAACC,GAAL,KAAaF,KAAzB;AAEA,QAAMI,OAAO,GAAGZ,OAAO,CAACM,GAAG,CAACL,IAAL,CAAvB;AACA,QAAMY,OAAO,GAAGb,OAAO,CAACM,GAAG,CAACQ,OAAJ,CAAYb,IAAb,CAAvB;AACA,QAAMc,QAAQ,GAAI,GAAET,GAAG,CAACU,MAAO,IAAGV,GAAG,CAACW,IAAK,OAAMX,GAAG,CAACY,MAAO,EAA5D;AAEAnB,EAAAA,GAAG,CAACoB,IAAJ,CAAU,GAAEJ,QAAS,OAAMF,OAAQ,SAAQD,OAAQ,eAAcN,GAAG,CAACF,MAAO,QAAOO,GAAI,IAAvF;AACD,C",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "sourcesContent": [
        "import logger from '../util/logger';\n\nconst size = 120;\nconst log = logger('[HTTP Logger]');\n\nfunction handler(body) {\n  if (typeof body !== 'object') body = { body };\n  body = JSON.stringify(body);\n\n  body = body.length > size ? body.substring(0, size) + '...' : body;\n  return body;\n}\n\nexport default async (ctx, next) => {\n  const start = Date.now();\n  await next();\n  const end = Date.now() - start;\n\n  const resBody = handler(ctx.body);\n  const reqBody = handler(ctx.request.body);\n  const startMsg = `${ctx.method} ${ctx.path} :: ${ctx.status}`;\n\n  log.info(`${startMsg} :: ${reqBody} <--> ${resBody} :: [Length:${ctx.length}] :: ${end}ms`);\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557941438804
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/router\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/router/common-user.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/router",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/router/common-user.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/router/common-user.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/router/common-user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/router",
        "sourceFileName": "common-user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _koaRouter = _interopRequireDefault(require(\"koa-router\"));\n\nvar _isNumber = _interopRequireDefault(require(\"is-number\"));\n\nvar _tools = _interopRequireDefault(require(\"../util/tools\"));\n\nvar _objectValidator = _interopRequireDefault(require(\"../util/object-validator\"));\n\nvar _User = _interopRequireDefault(require(\"../model/User\"));\n\nvar _path = require(\"path\");\n\nvar _default = new _koaRouter.default().prefix('/common').put('/update/:id', async ctx => {\n  const itsValid = _objectValidator.default['updateBody'];\n  if (!itsValid(ctx.request.body)) return ctx.badRequest({\n    error: 'Body is not valid'\n  });\n  const {\n    id\n  } = ctx.params;\n  if (!(0, _isNumber.default)(id)) return ctx.badRequest({\n    error: 'Id must be a number'\n  });\n  const checkUser = await _User.default.getByOneField('id', id);\n  if (!checkUser.length) return ctx.notFound({\n    error: 'User not found'\n  });\n  if (checkUser.error) return ctx.badRequest({\n    error: checkUser.error\n  });\n  const itsUpdate = await _User.default.update(ctx.request.body, id);\n  if (itsUpdate.error) return ctx.badRequest({\n    error: itsUpdate.error\n  });\n  if (!itsUpdate) return ctx.noContent();\n  const user = await _User.default.getByOneField('id', id);\n  ctx.ok(user);\n}).post('/upload/:id', async ctx => {\n  const {\n    id\n  } = ctx.params;\n  if (!(0, _isNumber.default)(id)) return ctx.badRequest({\n    error: 'Id must be a number'\n  });\n  const checkUser = await _User.default.getByOneField('id', id);\n  if (!checkUser.length) return ctx.notFound({\n    error: 'User not found'\n  });\n  if (checkUser.error) return ctx.badRequest({\n    error: checkUser.error\n  });\n  const {\n    file\n  } = ctx.request.files;\n  const path = process.cwd() + '/static/' + _tools.default.getUid() + (0, _path.extname)(file.name);\n  const itsMove = await _tools.default.moveToStatic(file.path, path);\n  if (itsMove.error) return ctx.badRequest({\n    error: itsMove.error\n  });\n\n  _User.default.update({\n    image: path\n  }, id);\n\n  ctx.send(202);\n});\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi11c2VyLmpzIl0sIm5hbWVzIjpbIlJvdXRlciIsInByZWZpeCIsInB1dCIsImN0eCIsIml0c1ZhbGlkIiwidmFsaWRhdG9yIiwicmVxdWVzdCIsImJvZHkiLCJiYWRSZXF1ZXN0IiwiZXJyb3IiLCJpZCIsInBhcmFtcyIsImNoZWNrVXNlciIsInVzZXJNb2RlbCIsImdldEJ5T25lRmllbGQiLCJsZW5ndGgiLCJub3RGb3VuZCIsIml0c1VwZGF0ZSIsInVwZGF0ZSIsIm5vQ29udGVudCIsInVzZXIiLCJvayIsInBvc3QiLCJmaWxlIiwiZmlsZXMiLCJwYXRoIiwicHJvY2VzcyIsImN3ZCIsInRvb2xzIiwiZ2V0VWlkIiwibmFtZSIsIml0c01vdmUiLCJtb3ZlVG9TdGF0aWMiLCJpbWFnZSIsInNlbmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUNBOztlQUVlLElBQUlBLGtCQUFKLEdBQ1pDLE1BRFksQ0FDTCxTQURLLEVBR1pDLEdBSFksQ0FHUixhQUhRLEVBR08sTUFBTUMsR0FBTixJQUFhO0FBQy9CLFFBQU1DLFFBQVEsR0FBR0MseUJBQVUsWUFBVixDQUFqQjtBQUNBLE1BQUksQ0FBQ0QsUUFBUSxDQUFDRCxHQUFHLENBQUNHLE9BQUosQ0FBWUMsSUFBYixDQUFiLEVBQWlDLE9BQU9KLEdBQUcsQ0FBQ0ssVUFBSixDQUFlO0FBQUVDLElBQUFBLEtBQUssRUFBRTtBQUFULEdBQWYsQ0FBUDtBQUVqQyxRQUFNO0FBQUVDLElBQUFBO0FBQUYsTUFBU1AsR0FBRyxDQUFDUSxNQUFuQjtBQUNBLE1BQUksQ0FBQyx1QkFBU0QsRUFBVCxDQUFMLEVBQW1CLE9BQU9QLEdBQUcsQ0FBQ0ssVUFBSixDQUFlO0FBQUVDLElBQUFBLEtBQUssRUFBRTtBQUFULEdBQWYsQ0FBUDtBQUVuQixRQUFNRyxTQUFTLEdBQUcsTUFBTUMsY0FBVUMsYUFBVixDQUF3QixJQUF4QixFQUE4QkosRUFBOUIsQ0FBeEI7QUFDQSxNQUFJLENBQUNFLFNBQVMsQ0FBQ0csTUFBZixFQUF1QixPQUFPWixHQUFHLENBQUNhLFFBQUosQ0FBYTtBQUFFUCxJQUFBQSxLQUFLLEVBQUU7QUFBVCxHQUFiLENBQVA7QUFDdkIsTUFBSUcsU0FBUyxDQUFDSCxLQUFkLEVBQXFCLE9BQU9OLEdBQUcsQ0FBQ0ssVUFBSixDQUFlO0FBQUVDLElBQUFBLEtBQUssRUFBRUcsU0FBUyxDQUFDSDtBQUFuQixHQUFmLENBQVA7QUFFckIsUUFBTVEsU0FBUyxHQUFHLE1BQU1KLGNBQVVLLE1BQVYsQ0FBaUJmLEdBQUcsQ0FBQ0csT0FBSixDQUFZQyxJQUE3QixFQUFtQ0csRUFBbkMsQ0FBeEI7QUFDQSxNQUFJTyxTQUFTLENBQUNSLEtBQWQsRUFBcUIsT0FBT04sR0FBRyxDQUFDSyxVQUFKLENBQWU7QUFBRUMsSUFBQUEsS0FBSyxFQUFFUSxTQUFTLENBQUNSO0FBQW5CLEdBQWYsQ0FBUDtBQUNyQixNQUFJLENBQUNRLFNBQUwsRUFBZ0IsT0FBT2QsR0FBRyxDQUFDZ0IsU0FBSixFQUFQO0FBRWhCLFFBQU1DLElBQUksR0FBRyxNQUFNUCxjQUFVQyxhQUFWLENBQXdCLElBQXhCLEVBQThCSixFQUE5QixDQUFuQjtBQUNBUCxFQUFBQSxHQUFHLENBQUNrQixFQUFKLENBQU9ELElBQVA7QUFDRCxDQXBCWSxFQXNCWkUsSUF0QlksQ0FzQlAsYUF0Qk8sRUFzQlEsTUFBTW5CLEdBQU4sSUFBYTtBQUNoQyxRQUFNO0FBQUVPLElBQUFBO0FBQUYsTUFBU1AsR0FBRyxDQUFDUSxNQUFuQjtBQUNBLE1BQUksQ0FBQyx1QkFBU0QsRUFBVCxDQUFMLEVBQW1CLE9BQU9QLEdBQUcsQ0FBQ0ssVUFBSixDQUFlO0FBQUVDLElBQUFBLEtBQUssRUFBRTtBQUFULEdBQWYsQ0FBUDtBQUVuQixRQUFNRyxTQUFTLEdBQUcsTUFBTUMsY0FBVUMsYUFBVixDQUF3QixJQUF4QixFQUE4QkosRUFBOUIsQ0FBeEI7QUFDQSxNQUFJLENBQUNFLFNBQVMsQ0FBQ0csTUFBZixFQUF1QixPQUFPWixHQUFHLENBQUNhLFFBQUosQ0FBYTtBQUFFUCxJQUFBQSxLQUFLLEVBQUU7QUFBVCxHQUFiLENBQVA7QUFDdkIsTUFBSUcsU0FBUyxDQUFDSCxLQUFkLEVBQXFCLE9BQU9OLEdBQUcsQ0FBQ0ssVUFBSixDQUFlO0FBQUVDLElBQUFBLEtBQUssRUFBRUcsU0FBUyxDQUFDSDtBQUFuQixHQUFmLENBQVA7QUFFckIsUUFBTTtBQUFFYyxJQUFBQTtBQUFGLE1BQVdwQixHQUFHLENBQUNHLE9BQUosQ0FBWWtCLEtBQTdCO0FBQ0EsUUFBTUMsSUFBSSxHQUFHQyxPQUFPLENBQUNDLEdBQVIsS0FBZ0IsVUFBaEIsR0FBNkJDLGVBQU1DLE1BQU4sRUFBN0IsR0FBOEMsbUJBQVFOLElBQUksQ0FBQ08sSUFBYixDQUEzRDtBQUNBLFFBQU1DLE9BQU8sR0FBRyxNQUFNSCxlQUFNSSxZQUFOLENBQW1CVCxJQUFJLENBQUNFLElBQXhCLEVBQThCQSxJQUE5QixDQUF0QjtBQUNBLE1BQUlNLE9BQU8sQ0FBQ3RCLEtBQVosRUFBbUIsT0FBT04sR0FBRyxDQUFDSyxVQUFKLENBQWU7QUFBRUMsSUFBQUEsS0FBSyxFQUFFc0IsT0FBTyxDQUFDdEI7QUFBakIsR0FBZixDQUFQOztBQUVuQkksZ0JBQVVLLE1BQVYsQ0FBaUI7QUFBRWUsSUFBQUEsS0FBSyxFQUFFUjtBQUFULEdBQWpCLEVBQWtDZixFQUFsQzs7QUFDQVAsRUFBQUEsR0FBRyxDQUFDK0IsSUFBSixDQUFTLEdBQVQ7QUFDRCxDQXJDWSxDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9uYXZydXpqbi9Eb2N1bWVudHMvQXJjaGl2ZS9iYWNrZW5kL2JhY2svc3JjL3JvdXRlciIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcic7XG5pbXBvcnQgaXNOdW1iZXIgZnJvbSAnaXMtbnVtYmVyJztcbmltcG9ydCB0b29scyBmcm9tICcuLi91dGlsL3Rvb2xzJztcbmltcG9ydCB2YWxpZGF0b3IgZnJvbSAnLi4vdXRpbC9vYmplY3QtdmFsaWRhdG9yJztcbmltcG9ydCB1c2VyTW9kZWwgZnJvbSAnLi4vbW9kZWwvVXNlcic7XG5pbXBvcnQgeyBleHRuYW1lIH0gZnJvbSAncGF0aCc7XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBSb3V0ZXIoKVxuICAucHJlZml4KCcvY29tbW9uJylcblxuICAucHV0KCcvdXBkYXRlLzppZCcsIGFzeW5jIGN0eCA9PiB7XG4gICAgY29uc3QgaXRzVmFsaWQgPSB2YWxpZGF0b3JbJ3VwZGF0ZUJvZHknXTtcbiAgICBpZiAoIWl0c1ZhbGlkKGN0eC5yZXF1ZXN0LmJvZHkpKSByZXR1cm4gY3R4LmJhZFJlcXVlc3QoeyBlcnJvcjogJ0JvZHkgaXMgbm90IHZhbGlkJyB9KTtcblxuICAgIGNvbnN0IHsgaWQgfSA9IGN0eC5wYXJhbXM7XG4gICAgaWYgKCFpc051bWJlcihpZCkpIHJldHVybiBjdHguYmFkUmVxdWVzdCh7IGVycm9yOiAnSWQgbXVzdCBiZSBhIG51bWJlcicgfSk7XG5cbiAgICBjb25zdCBjaGVja1VzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZ2V0QnlPbmVGaWVsZCgnaWQnLCBpZCk7XG4gICAgaWYgKCFjaGVja1VzZXIubGVuZ3RoKSByZXR1cm4gY3R4Lm5vdEZvdW5kKHsgZXJyb3I6ICdVc2VyIG5vdCBmb3VuZCcgfSk7XG4gICAgaWYgKGNoZWNrVXNlci5lcnJvcikgcmV0dXJuIGN0eC5iYWRSZXF1ZXN0KHsgZXJyb3I6IGNoZWNrVXNlci5lcnJvciB9KTtcblxuICAgIGNvbnN0IGl0c1VwZGF0ZSA9IGF3YWl0IHVzZXJNb2RlbC51cGRhdGUoY3R4LnJlcXVlc3QuYm9keSwgaWQpO1xuICAgIGlmIChpdHNVcGRhdGUuZXJyb3IpIHJldHVybiBjdHguYmFkUmVxdWVzdCh7IGVycm9yOiBpdHNVcGRhdGUuZXJyb3IgfSk7XG4gICAgaWYgKCFpdHNVcGRhdGUpIHJldHVybiBjdHgubm9Db250ZW50KClcblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZ2V0QnlPbmVGaWVsZCgnaWQnLCBpZCk7XG4gICAgY3R4Lm9rKHVzZXIpO1xuICB9KVxuXG4gIC5wb3N0KCcvdXBsb2FkLzppZCcsIGFzeW5jIGN0eCA9PiB7XG4gICAgY29uc3QgeyBpZCB9ID0gY3R4LnBhcmFtcztcbiAgICBpZiAoIWlzTnVtYmVyKGlkKSkgcmV0dXJuIGN0eC5iYWRSZXF1ZXN0KHsgZXJyb3I6ICdJZCBtdXN0IGJlIGEgbnVtYmVyJyB9KTtcblxuICAgIGNvbnN0IGNoZWNrVXNlciA9IGF3YWl0IHVzZXJNb2RlbC5nZXRCeU9uZUZpZWxkKCdpZCcsIGlkKTtcbiAgICBpZiAoIWNoZWNrVXNlci5sZW5ndGgpIHJldHVybiBjdHgubm90Rm91bmQoeyBlcnJvcjogJ1VzZXIgbm90IGZvdW5kJyB9KTtcbiAgICBpZiAoY2hlY2tVc2VyLmVycm9yKSByZXR1cm4gY3R4LmJhZFJlcXVlc3QoeyBlcnJvcjogY2hlY2tVc2VyLmVycm9yIH0pO1xuXG4gICAgY29uc3QgeyBmaWxlIH0gPSBjdHgucmVxdWVzdC5maWxlc1xuICAgIGNvbnN0IHBhdGggPSBwcm9jZXNzLmN3ZCgpICsgJy9zdGF0aWMvJyArIHRvb2xzLmdldFVpZCgpICsgZXh0bmFtZShmaWxlLm5hbWUpO1xuICAgIGNvbnN0IGl0c01vdmUgPSBhd2FpdCB0b29scy5tb3ZlVG9TdGF0aWMoZmlsZS5wYXRoLCBwYXRoKTtcbiAgICBpZiAoaXRzTW92ZS5lcnJvcikgcmV0dXJuIGN0eC5iYWRSZXF1ZXN0KHsgZXJyb3I6IGl0c01vdmUuZXJyb3IgfSk7XG5cbiAgICB1c2VyTW9kZWwudXBkYXRlKHsgaW1hZ2U6IHBhdGggfSwgaWQpO1xuICAgIGN0eC5zZW5kKDIwMik7XG4gIH0pXG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "common-user.js"
      ],
      "names": [
        "Router",
        "prefix",
        "put",
        "ctx",
        "itsValid",
        "validator",
        "request",
        "body",
        "badRequest",
        "error",
        "id",
        "params",
        "checkUser",
        "userModel",
        "getByOneField",
        "length",
        "notFound",
        "itsUpdate",
        "update",
        "noContent",
        "user",
        "ok",
        "post",
        "file",
        "files",
        "path",
        "process",
        "cwd",
        "tools",
        "getUid",
        "name",
        "itsMove",
        "moveToStatic",
        "image",
        "send"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;eAEe,IAAIA,kBAAJ,GACZC,MADY,CACL,SADK,EAGZC,GAHY,CAGR,aAHQ,EAGO,MAAMC,GAAN,IAAa;AAC/B,QAAMC,QAAQ,GAAGC,yBAAU,YAAV,CAAjB;AACA,MAAI,CAACD,QAAQ,CAACD,GAAG,CAACG,OAAJ,CAAYC,IAAb,CAAb,EAAiC,OAAOJ,GAAG,CAACK,UAAJ,CAAe;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAf,CAAP;AAEjC,QAAM;AAAEC,IAAAA;AAAF,MAASP,GAAG,CAACQ,MAAnB;AACA,MAAI,CAAC,uBAASD,EAAT,CAAL,EAAmB,OAAOP,GAAG,CAACK,UAAJ,CAAe;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAf,CAAP;AAEnB,QAAMG,SAAS,GAAG,MAAMC,cAAUC,aAAV,CAAwB,IAAxB,EAA8BJ,EAA9B,CAAxB;AACA,MAAI,CAACE,SAAS,CAACG,MAAf,EAAuB,OAAOZ,GAAG,CAACa,QAAJ,CAAa;AAAEP,IAAAA,KAAK,EAAE;AAAT,GAAb,CAAP;AACvB,MAAIG,SAAS,CAACH,KAAd,EAAqB,OAAON,GAAG,CAACK,UAAJ,CAAe;AAAEC,IAAAA,KAAK,EAAEG,SAAS,CAACH;AAAnB,GAAf,CAAP;AAErB,QAAMQ,SAAS,GAAG,MAAMJ,cAAUK,MAAV,CAAiBf,GAAG,CAACG,OAAJ,CAAYC,IAA7B,EAAmCG,EAAnC,CAAxB;AACA,MAAIO,SAAS,CAACR,KAAd,EAAqB,OAAON,GAAG,CAACK,UAAJ,CAAe;AAAEC,IAAAA,KAAK,EAAEQ,SAAS,CAACR;AAAnB,GAAf,CAAP;AACrB,MAAI,CAACQ,SAAL,EAAgB,OAAOd,GAAG,CAACgB,SAAJ,EAAP;AAEhB,QAAMC,IAAI,GAAG,MAAMP,cAAUC,aAAV,CAAwB,IAAxB,EAA8BJ,EAA9B,CAAnB;AACAP,EAAAA,GAAG,CAACkB,EAAJ,CAAOD,IAAP;AACD,CApBY,EAsBZE,IAtBY,CAsBP,aAtBO,EAsBQ,MAAMnB,GAAN,IAAa;AAChC,QAAM;AAAEO,IAAAA;AAAF,MAASP,GAAG,CAACQ,MAAnB;AACA,MAAI,CAAC,uBAASD,EAAT,CAAL,EAAmB,OAAOP,GAAG,CAACK,UAAJ,CAAe;AAAEC,IAAAA,KAAK,EAAE;AAAT,GAAf,CAAP;AAEnB,QAAMG,SAAS,GAAG,MAAMC,cAAUC,aAAV,CAAwB,IAAxB,EAA8BJ,EAA9B,CAAxB;AACA,MAAI,CAACE,SAAS,CAACG,MAAf,EAAuB,OAAOZ,GAAG,CAACa,QAAJ,CAAa;AAAEP,IAAAA,KAAK,EAAE;AAAT,GAAb,CAAP;AACvB,MAAIG,SAAS,CAACH,KAAd,EAAqB,OAAON,GAAG,CAACK,UAAJ,CAAe;AAAEC,IAAAA,KAAK,EAAEG,SAAS,CAACH;AAAnB,GAAf,CAAP;AAErB,QAAM;AAAEc,IAAAA;AAAF,MAAWpB,GAAG,CAACG,OAAJ,CAAYkB,KAA7B;AACA,QAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,KAAgB,UAAhB,GAA6BC,eAAMC,MAAN,EAA7B,GAA8C,mBAAQN,IAAI,CAACO,IAAb,CAA3D;AACA,QAAMC,OAAO,GAAG,MAAMH,eAAMI,YAAN,CAAmBT,IAAI,CAACE,IAAxB,EAA8BA,IAA9B,CAAtB;AACA,MAAIM,OAAO,CAACtB,KAAZ,EAAmB,OAAON,GAAG,CAACK,UAAJ,CAAe;AAAEC,IAAAA,KAAK,EAAEsB,OAAO,CAACtB;AAAjB,GAAf,CAAP;;AAEnBI,gBAAUK,MAAV,CAAiB;AAAEe,IAAAA,KAAK,EAAER;AAAT,GAAjB,EAAkCf,EAAlC;;AACAP,EAAAA,GAAG,CAAC+B,IAAJ,CAAS,GAAT;AACD,CArCY,C",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/router",
      "sourcesContent": [
        "import Router from 'koa-router';\nimport isNumber from 'is-number';\nimport tools from '../util/tools';\nimport validator from '../util/object-validator';\nimport userModel from '../model/User';\nimport { extname } from 'path';\n\nexport default new Router()\n  .prefix('/common')\n\n  .put('/update/:id', async ctx => {\n    const itsValid = validator['updateBody'];\n    if (!itsValid(ctx.request.body)) return ctx.badRequest({ error: 'Body is not valid' });\n\n    const { id } = ctx.params;\n    if (!isNumber(id)) return ctx.badRequest({ error: 'Id must be a number' });\n\n    const checkUser = await userModel.getByOneField('id', id);\n    if (!checkUser.length) return ctx.notFound({ error: 'User not found' });\n    if (checkUser.error) return ctx.badRequest({ error: checkUser.error });\n\n    const itsUpdate = await userModel.update(ctx.request.body, id);\n    if (itsUpdate.error) return ctx.badRequest({ error: itsUpdate.error });\n    if (!itsUpdate) return ctx.noContent()\n\n    const user = await userModel.getByOneField('id', id);\n    ctx.ok(user);\n  })\n\n  .post('/upload/:id', async ctx => {\n    const { id } = ctx.params;\n    if (!isNumber(id)) return ctx.badRequest({ error: 'Id must be a number' });\n\n    const checkUser = await userModel.getByOneField('id', id);\n    if (!checkUser.length) return ctx.notFound({ error: 'User not found' });\n    if (checkUser.error) return ctx.badRequest({ error: checkUser.error });\n\n    const { file } = ctx.request.files\n    const path = process.cwd() + '/static/' + tools.getUid() + extname(file.name);\n    const itsMove = await tools.moveToStatic(file.path, path);\n    if (itsMove.error) return ctx.badRequest({ error: itsMove.error });\n\n    userModel.update({ image: path }, id);\n    ctx.send(202);\n  })\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557990834683
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/util\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/util/tools.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/util/tools.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/util/tools.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/util/tools.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util",
        "sourceFileName": "tools.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n// import JWT from 'jsonwebtoken';\n// import request from 'request-promise';\n// import uuid from 'uuid/v1';\n// import fs from 'fs-extra';\nclass Tools {// constructor() {\n  //   this.sms = `https://sms.ru/sms/send?api_id=${process.env.SMS_KEY}`;\n  //   this.secret = process.env.SECRET;\n  // }\n  //\n  // async sendMessage(to, text) {\n  //   const query = `&to=${to}&msg=${text}&json=1`;\n  //\n  //   try {\n  //     const result = JSON.parse(await request.get(this.sms + query));\n  //     delete result['balance'];\n  //     return result;\n  //   } catch (e) {\n  //     return { error: e.message };\n  //   }\n  // }\n  //\n  // getJwtToken({ firstname, lastname, email, phone, id }) {\n  //   const payload = { firstname, lastname, email, phone, id };\n  //   const token = JWT.sign(payload, this.secret, { expiresIn: '7 days' });\n  //   return token;\n  // }\n  //\n  // getSymbol(num) {\n  //   let str = '?, ';\n  //   return str.repeat(num).slice(0, -2);\n  // }\n  //\n  // getArrPayload(obj) {\n  //   if (typeof obj !== 'object') return [[], []];\n  //   const arr = [Object.keys(obj), Object.values(obj)];\n  //   return arr;\n  // }\n  //\n  // getUid() {\n  //   return uuid()\n  // }\n  //\n  // async moveToStatic(from, to) {\n  //   try {\n  //     await fs.copy(from, to);\n  //     return true;\n  //   } catch (e) {\n  //     return { error: e.message };\n  //   }\n  // }\n}\n\nvar _default = new Tools();\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRvb2xzLmpzIl0sIm5hbWVzIjpbIlRvb2xzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQSxNQUFNQSxLQUFOLENBQVksQ0FDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTlDVTs7ZUFrREcsSUFBSUEsS0FBSixFIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9uYXZydXpqbi9Eb2N1bWVudHMvQXJjaGl2ZS9iYWNrZW5kL2JhY2svc3JjL3V0aWwiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgSldUIGZyb20gJ2pzb253ZWJ0b2tlbic7XG4vLyBpbXBvcnQgcmVxdWVzdCBmcm9tICdyZXF1ZXN0LXByb21pc2UnO1xuLy8gaW1wb3J0IHV1aWQgZnJvbSAndXVpZC92MSc7XG4vLyBpbXBvcnQgZnMgZnJvbSAnZnMtZXh0cmEnO1xuXG5jbGFzcyBUb29scyB7XG4gIC8vIGNvbnN0cnVjdG9yKCkge1xuICAvLyAgIHRoaXMuc21zID0gYGh0dHBzOi8vc21zLnJ1L3Ntcy9zZW5kP2FwaV9pZD0ke3Byb2Nlc3MuZW52LlNNU19LRVl9YDtcbiAgLy8gICB0aGlzLnNlY3JldCA9IHByb2Nlc3MuZW52LlNFQ1JFVDtcbiAgLy8gfVxuICAvL1xuICAvLyBhc3luYyBzZW5kTWVzc2FnZSh0bywgdGV4dCkge1xuICAvLyAgIGNvbnN0IHF1ZXJ5ID0gYCZ0bz0ke3RvfSZtc2c9JHt0ZXh0fSZqc29uPTFgO1xuICAvL1xuICAvLyAgIHRyeSB7XG4gIC8vICAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKGF3YWl0IHJlcXVlc3QuZ2V0KHRoaXMuc21zICsgcXVlcnkpKTtcbiAgLy8gICAgIGRlbGV0ZSByZXN1bHRbJ2JhbGFuY2UnXTtcbiAgLy8gICAgIHJldHVybiByZXN1bHQ7XG4gIC8vICAgfSBjYXRjaCAoZSkge1xuICAvLyAgICAgcmV0dXJuIHsgZXJyb3I6IGUubWVzc2FnZSB9O1xuICAvLyAgIH1cbiAgLy8gfVxuICAvL1xuICAvLyBnZXRKd3RUb2tlbih7IGZpcnN0bmFtZSwgbGFzdG5hbWUsIGVtYWlsLCBwaG9uZSwgaWQgfSkge1xuICAvLyAgIGNvbnN0IHBheWxvYWQgPSB7IGZpcnN0bmFtZSwgbGFzdG5hbWUsIGVtYWlsLCBwaG9uZSwgaWQgfTtcbiAgLy8gICBjb25zdCB0b2tlbiA9IEpXVC5zaWduKHBheWxvYWQsIHRoaXMuc2VjcmV0LCB7IGV4cGlyZXNJbjogJzcgZGF5cycgfSk7XG4gIC8vICAgcmV0dXJuIHRva2VuO1xuICAvLyB9XG4gIC8vXG4gIC8vIGdldFN5bWJvbChudW0pIHtcbiAgLy8gICBsZXQgc3RyID0gJz8sICc7XG4gIC8vICAgcmV0dXJuIHN0ci5yZXBlYXQobnVtKS5zbGljZSgwLCAtMik7XG4gIC8vIH1cbiAgLy9cbiAgLy8gZ2V0QXJyUGF5bG9hZChvYmopIHtcbiAgLy8gICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHJldHVybiBbW10sIFtdXTtcbiAgLy8gICBjb25zdCBhcnIgPSBbT2JqZWN0LmtleXMob2JqKSwgT2JqZWN0LnZhbHVlcyhvYmopXTtcbiAgLy8gICByZXR1cm4gYXJyO1xuICAvLyB9XG4gIC8vXG4gIC8vIGdldFVpZCgpIHtcbiAgLy8gICByZXR1cm4gdXVpZCgpXG4gIC8vIH1cbiAgLy9cbiAgLy8gYXN5bmMgbW92ZVRvU3RhdGljKGZyb20sIHRvKSB7XG4gIC8vICAgdHJ5IHtcbiAgLy8gICAgIGF3YWl0IGZzLmNvcHkoZnJvbSwgdG8pO1xuICAvLyAgICAgcmV0dXJuIHRydWU7XG4gIC8vICAgfSBjYXRjaCAoZSkge1xuICAvLyAgICAgcmV0dXJuIHsgZXJyb3I6IGUubWVzc2FnZSB9O1xuICAvLyAgIH1cbiAgLy8gfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IG5ldyBUb29scygpO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "tools.js"
      ],
      "names": [
        "Tools"
      ],
      "mappings": ";;;;;;;AAAA;AACA;AACA;AACA;AAEA,MAAMA,KAAN,CAAY,CACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9CU;;eAkDG,IAAIA,KAAJ,E",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util",
      "sourcesContent": [
        "// import JWT from 'jsonwebtoken';\n// import request from 'request-promise';\n// import uuid from 'uuid/v1';\n// import fs from 'fs-extra';\n\nclass Tools {\n  // constructor() {\n  //   this.sms = `https://sms.ru/sms/send?api_id=${process.env.SMS_KEY}`;\n  //   this.secret = process.env.SECRET;\n  // }\n  //\n  // async sendMessage(to, text) {\n  //   const query = `&to=${to}&msg=${text}&json=1`;\n  //\n  //   try {\n  //     const result = JSON.parse(await request.get(this.sms + query));\n  //     delete result['balance'];\n  //     return result;\n  //   } catch (e) {\n  //     return { error: e.message };\n  //   }\n  // }\n  //\n  // getJwtToken({ firstname, lastname, email, phone, id }) {\n  //   const payload = { firstname, lastname, email, phone, id };\n  //   const token = JWT.sign(payload, this.secret, { expiresIn: '7 days' });\n  //   return token;\n  // }\n  //\n  // getSymbol(num) {\n  //   let str = '?, ';\n  //   return str.repeat(num).slice(0, -2);\n  // }\n  //\n  // getArrPayload(obj) {\n  //   if (typeof obj !== 'object') return [[], []];\n  //   const arr = [Object.keys(obj), Object.values(obj)];\n  //   return arr;\n  // }\n  //\n  // getUid() {\n  //   return uuid()\n  // }\n  //\n  // async moveToStatic(from, to) {\n  //   try {\n  //     await fs.copy(from, to);\n  //     return true;\n  //   } catch (e) {\n  //     return { error: e.message };\n  //   }\n  // }\n\n}\n\nexport default new Tools();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557950802985
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/util\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/util/logger.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/util/logger.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/util/logger.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/util/logger.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util",
        "sourceFileName": "logger.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar log4js = _interopRequireWildcard(require(\"log4js\"));\n\nvar _config = require(\"../config\");\n\nconst option = {\n  appenders: {\n    dateFile: {\n      type: 'dateFile',\n      category: 'http',\n      pattern: 'yyyy-MM-dd.log',\n      alwaysIncludePattern: true,\n      maxLogSize: 5242880,\n      numBackups: 3,\n      encoding: 'utf-8',\n      filename: _config.loggerOptions.file || 'logs/logFile'\n    },\n    out: {\n      type: 'console',\n      category: 'console'\n    }\n  },\n  replaceConsole: true,\n  categories: {\n    default: {\n      appenders: ['dateFile', 'out'],\n      level: _config.loggerOptions.level\n    }\n  }\n};\nlog4js.configure(option);\nObject.freeze(log4js);\n\nvar _default = name => {\n  const title = _config.loggerOptions.title;\n  const logger = log4js.getLogger(`${title} ` + name);\n  logger.level = process.env.NODE_ENV === 'test' ? 'off' : _config.loggerOptions.level;\n  return logger;\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2dlci5qcyJdLCJuYW1lcyI6WyJvcHRpb24iLCJhcHBlbmRlcnMiLCJkYXRlRmlsZSIsInR5cGUiLCJjYXRlZ29yeSIsInBhdHRlcm4iLCJhbHdheXNJbmNsdWRlUGF0dGVybiIsIm1heExvZ1NpemUiLCJudW1CYWNrdXBzIiwiZW5jb2RpbmciLCJmaWxlbmFtZSIsImxvZ2dlck9wdGlvbnMiLCJmaWxlIiwib3V0IiwicmVwbGFjZUNvbnNvbGUiLCJjYXRlZ29yaWVzIiwiZGVmYXVsdCIsImxldmVsIiwibG9nNGpzIiwiY29uZmlndXJlIiwiT2JqZWN0IiwiZnJlZXplIiwibmFtZSIsInRpdGxlIiwibG9nZ2VyIiwiZ2V0TG9nZ2VyIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQSxNQUFNQSxNQUFNLEdBQUc7QUFDYkMsRUFBQUEsU0FBUyxFQUFFO0FBQ1RDLElBQUFBLFFBQVEsRUFBRTtBQUNSQyxNQUFBQSxJQUFJLEVBQUUsVUFERTtBQUVSQyxNQUFBQSxRQUFRLEVBQUUsTUFGRjtBQUdSQyxNQUFBQSxPQUFPLEVBQUUsZ0JBSEQ7QUFJUkMsTUFBQUEsb0JBQW9CLEVBQUUsSUFKZDtBQUtSQyxNQUFBQSxVQUFVLEVBQUUsT0FMSjtBQU1SQyxNQUFBQSxVQUFVLEVBQUUsQ0FOSjtBQU9SQyxNQUFBQSxRQUFRLEVBQUUsT0FQRjtBQVFSQyxNQUFBQSxRQUFRLEVBQUVDLHNCQUFjQyxJQUFkLElBQXNCO0FBUnhCLEtBREQ7QUFXVEMsSUFBQUEsR0FBRyxFQUFFO0FBQ0hWLE1BQUFBLElBQUksRUFBRSxTQURIO0FBRUhDLE1BQUFBLFFBQVEsRUFBRTtBQUZQO0FBWEksR0FERTtBQWlCYlUsRUFBQUEsY0FBYyxFQUFFLElBakJIO0FBa0JiQyxFQUFBQSxVQUFVLEVBQUU7QUFDVkMsSUFBQUEsT0FBTyxFQUFFO0FBQ1BmLE1BQUFBLFNBQVMsRUFBRSxDQUFDLFVBQUQsRUFBYSxLQUFiLENBREo7QUFFUGdCLE1BQUFBLEtBQUssRUFBRU4sc0JBQWNNO0FBRmQ7QUFEQztBQWxCQyxDQUFmO0FBMEJBQyxNQUFNLENBQUNDLFNBQVAsQ0FBaUJuQixNQUFqQjtBQUNBb0IsTUFBTSxDQUFDQyxNQUFQLENBQWNILE1BQWQ7O2VBRWVJLElBQUksSUFBSTtBQUNyQixRQUFNQyxLQUFLLEdBQUdaLHNCQUFjWSxLQUE1QjtBQUNBLFFBQU1DLE1BQU0sR0FBR04sTUFBTSxDQUFDTyxTQUFQLENBQWtCLEdBQUVGLEtBQU0sR0FBVCxHQUFjRCxJQUEvQixDQUFmO0FBQ0FFLEVBQUFBLE1BQU0sQ0FBQ1AsS0FBUCxHQUFlUyxPQUFPLENBQUNDLEdBQVIsQ0FBWUMsUUFBWixLQUF5QixNQUF6QixHQUFrQyxLQUFsQyxHQUEwQ2pCLHNCQUFjTSxLQUF2RTtBQUNBLFNBQU9PLE1BQVA7QUFDRCxDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9uYXZydXpqbi9Eb2N1bWVudHMvQXJjaGl2ZS9iYWNrZW5kL2JhY2svc3JjL3V0aWwiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBsb2c0anMgZnJvbSAnbG9nNGpzJztcbmltcG9ydCB7IGxvZ2dlck9wdGlvbnMgfSBmcm9tICcuLi9jb25maWcnO1xuXG5jb25zdCBvcHRpb24gPSB7XG4gIGFwcGVuZGVyczoge1xuICAgIGRhdGVGaWxlOiB7XG4gICAgICB0eXBlOiAnZGF0ZUZpbGUnLFxuICAgICAgY2F0ZWdvcnk6ICdodHRwJyxcbiAgICAgIHBhdHRlcm46ICd5eXl5LU1NLWRkLmxvZycsXG4gICAgICBhbHdheXNJbmNsdWRlUGF0dGVybjogdHJ1ZSxcbiAgICAgIG1heExvZ1NpemU6IDUyNDI4ODAsXG4gICAgICBudW1CYWNrdXBzOiAzLFxuICAgICAgZW5jb2Rpbmc6ICd1dGYtOCcsXG4gICAgICBmaWxlbmFtZTogbG9nZ2VyT3B0aW9ucy5maWxlIHx8ICdsb2dzL2xvZ0ZpbGUnXG4gICAgfSxcbiAgICBvdXQ6IHtcbiAgICAgIHR5cGU6ICdjb25zb2xlJyxcbiAgICAgIGNhdGVnb3J5OiAnY29uc29sZSdcbiAgICB9XG4gIH0sXG4gIHJlcGxhY2VDb25zb2xlOiB0cnVlLFxuICBjYXRlZ29yaWVzOiB7XG4gICAgZGVmYXVsdDoge1xuICAgICAgYXBwZW5kZXJzOiBbJ2RhdGVGaWxlJywgJ291dCddLFxuICAgICAgbGV2ZWw6IGxvZ2dlck9wdGlvbnMubGV2ZWxcbiAgICB9XG4gIH1cbn07XG5cbmxvZzRqcy5jb25maWd1cmUob3B0aW9uKTtcbk9iamVjdC5mcmVlemUobG9nNGpzKTtcblxuZXhwb3J0IGRlZmF1bHQgbmFtZSA9PiB7XG4gIGNvbnN0IHRpdGxlID0gbG9nZ2VyT3B0aW9ucy50aXRsZTtcbiAgY29uc3QgbG9nZ2VyID0gbG9nNGpzLmdldExvZ2dlcihgJHt0aXRsZX0gYCArIG5hbWUpO1xuICBsb2dnZXIubGV2ZWwgPSBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnID8gJ29mZicgOiBsb2dnZXJPcHRpb25zLmxldmVsO1xuICByZXR1cm4gbG9nZ2VyO1xufTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "logger.js"
      ],
      "names": [
        "option",
        "appenders",
        "dateFile",
        "type",
        "category",
        "pattern",
        "alwaysIncludePattern",
        "maxLogSize",
        "numBackups",
        "encoding",
        "filename",
        "loggerOptions",
        "file",
        "out",
        "replaceConsole",
        "categories",
        "default",
        "level",
        "log4js",
        "configure",
        "Object",
        "freeze",
        "name",
        "title",
        "logger",
        "getLogger",
        "process",
        "env",
        "NODE_ENV"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AAEA,MAAMA,MAAM,GAAG;AACbC,EAAAA,SAAS,EAAE;AACTC,IAAAA,QAAQ,EAAE;AACRC,MAAAA,IAAI,EAAE,UADE;AAERC,MAAAA,QAAQ,EAAE,MAFF;AAGRC,MAAAA,OAAO,EAAE,gBAHD;AAIRC,MAAAA,oBAAoB,EAAE,IAJd;AAKRC,MAAAA,UAAU,EAAE,OALJ;AAMRC,MAAAA,UAAU,EAAE,CANJ;AAORC,MAAAA,QAAQ,EAAE,OAPF;AAQRC,MAAAA,QAAQ,EAAEC,sBAAcC,IAAd,IAAsB;AARxB,KADD;AAWTC,IAAAA,GAAG,EAAE;AACHV,MAAAA,IAAI,EAAE,SADH;AAEHC,MAAAA,QAAQ,EAAE;AAFP;AAXI,GADE;AAiBbU,EAAAA,cAAc,EAAE,IAjBH;AAkBbC,EAAAA,UAAU,EAAE;AACVC,IAAAA,OAAO,EAAE;AACPf,MAAAA,SAAS,EAAE,CAAC,UAAD,EAAa,KAAb,CADJ;AAEPgB,MAAAA,KAAK,EAAEN,sBAAcM;AAFd;AADC;AAlBC,CAAf;AA0BAC,MAAM,CAACC,SAAP,CAAiBnB,MAAjB;AACAoB,MAAM,CAACC,MAAP,CAAcH,MAAd;;eAEeI,IAAI,IAAI;AACrB,QAAMC,KAAK,GAAGZ,sBAAcY,KAA5B;AACA,QAAMC,MAAM,GAAGN,MAAM,CAACO,SAAP,CAAkB,GAAEF,KAAM,GAAT,GAAcD,IAA/B,CAAf;AACAE,EAAAA,MAAM,CAACP,KAAP,GAAeS,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,MAAzB,GAAkC,KAAlC,GAA0CjB,sBAAcM,KAAvE;AACA,SAAOO,MAAP;AACD,C",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util",
      "sourcesContent": [
        "import * as log4js from 'log4js';\nimport { loggerOptions } from '../config';\n\nconst option = {\n  appenders: {\n    dateFile: {\n      type: 'dateFile',\n      category: 'http',\n      pattern: 'yyyy-MM-dd.log',\n      alwaysIncludePattern: true,\n      maxLogSize: 5242880,\n      numBackups: 3,\n      encoding: 'utf-8',\n      filename: loggerOptions.file || 'logs/logFile'\n    },\n    out: {\n      type: 'console',\n      category: 'console'\n    }\n  },\n  replaceConsole: true,\n  categories: {\n    default: {\n      appenders: ['dateFile', 'out'],\n      level: loggerOptions.level\n    }\n  }\n};\n\nlog4js.configure(option);\nObject.freeze(log4js);\n\nexport default name => {\n  const title = loggerOptions.title;\n  const logger = log4js.getLogger(`${title} ` + name);\n  logger.level = process.env.NODE_ENV === 'test' ? 'off' : loggerOptions.level;\n  return logger;\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557950775888
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/config.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/config.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/config.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loggerOptions = exports.port = void 0;\n\nrequire(\"dotenv/config\");\n\nconst port = 8080;\nexports.port = port;\nconst loggerOptions = {\n  file: 'logs/qweep',\n  level: 'debug',\n  title: 'Qweep'\n};\nexports.loggerOptions = loggerOptions;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJwb3J0IiwibG9nZ2VyT3B0aW9ucyIsImZpbGUiLCJsZXZlbCIsInRpdGxlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBRU8sTUFBTUEsSUFBSSxHQUFHLElBQWI7O0FBRUEsTUFBTUMsYUFBYSxHQUFHO0FBQzNCQyxFQUFBQSxJQUFJLEVBQUUsWUFEcUI7QUFFM0JDLEVBQUFBLEtBQUssRUFBRSxPQUZvQjtBQUczQkMsRUFBQUEsS0FBSyxFQUFFO0FBSG9CLENBQXRCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9uYXZydXpqbi9Eb2N1bWVudHMvQXJjaGl2ZS9iYWNrZW5kL2JhY2svc3JjIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICdkb3RlbnYvY29uZmlnJztcblxuZXhwb3J0IGNvbnN0IHBvcnQgPSA4MDgwO1xuXG5leHBvcnQgY29uc3QgbG9nZ2VyT3B0aW9ucyA9IHtcbiAgZmlsZTogJ2xvZ3MvcXdlZXAnLFxuICBsZXZlbDogJ2RlYnVnJyxcbiAgdGl0bGU6ICdRd2VlcCdcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "port",
        "loggerOptions",
        "file",
        "level",
        "title"
      ],
      "mappings": ";;;;;;;AAAA;;AAEO,MAAMA,IAAI,GAAG,IAAb;;AAEA,MAAMC,aAAa,GAAG;AAC3BC,EAAAA,IAAI,EAAE,YADqB;AAE3BC,EAAAA,KAAK,EAAE,OAFoB;AAG3BC,EAAAA,KAAK,EAAE;AAHoB,CAAtB",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src",
      "sourcesContent": [
        "import 'dotenv/config';\n\nexport const port = 8080;\n\nexport const loggerOptions = {\n  file: 'logs/qweep',\n  level: 'debug',\n  title: 'Qweep'\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557949063022
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/middleware/authMiddleware.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/authMiddleware.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/authMiddleware.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware/authMiddleware.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
        "sourceFileName": "authMiddleware.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n//import { Context } from \"koa\";\nconst {\n  getTokenFromHeader\n} = require(\"../util/token/UserAuthManager\");\n\nconst TokenGenerator = require(\"../util/token/TokenGenerator\");\n\nconst jwtSettings = require(\"../../configs/config.json\").jwt; // Don't do redundant work for these paths\n// TODO: /code/token/verify routes (из тз), если правильно\n\n\nconst noAuthPrefixes = [\"/api/auth/\", \"/api/attendant/\", \"/api/signin/\", \"/api/signup/\", \"/api/refreshtoken\"];\n\nvar _default = async (ctx, next) => {\n  for (const prefix of noAuthPrefixes) {\n    if (ctx.url.startsWith(prefix)) {\n      await next();\n      return;\n    }\n  }\n\n  const authHeader = ctx.request.header.authorization;\n  const token = getTokenFromHeader(authHeader);\n  let isAdmin = false; // Admin token for access without signup\n\n  const env = process.env.NODE_ENV || \"dev\";\n  const adminToken = \"b32f9a44-151b-46ed-8cba-1eaeb58360da\";\n\n  if (env === \"dev\" && token === adminToken) {\n    isAdmin = true;\n  } //TODO: tokenType из settings\n\n\n  const auth = token ? TokenGenerator.verify(token, jwtSettings.jwtSecret) : null; // jwtSettings.tokenType.access\n\n  if (!auth && !isAdmin) {\n    return ctx.throw(401, \"Unauthorizaed\");\n  }\n\n  ctx.response.body = auth; //TODO: update user lastOnline after token verify\n\n  await next();\n};\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGhNaWRkbGV3YXJlLmpzIl0sIm5hbWVzIjpbImdldFRva2VuRnJvbUhlYWRlciIsInJlcXVpcmUiLCJUb2tlbkdlbmVyYXRvciIsImp3dFNldHRpbmdzIiwiand0Iiwibm9BdXRoUHJlZml4ZXMiLCJjdHgiLCJuZXh0IiwicHJlZml4IiwidXJsIiwic3RhcnRzV2l0aCIsImF1dGhIZWFkZXIiLCJyZXF1ZXN0IiwiaGVhZGVyIiwiYXV0aG9yaXphdGlvbiIsInRva2VuIiwiaXNBZG1pbiIsImVudiIsInByb2Nlc3MiLCJOT0RFX0VOViIsImFkbWluVG9rZW4iLCJhdXRoIiwidmVyaWZ5Iiwiand0U2VjcmV0IiwidGhyb3ciLCJyZXNwb25zZSIsImJvZHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBLE1BQU07QUFBRUEsRUFBQUE7QUFBRixJQUF5QkMsT0FBTyxDQUFDLCtCQUFELENBQXRDOztBQUNBLE1BQU1DLGNBQWMsR0FBR0QsT0FBTyxDQUFDLDhCQUFELENBQTlCOztBQUNBLE1BQU1FLFdBQVcsR0FBR0YsT0FBTyxDQUFDLDJCQUFELENBQVAsQ0FBcUNHLEdBQXpELEMsQ0FFQTtBQUNBOzs7QUFDQSxNQUFNQyxjQUFjLEdBQUcsQ0FDckIsWUFEcUIsRUFFckIsaUJBRnFCLEVBR3JCLGNBSHFCLEVBSXJCLGNBSnFCLEVBS3JCLG1CQUxxQixDQUF2Qjs7ZUFRZSxPQUFPQyxHQUFQLEVBQVlDLElBQVosS0FBcUI7QUFDbEMsT0FBSyxNQUFNQyxNQUFYLElBQXFCSCxjQUFyQixFQUFxQztBQUNuQyxRQUFJQyxHQUFHLENBQUNHLEdBQUosQ0FBUUMsVUFBUixDQUFtQkYsTUFBbkIsQ0FBSixFQUFnQztBQUM5QixZQUFNRCxJQUFJLEVBQVY7QUFDQTtBQUNEO0FBQ0Y7O0FBRUQsUUFBTUksVUFBVSxHQUFHTCxHQUFHLENBQUNNLE9BQUosQ0FBWUMsTUFBWixDQUFtQkMsYUFBdEM7QUFDQSxRQUFNQyxLQUFLLEdBQUdmLGtCQUFrQixDQUFDVyxVQUFELENBQWhDO0FBRUEsTUFBSUssT0FBTyxHQUFHLEtBQWQsQ0FYa0MsQ0FhbEM7O0FBQ0EsUUFBTUMsR0FBRyxHQUFHQyxPQUFPLENBQUNELEdBQVIsQ0FBWUUsUUFBWixJQUF3QixLQUFwQztBQUNBLFFBQU1DLFVBQVUsR0FBRyxzQ0FBbkI7O0FBRUEsTUFBSUgsR0FBRyxLQUFLLEtBQVIsSUFBaUJGLEtBQUssS0FBS0ssVUFBL0IsRUFBMkM7QUFDekNKLElBQUFBLE9BQU8sR0FBRyxJQUFWO0FBQ0QsR0FuQmlDLENBcUJsQzs7O0FBQ0EsUUFBTUssSUFBSSxHQUFHTixLQUFLLEdBQ1piLGNBQWMsQ0FBQ29CLE1BQWYsQ0FBc0JQLEtBQXRCLEVBQTZCWixXQUFXLENBQUNvQixTQUF6QyxDQURZLEdBRVosSUFGTixDQXRCa0MsQ0F3QnRCOztBQUVaLE1BQUksQ0FBQ0YsSUFBRCxJQUFTLENBQUNMLE9BQWQsRUFBdUI7QUFDckIsV0FBT1YsR0FBRyxDQUFDa0IsS0FBSixDQUFVLEdBQVYsRUFBZSxlQUFmLENBQVA7QUFDRDs7QUFFRGxCLEVBQUFBLEdBQUcsQ0FBQ21CLFFBQUosQ0FBYUMsSUFBYixHQUFvQkwsSUFBcEIsQ0E5QmtDLENBZ0NsQzs7QUFFQSxRQUFNZCxJQUFJLEVBQVY7QUFDRCxDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9uYXZydXpqbi9Eb2N1bWVudHMvQXJjaGl2ZS9iYWNrZW5kL2JhY2svc3JjL21pZGRsZXdhcmUiLCJzb3VyY2VzQ29udGVudCI6WyIvL2ltcG9ydCB7IENvbnRleHQgfSBmcm9tIFwia29hXCI7XG5jb25zdCB7IGdldFRva2VuRnJvbUhlYWRlciB9ID0gcmVxdWlyZShcIi4uL3V0aWwvdG9rZW4vVXNlckF1dGhNYW5hZ2VyXCIpO1xuY29uc3QgVG9rZW5HZW5lcmF0b3IgPSByZXF1aXJlKFwiLi4vdXRpbC90b2tlbi9Ub2tlbkdlbmVyYXRvclwiKTtcbmNvbnN0IGp3dFNldHRpbmdzID0gcmVxdWlyZShcIi4uLy4uL2NvbmZpZ3MvY29uZmlnLmpzb25cIikuand0O1xuXG4vLyBEb24ndCBkbyByZWR1bmRhbnQgd29yayBmb3IgdGhlc2UgcGF0aHNcbi8vIFRPRE86IC9jb2RlL3Rva2VuL3ZlcmlmeSByb3V0ZXMgKNC40Lcg0YLQtyksINC10YHQu9C4INC/0YDQsNCy0LjQu9GM0L3QvlxuY29uc3Qgbm9BdXRoUHJlZml4ZXMgPSBbXG4gIFwiL2FwaS9hdXRoL1wiLFxuICBcIi9hcGkvYXR0ZW5kYW50L1wiLFxuICBcIi9hcGkvc2lnbmluL1wiLFxuICBcIi9hcGkvc2lnbnVwL1wiLFxuICBcIi9hcGkvcmVmcmVzaHRva2VuXCJcbl07XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChjdHgsIG5leHQpID0+IHtcbiAgZm9yIChjb25zdCBwcmVmaXggb2Ygbm9BdXRoUHJlZml4ZXMpIHtcbiAgICBpZiAoY3R4LnVybC5zdGFydHNXaXRoKHByZWZpeCkpIHtcbiAgICAgIGF3YWl0IG5leHQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBjb25zdCBhdXRoSGVhZGVyID0gY3R4LnJlcXVlc3QuaGVhZGVyLmF1dGhvcml6YXRpb247XG4gIGNvbnN0IHRva2VuID0gZ2V0VG9rZW5Gcm9tSGVhZGVyKGF1dGhIZWFkZXIpO1xuXG4gIGxldCBpc0FkbWluID0gZmFsc2U7XG5cbiAgLy8gQWRtaW4gdG9rZW4gZm9yIGFjY2VzcyB3aXRob3V0IHNpZ251cFxuICBjb25zdCBlbnYgPSBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCBcImRldlwiO1xuICBjb25zdCBhZG1pblRva2VuID0gXCJiMzJmOWE0NC0xNTFiLTQ2ZWQtOGNiYS0xZWFlYjU4MzYwZGFcIjtcblxuICBpZiAoZW52ID09PSBcImRldlwiICYmIHRva2VuID09PSBhZG1pblRva2VuKSB7XG4gICAgaXNBZG1pbiA9IHRydWU7XG4gIH1cblxuICAvL1RPRE86IHRva2VuVHlwZSDQuNC3IHNldHRpbmdzXG4gIGNvbnN0IGF1dGggPSB0b2tlblxuICAgICAgPyBUb2tlbkdlbmVyYXRvci52ZXJpZnkodG9rZW4sIGp3dFNldHRpbmdzLmp3dFNlY3JldClcbiAgICAgIDogbnVsbDsgLy8gand0U2V0dGluZ3MudG9rZW5UeXBlLmFjY2Vzc1xuXG4gIGlmICghYXV0aCAmJiAhaXNBZG1pbikge1xuICAgIHJldHVybiBjdHgudGhyb3coNDAxLCBcIlVuYXV0aG9yaXphZWRcIik7XG4gIH1cblxuICBjdHgucmVzcG9uc2UuYm9keSA9IGF1dGg7XG5cbiAgLy9UT0RPOiB1cGRhdGUgdXNlciBsYXN0T25saW5lIGFmdGVyIHRva2VuIHZlcmlmeVxuXG4gIGF3YWl0IG5leHQoKTtcbn07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "authMiddleware.js"
      ],
      "names": [
        "getTokenFromHeader",
        "require",
        "TokenGenerator",
        "jwtSettings",
        "jwt",
        "noAuthPrefixes",
        "ctx",
        "next",
        "prefix",
        "url",
        "startsWith",
        "authHeader",
        "request",
        "header",
        "authorization",
        "token",
        "isAdmin",
        "env",
        "process",
        "NODE_ENV",
        "adminToken",
        "auth",
        "verify",
        "jwtSecret",
        "throw",
        "response",
        "body"
      ],
      "mappings": ";;;;;;;AAAA;AACA,MAAM;AAAEA,EAAAA;AAAF,IAAyBC,OAAO,CAAC,+BAAD,CAAtC;;AACA,MAAMC,cAAc,GAAGD,OAAO,CAAC,8BAAD,CAA9B;;AACA,MAAME,WAAW,GAAGF,OAAO,CAAC,2BAAD,CAAP,CAAqCG,GAAzD,C,CAEA;AACA;;;AACA,MAAMC,cAAc,GAAG,CACrB,YADqB,EAErB,iBAFqB,EAGrB,cAHqB,EAIrB,cAJqB,EAKrB,mBALqB,CAAvB;;eAQe,OAAOC,GAAP,EAAYC,IAAZ,KAAqB;AAClC,OAAK,MAAMC,MAAX,IAAqBH,cAArB,EAAqC;AACnC,QAAIC,GAAG,CAACG,GAAJ,CAAQC,UAAR,CAAmBF,MAAnB,CAAJ,EAAgC;AAC9B,YAAMD,IAAI,EAAV;AACA;AACD;AACF;;AAED,QAAMI,UAAU,GAAGL,GAAG,CAACM,OAAJ,CAAYC,MAAZ,CAAmBC,aAAtC;AACA,QAAMC,KAAK,GAAGf,kBAAkB,CAACW,UAAD,CAAhC;AAEA,MAAIK,OAAO,GAAG,KAAd,CAXkC,CAalC;;AACA,QAAMC,GAAG,GAAGC,OAAO,CAACD,GAAR,CAAYE,QAAZ,IAAwB,KAApC;AACA,QAAMC,UAAU,GAAG,sCAAnB;;AAEA,MAAIH,GAAG,KAAK,KAAR,IAAiBF,KAAK,KAAKK,UAA/B,EAA2C;AACzCJ,IAAAA,OAAO,GAAG,IAAV;AACD,GAnBiC,CAqBlC;;;AACA,QAAMK,IAAI,GAAGN,KAAK,GACZb,cAAc,CAACoB,MAAf,CAAsBP,KAAtB,EAA6BZ,WAAW,CAACoB,SAAzC,CADY,GAEZ,IAFN,CAtBkC,CAwBtB;;AAEZ,MAAI,CAACF,IAAD,IAAS,CAACL,OAAd,EAAuB;AACrB,WAAOV,GAAG,CAACkB,KAAJ,CAAU,GAAV,EAAe,eAAf,CAAP;AACD;;AAEDlB,EAAAA,GAAG,CAACmB,QAAJ,CAAaC,IAAb,GAAoBL,IAApB,CA9BkC,CAgClC;;AAEA,QAAMd,IAAI,EAAV;AACD,C",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/middleware",
      "sourcesContent": [
        "//import { Context } from \"koa\";\nconst { getTokenFromHeader } = require(\"../util/token/UserAuthManager\");\nconst TokenGenerator = require(\"../util/token/TokenGenerator\");\nconst jwtSettings = require(\"../../configs/config.json\").jwt;\n\n// Don't do redundant work for these paths\n// TODO: /code/token/verify routes (из тз), если правильно\nconst noAuthPrefixes = [\n  \"/api/auth/\",\n  \"/api/attendant/\",\n  \"/api/signin/\",\n  \"/api/signup/\",\n  \"/api/refreshtoken\"\n];\n\nexport default async (ctx, next) => {\n  for (const prefix of noAuthPrefixes) {\n    if (ctx.url.startsWith(prefix)) {\n      await next();\n      return;\n    }\n  }\n\n  const authHeader = ctx.request.header.authorization;\n  const token = getTokenFromHeader(authHeader);\n\n  let isAdmin = false;\n\n  // Admin token for access without signup\n  const env = process.env.NODE_ENV || \"dev\";\n  const adminToken = \"b32f9a44-151b-46ed-8cba-1eaeb58360da\";\n\n  if (env === \"dev\" && token === adminToken) {\n    isAdmin = true;\n  }\n\n  //TODO: tokenType из settings\n  const auth = token\n      ? TokenGenerator.verify(token, jwtSettings.jwtSecret)\n      : null; // jwtSettings.tokenType.access\n\n  if (!auth && !isAdmin) {\n    return ctx.throw(401, \"Unauthorizaed\");\n  }\n\n  ctx.response.body = auth;\n\n  //TODO: update user lastOnline after token verify\n\n  await next();\n};\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557942719863
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/util/token\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/util/token/UserAuthManager.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token/UserAuthManager.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token/UserAuthManager.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token/UserAuthManager.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token",
        "sourceFileName": "UserAuthManager.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst jwtSettings = require(\"../../../configs/config.json\").jwt;\n\nconst getTokenFromHeader = authHeader => {\n  console.log(\"**********************\", authHeader);\n\n  if (authHeader) {\n    const authParts = authHeader.split(\" \");\n\n    if (authParts.length === 1) {\n      // TODO deprecated\n      return authHeader;\n    } else if (authParts.length === 2 && authParts[0].toLowerCase() === \"bearer\") {\n      return authParts[1];\n    }\n  }\n\n  return undefined;\n};\n\nclass UserAuthManager {\n  static getAccessPayloadForUser(user) {\n    return {\n      sub: jwtSettings.tokenType.access,\n      id: user._id,\n      name: user.name //TODO: payload  { phone, id: (id or null), iat, exp } ?\n\n    };\n  }\n\n  static getRefreshPayloadForUser(user) {\n    return {\n      sub: jwtSettings.tokenType.refresh,\n      id: user._id,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      imageUrl: user.imageUrl,\n      address: user.address,\n      phone: user.phone,\n      password: user.password // xz\n\n    };\n  } //TODO: не понял зачем это\n  // static async createOrUpdateUserFromRefreshToken(payload) {\n  //     const userRepository = getManager().getRepository(User);\n  //     const user = await User.findOne(payload.id); //TODO: import model\n  //     if (!user) {\n  //         const newUser = new User(\n  //             payload.id,\n  //             payload.name,\n  //             payload.job,\n  //             payload.statusMessage,\n  //             undefined, // seat not synced because it is flight-local\n  //             payload.email,\n  //             payload.language,\n  //             payload.auth,\n  //             new Date(payload.updated)\n  //         );\n  //         await userRepository.save(newUser);\n  //         return newUser;\n  //     }\n  //     const tokenUpdated = new Date(payload.updated);\n  //     if (user.updated < tokenUpdated) {\n  //         user.name = payload.name;\n  //         user.job = payload.job;\n  //         user.statusMessage = payload.statusMessage;\n  //         user.email = payload.email || \"\";\n  //         user.updated = tokenUpdated;\n  //         await userRepository.save(user);\n  //     }\n  //     return user;\n  // }\n\n\n}\n\nmodule.exports = {\n  UserAuthManager,\n  getTokenFromHeader\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXJBdXRoTWFuYWdlci5qcyJdLCJuYW1lcyI6WyJqd3RTZXR0aW5ncyIsInJlcXVpcmUiLCJqd3QiLCJnZXRUb2tlbkZyb21IZWFkZXIiLCJhdXRoSGVhZGVyIiwiY29uc29sZSIsImxvZyIsImF1dGhQYXJ0cyIsInNwbGl0IiwibGVuZ3RoIiwidG9Mb3dlckNhc2UiLCJ1bmRlZmluZWQiLCJVc2VyQXV0aE1hbmFnZXIiLCJnZXRBY2Nlc3NQYXlsb2FkRm9yVXNlciIsInVzZXIiLCJzdWIiLCJ0b2tlblR5cGUiLCJhY2Nlc3MiLCJpZCIsIl9pZCIsIm5hbWUiLCJnZXRSZWZyZXNoUGF5bG9hZEZvclVzZXIiLCJyZWZyZXNoIiwic3VybmFtZSIsImVtYWlsIiwiaW1hZ2VVcmwiLCJhZGRyZXNzIiwicGhvbmUiLCJwYXNzd29yZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsV0FBVyxHQUFHQyxPQUFPLENBQUMsOEJBQUQsQ0FBUCxDQUF3Q0MsR0FBNUQ7O0FBRUEsTUFBTUMsa0JBQWtCLEdBQUdDLFVBQVUsSUFBSTtBQUN2Q0MsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksd0JBQVosRUFBc0NGLFVBQXRDOztBQUNBLE1BQUlBLFVBQUosRUFBZ0I7QUFDZCxVQUFNRyxTQUFTLEdBQUdILFVBQVUsQ0FBQ0ksS0FBWCxDQUFpQixHQUFqQixDQUFsQjs7QUFDQSxRQUFJRCxTQUFTLENBQUNFLE1BQVYsS0FBcUIsQ0FBekIsRUFBNEI7QUFDMUI7QUFDQSxhQUFPTCxVQUFQO0FBQ0QsS0FIRCxNQUdPLElBQ0xHLFNBQVMsQ0FBQ0UsTUFBVixLQUFxQixDQUFyQixJQUNBRixTQUFTLENBQUMsQ0FBRCxDQUFULENBQWFHLFdBQWIsT0FBK0IsUUFGMUIsRUFHTDtBQUNBLGFBQU9ILFNBQVMsQ0FBQyxDQUFELENBQWhCO0FBQ0Q7QUFDRjs7QUFDRCxTQUFPSSxTQUFQO0FBQ0QsQ0FmRDs7QUFpQkEsTUFBTUMsZUFBTixDQUFzQjtBQUNwQixTQUFPQyx1QkFBUCxDQUErQkMsSUFBL0IsRUFBcUM7QUFDbkMsV0FBTztBQUNMQyxNQUFBQSxHQUFHLEVBQUVmLFdBQVcsQ0FBQ2dCLFNBQVosQ0FBc0JDLE1BRHRCO0FBRUxDLE1BQUFBLEVBQUUsRUFBRUosSUFBSSxDQUFDSyxHQUZKO0FBR0xDLE1BQUFBLElBQUksRUFBRU4sSUFBSSxDQUFDTSxJQUhOLENBR1c7O0FBSFgsS0FBUDtBQUtEOztBQUVELFNBQU9DLHdCQUFQLENBQWdDUCxJQUFoQyxFQUFzQztBQUNwQyxXQUFPO0FBQ0xDLE1BQUFBLEdBQUcsRUFBRWYsV0FBVyxDQUFDZ0IsU0FBWixDQUFzQk0sT0FEdEI7QUFFTEosTUFBQUEsRUFBRSxFQUFFSixJQUFJLENBQUNLLEdBRko7QUFHTEMsTUFBQUEsSUFBSSxFQUFFTixJQUFJLENBQUNNLElBSE47QUFJTEcsTUFBQUEsT0FBTyxFQUFFVCxJQUFJLENBQUNTLE9BSlQ7QUFLTEMsTUFBQUEsS0FBSyxFQUFFVixJQUFJLENBQUNVLEtBTFA7QUFNTEMsTUFBQUEsUUFBUSxFQUFFWCxJQUFJLENBQUNXLFFBTlY7QUFPTEMsTUFBQUEsT0FBTyxFQUFFWixJQUFJLENBQUNZLE9BUFQ7QUFRTEMsTUFBQUEsS0FBSyxFQUFFYixJQUFJLENBQUNhLEtBUlA7QUFTTEMsTUFBQUEsUUFBUSxFQUFFZCxJQUFJLENBQUNjLFFBVFYsQ0FTbUI7O0FBVG5CLEtBQVA7QUFXRCxHQXJCbUIsQ0F1QnBCO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7O0FBekRvQjs7QUE0RHRCQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI7QUFBRWxCLEVBQUFBLGVBQUY7QUFBbUJULEVBQUFBO0FBQW5CLENBQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9uYXZydXpqbi9Eb2N1bWVudHMvQXJjaGl2ZS9iYWNrZW5kL2JhY2svc3JjL3V0aWwvdG9rZW4iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBqd3RTZXR0aW5ncyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9jb25maWdzL2NvbmZpZy5qc29uXCIpLmp3dDtcblxuY29uc3QgZ2V0VG9rZW5Gcm9tSGVhZGVyID0gYXV0aEhlYWRlciA9PiB7XG4gIGNvbnNvbGUubG9nKFwiKioqKioqKioqKioqKioqKioqKioqKlwiLCBhdXRoSGVhZGVyKTtcbiAgaWYgKGF1dGhIZWFkZXIpIHtcbiAgICBjb25zdCBhdXRoUGFydHMgPSBhdXRoSGVhZGVyLnNwbGl0KFwiIFwiKTtcbiAgICBpZiAoYXV0aFBhcnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gVE9ETyBkZXByZWNhdGVkXG4gICAgICByZXR1cm4gYXV0aEhlYWRlcjtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgYXV0aFBhcnRzLmxlbmd0aCA9PT0gMiAmJlxuICAgICAgYXV0aFBhcnRzWzBdLnRvTG93ZXJDYXNlKCkgPT09IFwiYmVhcmVyXCJcbiAgICApIHtcbiAgICAgIHJldHVybiBhdXRoUGFydHNbMV07XG4gICAgfVxuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59O1xuXG5jbGFzcyBVc2VyQXV0aE1hbmFnZXIge1xuICBzdGF0aWMgZ2V0QWNjZXNzUGF5bG9hZEZvclVzZXIodXNlcikge1xuICAgIHJldHVybiB7XG4gICAgICBzdWI6IGp3dFNldHRpbmdzLnRva2VuVHlwZS5hY2Nlc3MsXG4gICAgICBpZDogdXNlci5faWQsXG4gICAgICBuYW1lOiB1c2VyLm5hbWUgLy9UT0RPOiBwYXlsb2FkICB7IHBob25lLCBpZDogKGlkIG9yIG51bGwpLCBpYXQsIGV4cCB9ID9cbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIGdldFJlZnJlc2hQYXlsb2FkRm9yVXNlcih1c2VyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Yjogand0U2V0dGluZ3MudG9rZW5UeXBlLnJlZnJlc2gsXG4gICAgICBpZDogdXNlci5faWQsXG4gICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICBzdXJuYW1lOiB1c2VyLnN1cm5hbWUsXG4gICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgIGltYWdlVXJsOiB1c2VyLmltYWdlVXJsLFxuICAgICAgYWRkcmVzczogdXNlci5hZGRyZXNzLFxuICAgICAgcGhvbmU6IHVzZXIucGhvbmUsXG4gICAgICBwYXNzd29yZDogdXNlci5wYXNzd29yZCAvLyB4elxuICAgIH07XG4gIH1cblxuICAvL1RPRE86INC90LUg0L/QvtC90Y/QuyDQt9Cw0YfQtdC8INGN0YLQvlxuXG4gIC8vIHN0YXRpYyBhc3luYyBjcmVhdGVPclVwZGF0ZVVzZXJGcm9tUmVmcmVzaFRva2VuKHBheWxvYWQpIHtcbiAgLy8gICAgIGNvbnN0IHVzZXJSZXBvc2l0b3J5ID0gZ2V0TWFuYWdlcigpLmdldFJlcG9zaXRvcnkoVXNlcik7XG4gIC8vICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHBheWxvYWQuaWQpOyAvL1RPRE86IGltcG9ydCBtb2RlbFxuXG4gIC8vICAgICBpZiAoIXVzZXIpIHtcbiAgLy8gICAgICAgICBjb25zdCBuZXdVc2VyID0gbmV3IFVzZXIoXG4gIC8vICAgICAgICAgICAgIHBheWxvYWQuaWQsXG4gIC8vICAgICAgICAgICAgIHBheWxvYWQubmFtZSxcbiAgLy8gICAgICAgICAgICAgcGF5bG9hZC5qb2IsXG4gIC8vICAgICAgICAgICAgIHBheWxvYWQuc3RhdHVzTWVzc2FnZSxcbiAgLy8gICAgICAgICAgICAgdW5kZWZpbmVkLCAvLyBzZWF0IG5vdCBzeW5jZWQgYmVjYXVzZSBpdCBpcyBmbGlnaHQtbG9jYWxcbiAgLy8gICAgICAgICAgICAgcGF5bG9hZC5lbWFpbCxcbiAgLy8gICAgICAgICAgICAgcGF5bG9hZC5sYW5ndWFnZSxcbiAgLy8gICAgICAgICAgICAgcGF5bG9hZC5hdXRoLFxuICAvLyAgICAgICAgICAgICBuZXcgRGF0ZShwYXlsb2FkLnVwZGF0ZWQpXG4gIC8vICAgICAgICAgKTtcbiAgLy8gICAgICAgICBhd2FpdCB1c2VyUmVwb3NpdG9yeS5zYXZlKG5ld1VzZXIpO1xuICAvLyAgICAgICAgIHJldHVybiBuZXdVc2VyO1xuICAvLyAgICAgfVxuXG4gIC8vICAgICBjb25zdCB0b2tlblVwZGF0ZWQgPSBuZXcgRGF0ZShwYXlsb2FkLnVwZGF0ZWQpO1xuXG4gIC8vICAgICBpZiAodXNlci51cGRhdGVkIDwgdG9rZW5VcGRhdGVkKSB7XG4gIC8vICAgICAgICAgdXNlci5uYW1lID0gcGF5bG9hZC5uYW1lO1xuICAvLyAgICAgICAgIHVzZXIuam9iID0gcGF5bG9hZC5qb2I7XG4gIC8vICAgICAgICAgdXNlci5zdGF0dXNNZXNzYWdlID0gcGF5bG9hZC5zdGF0dXNNZXNzYWdlO1xuICAvLyAgICAgICAgIHVzZXIuZW1haWwgPSBwYXlsb2FkLmVtYWlsIHx8IFwiXCI7XG4gIC8vICAgICAgICAgdXNlci51cGRhdGVkID0gdG9rZW5VcGRhdGVkO1xuICAvLyAgICAgICAgIGF3YWl0IHVzZXJSZXBvc2l0b3J5LnNhdmUodXNlcik7XG4gIC8vICAgICB9XG5cbiAgLy8gICAgIHJldHVybiB1c2VyO1xuICAvLyB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0geyBVc2VyQXV0aE1hbmFnZXIsIGdldFRva2VuRnJvbUhlYWRlciB9O1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "UserAuthManager.js"
      ],
      "names": [
        "jwtSettings",
        "require",
        "jwt",
        "getTokenFromHeader",
        "authHeader",
        "console",
        "log",
        "authParts",
        "split",
        "length",
        "toLowerCase",
        "undefined",
        "UserAuthManager",
        "getAccessPayloadForUser",
        "user",
        "sub",
        "tokenType",
        "access",
        "id",
        "_id",
        "name",
        "getRefreshPayloadForUser",
        "refresh",
        "surname",
        "email",
        "imageUrl",
        "address",
        "phone",
        "password",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,WAAW,GAAGC,OAAO,CAAC,8BAAD,CAAP,CAAwCC,GAA5D;;AAEA,MAAMC,kBAAkB,GAAGC,UAAU,IAAI;AACvCC,EAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCF,UAAtC;;AACA,MAAIA,UAAJ,EAAgB;AACd,UAAMG,SAAS,GAAGH,UAAU,CAACI,KAAX,CAAiB,GAAjB,CAAlB;;AACA,QAAID,SAAS,CAACE,MAAV,KAAqB,CAAzB,EAA4B;AAC1B;AACA,aAAOL,UAAP;AACD,KAHD,MAGO,IACLG,SAAS,CAACE,MAAV,KAAqB,CAArB,IACAF,SAAS,CAAC,CAAD,CAAT,CAAaG,WAAb,OAA+B,QAF1B,EAGL;AACA,aAAOH,SAAS,CAAC,CAAD,CAAhB;AACD;AACF;;AACD,SAAOI,SAAP;AACD,CAfD;;AAiBA,MAAMC,eAAN,CAAsB;AACpB,SAAOC,uBAAP,CAA+BC,IAA/B,EAAqC;AACnC,WAAO;AACLC,MAAAA,GAAG,EAAEf,WAAW,CAACgB,SAAZ,CAAsBC,MADtB;AAELC,MAAAA,EAAE,EAAEJ,IAAI,CAACK,GAFJ;AAGLC,MAAAA,IAAI,EAAEN,IAAI,CAACM,IAHN,CAGW;;AAHX,KAAP;AAKD;;AAED,SAAOC,wBAAP,CAAgCP,IAAhC,EAAsC;AACpC,WAAO;AACLC,MAAAA,GAAG,EAAEf,WAAW,CAACgB,SAAZ,CAAsBM,OADtB;AAELJ,MAAAA,EAAE,EAAEJ,IAAI,CAACK,GAFJ;AAGLC,MAAAA,IAAI,EAAEN,IAAI,CAACM,IAHN;AAILG,MAAAA,OAAO,EAAET,IAAI,CAACS,OAJT;AAKLC,MAAAA,KAAK,EAAEV,IAAI,CAACU,KALP;AAMLC,MAAAA,QAAQ,EAAEX,IAAI,CAACW,QANV;AAOLC,MAAAA,OAAO,EAAEZ,IAAI,CAACY,OAPT;AAQLC,MAAAA,KAAK,EAAEb,IAAI,CAACa,KARP;AASLC,MAAAA,QAAQ,EAAEd,IAAI,CAACc,QATV,CASmB;;AATnB,KAAP;AAWD,GArBmB,CAuBpB;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;;AAzDoB;;AA4DtBC,MAAM,CAACC,OAAP,GAAiB;AAAElB,EAAAA,eAAF;AAAmBT,EAAAA;AAAnB,CAAjB",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token",
      "sourcesContent": [
        "const jwtSettings = require(\"../../../configs/config.json\").jwt;\n\nconst getTokenFromHeader = authHeader => {\n  console.log(\"**********************\", authHeader);\n  if (authHeader) {\n    const authParts = authHeader.split(\" \");\n    if (authParts.length === 1) {\n      // TODO deprecated\n      return authHeader;\n    } else if (\n      authParts.length === 2 &&\n      authParts[0].toLowerCase() === \"bearer\"\n    ) {\n      return authParts[1];\n    }\n  }\n  return undefined;\n};\n\nclass UserAuthManager {\n  static getAccessPayloadForUser(user) {\n    return {\n      sub: jwtSettings.tokenType.access,\n      id: user._id,\n      name: user.name //TODO: payload  { phone, id: (id or null), iat, exp } ?\n    };\n  }\n\n  static getRefreshPayloadForUser(user) {\n    return {\n      sub: jwtSettings.tokenType.refresh,\n      id: user._id,\n      name: user.name,\n      surname: user.surname,\n      email: user.email,\n      imageUrl: user.imageUrl,\n      address: user.address,\n      phone: user.phone,\n      password: user.password // xz\n    };\n  }\n\n  //TODO: не понял зачем это\n\n  // static async createOrUpdateUserFromRefreshToken(payload) {\n  //     const userRepository = getManager().getRepository(User);\n  //     const user = await User.findOne(payload.id); //TODO: import model\n\n  //     if (!user) {\n  //         const newUser = new User(\n  //             payload.id,\n  //             payload.name,\n  //             payload.job,\n  //             payload.statusMessage,\n  //             undefined, // seat not synced because it is flight-local\n  //             payload.email,\n  //             payload.language,\n  //             payload.auth,\n  //             new Date(payload.updated)\n  //         );\n  //         await userRepository.save(newUser);\n  //         return newUser;\n  //     }\n\n  //     const tokenUpdated = new Date(payload.updated);\n\n  //     if (user.updated < tokenUpdated) {\n  //         user.name = payload.name;\n  //         user.job = payload.job;\n  //         user.statusMessage = payload.statusMessage;\n  //         user.email = payload.email || \"\";\n  //         user.updated = tokenUpdated;\n  //         await userRepository.save(user);\n  //     }\n\n  //     return user;\n  // }\n}\n\nmodule.exports = { UserAuthManager, getTokenFromHeader };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557941829317
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/util/token\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/util/token/TokenGenerator.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token/TokenGenerator.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token/TokenGenerator.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token/TokenGenerator.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token",
        "sourceFileName": "TokenGenerator.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nconst jwt = require(\"jsonwebtoken\");\n\nconst jwtSettings = require(\"../../../configs/config.json\").jwt;\n\nconst {\n  UserAuthManager\n} = require(\"./UserAuthManager\"); // TODO: Почему не назвать module TokenManager и не запихнуть сюда getTokenFromHeader() ?\n\n\nclass TokenGenerator {\n  static sign(user) {\n    const payloadCommon = UserAuthManager.getAccessPayloadForUser(user);\n    const payloadRefresh = UserAuthManager.getRefreshPayloadForUser(user);\n    const options = {\n      expiresIn: jwtSettings.expiresIn,\n      algorithm: jwtSettings.algorithm\n    };\n    const refreshOptions = {\n      expiresIn: jwtSettings.refreshExpiresIn,\n      algorithm: jwtSettings.algorithm\n    };\n    return {\n      token: \"Bearer \" + jwt.sign(payloadCommon, jwtSettings.jwtSecret, options),\n      refreshToken: \"Bearer \" + jwt.sign(payloadRefresh, jwtSettings.jwtSecret, refreshOptions)\n    };\n  }\n\n  static verify(token, secret) {\n    return jwt.verify(token, secret);\n  }\n\n}\n\nmodule.exports = TokenGenerator;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRva2VuR2VuZXJhdG9yLmpzIl0sIm5hbWVzIjpbImp3dCIsInJlcXVpcmUiLCJqd3RTZXR0aW5ncyIsIlVzZXJBdXRoTWFuYWdlciIsIlRva2VuR2VuZXJhdG9yIiwic2lnbiIsInVzZXIiLCJwYXlsb2FkQ29tbW9uIiwiZ2V0QWNjZXNzUGF5bG9hZEZvclVzZXIiLCJwYXlsb2FkUmVmcmVzaCIsImdldFJlZnJlc2hQYXlsb2FkRm9yVXNlciIsIm9wdGlvbnMiLCJleHBpcmVzSW4iLCJhbGdvcml0aG0iLCJyZWZyZXNoT3B0aW9ucyIsInJlZnJlc2hFeHBpcmVzSW4iLCJ0b2tlbiIsImp3dFNlY3JldCIsInJlZnJlc2hUb2tlbiIsInZlcmlmeSIsInNlY3JldCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsY0FBRCxDQUFuQjs7QUFDQSxNQUFNQyxXQUFXLEdBQUdELE9BQU8sQ0FBQyw4QkFBRCxDQUFQLENBQXdDRCxHQUE1RDs7QUFDQSxNQUFNO0FBQUVHLEVBQUFBO0FBQUYsSUFBc0JGLE9BQU8sQ0FBQyxtQkFBRCxDQUFuQyxDLENBRUE7OztBQUVBLE1BQU1HLGNBQU4sQ0FBcUI7QUFDbkIsU0FBT0MsSUFBUCxDQUFZQyxJQUFaLEVBQWtCO0FBQ2hCLFVBQU1DLGFBQWEsR0FBR0osZUFBZSxDQUFDSyx1QkFBaEIsQ0FBd0NGLElBQXhDLENBQXRCO0FBQ0EsVUFBTUcsY0FBYyxHQUFHTixlQUFlLENBQUNPLHdCQUFoQixDQUF5Q0osSUFBekMsQ0FBdkI7QUFFQSxVQUFNSyxPQUFPLEdBQUc7QUFDZEMsTUFBQUEsU0FBUyxFQUFFVixXQUFXLENBQUNVLFNBRFQ7QUFFZEMsTUFBQUEsU0FBUyxFQUFFWCxXQUFXLENBQUNXO0FBRlQsS0FBaEI7QUFLQSxVQUFNQyxjQUFjLEdBQUc7QUFDckJGLE1BQUFBLFNBQVMsRUFBRVYsV0FBVyxDQUFDYSxnQkFERjtBQUVyQkYsTUFBQUEsU0FBUyxFQUFFWCxXQUFXLENBQUNXO0FBRkYsS0FBdkI7QUFLQSxXQUFPO0FBQ0xHLE1BQUFBLEtBQUssRUFDSCxZQUFZaEIsR0FBRyxDQUFDSyxJQUFKLENBQVNFLGFBQVQsRUFBd0JMLFdBQVcsQ0FBQ2UsU0FBcEMsRUFBK0NOLE9BQS9DLENBRlQ7QUFHTE8sTUFBQUEsWUFBWSxFQUNWLFlBQVlsQixHQUFHLENBQUNLLElBQUosQ0FBU0ksY0FBVCxFQUF5QlAsV0FBVyxDQUFDZSxTQUFyQyxFQUFnREgsY0FBaEQ7QUFKVCxLQUFQO0FBTUQ7O0FBRUQsU0FBT0ssTUFBUCxDQUFjSCxLQUFkLEVBQXFCSSxNQUFyQixFQUE2QjtBQUMzQixXQUFPcEIsR0FBRyxDQUFDbUIsTUFBSixDQUFXSCxLQUFYLEVBQWtCSSxNQUFsQixDQUFQO0FBQ0Q7O0FBekJrQjs7QUE0QnJCQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJsQixjQUFqQiIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbmF2cnV6am4vRG9jdW1lbnRzL0FyY2hpdmUvYmFja2VuZC9iYWNrL3NyYy91dGlsL3Rva2VuIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgand0ID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTtcbmNvbnN0IGp3dFNldHRpbmdzID0gcmVxdWlyZShcIi4uLy4uLy4uL2NvbmZpZ3MvY29uZmlnLmpzb25cIikuand0O1xuY29uc3QgeyBVc2VyQXV0aE1hbmFnZXIgfSA9IHJlcXVpcmUoXCIuL1VzZXJBdXRoTWFuYWdlclwiKTtcblxuLy8gVE9ETzog0J/QvtGH0LXQvNGDINC90LUg0L3QsNC30LLQsNGC0YwgbW9kdWxlIFRva2VuTWFuYWdlciDQuCDQvdC1INC30LDQv9C40YXQvdGD0YLRjCDRgdGO0LTQsCBnZXRUb2tlbkZyb21IZWFkZXIoKSA/XG5cbmNsYXNzIFRva2VuR2VuZXJhdG9yIHtcbiAgc3RhdGljIHNpZ24odXNlcikge1xuICAgIGNvbnN0IHBheWxvYWRDb21tb24gPSBVc2VyQXV0aE1hbmFnZXIuZ2V0QWNjZXNzUGF5bG9hZEZvclVzZXIodXNlcik7XG4gICAgY29uc3QgcGF5bG9hZFJlZnJlc2ggPSBVc2VyQXV0aE1hbmFnZXIuZ2V0UmVmcmVzaFBheWxvYWRGb3JVc2VyKHVzZXIpO1xuXG4gICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgIGV4cGlyZXNJbjogand0U2V0dGluZ3MuZXhwaXJlc0luLFxuICAgICAgYWxnb3JpdGhtOiBqd3RTZXR0aW5ncy5hbGdvcml0aG1cbiAgICB9O1xuXG4gICAgY29uc3QgcmVmcmVzaE9wdGlvbnMgPSB7XG4gICAgICBleHBpcmVzSW46IGp3dFNldHRpbmdzLnJlZnJlc2hFeHBpcmVzSW4sXG4gICAgICBhbGdvcml0aG06IGp3dFNldHRpbmdzLmFsZ29yaXRobVxuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgdG9rZW46XG4gICAgICAgIFwiQmVhcmVyIFwiICsgand0LnNpZ24ocGF5bG9hZENvbW1vbiwgand0U2V0dGluZ3Muand0U2VjcmV0LCBvcHRpb25zKSxcbiAgICAgIHJlZnJlc2hUb2tlbjpcbiAgICAgICAgXCJCZWFyZXIgXCIgKyBqd3Quc2lnbihwYXlsb2FkUmVmcmVzaCwgand0U2V0dGluZ3Muand0U2VjcmV0LCByZWZyZXNoT3B0aW9ucylcbiAgICB9O1xuICB9XG5cbiAgc3RhdGljIHZlcmlmeSh0b2tlbiwgc2VjcmV0KSB7XG4gICAgcmV0dXJuIGp3dC52ZXJpZnkodG9rZW4sIHNlY3JldCk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBUb2tlbkdlbmVyYXRvcjtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "TokenGenerator.js"
      ],
      "names": [
        "jwt",
        "require",
        "jwtSettings",
        "UserAuthManager",
        "TokenGenerator",
        "sign",
        "user",
        "payloadCommon",
        "getAccessPayloadForUser",
        "payloadRefresh",
        "getRefreshPayloadForUser",
        "options",
        "expiresIn",
        "algorithm",
        "refreshOptions",
        "refreshExpiresIn",
        "token",
        "jwtSecret",
        "refreshToken",
        "verify",
        "secret",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,MAAMA,GAAG,GAAGC,OAAO,CAAC,cAAD,CAAnB;;AACA,MAAMC,WAAW,GAAGD,OAAO,CAAC,8BAAD,CAAP,CAAwCD,GAA5D;;AACA,MAAM;AAAEG,EAAAA;AAAF,IAAsBF,OAAO,CAAC,mBAAD,CAAnC,C,CAEA;;;AAEA,MAAMG,cAAN,CAAqB;AACnB,SAAOC,IAAP,CAAYC,IAAZ,EAAkB;AAChB,UAAMC,aAAa,GAAGJ,eAAe,CAACK,uBAAhB,CAAwCF,IAAxC,CAAtB;AACA,UAAMG,cAAc,GAAGN,eAAe,CAACO,wBAAhB,CAAyCJ,IAAzC,CAAvB;AAEA,UAAMK,OAAO,GAAG;AACdC,MAAAA,SAAS,EAAEV,WAAW,CAACU,SADT;AAEdC,MAAAA,SAAS,EAAEX,WAAW,CAACW;AAFT,KAAhB;AAKA,UAAMC,cAAc,GAAG;AACrBF,MAAAA,SAAS,EAAEV,WAAW,CAACa,gBADF;AAErBF,MAAAA,SAAS,EAAEX,WAAW,CAACW;AAFF,KAAvB;AAKA,WAAO;AACLG,MAAAA,KAAK,EACH,YAAYhB,GAAG,CAACK,IAAJ,CAASE,aAAT,EAAwBL,WAAW,CAACe,SAApC,EAA+CN,OAA/C,CAFT;AAGLO,MAAAA,YAAY,EACV,YAAYlB,GAAG,CAACK,IAAJ,CAASI,cAAT,EAAyBP,WAAW,CAACe,SAArC,EAAgDH,cAAhD;AAJT,KAAP;AAMD;;AAED,SAAOK,MAAP,CAAcH,KAAd,EAAqBI,MAArB,EAA6B;AAC3B,WAAOpB,GAAG,CAACmB,MAAJ,CAAWH,KAAX,EAAkBI,MAAlB,CAAP;AACD;;AAzBkB;;AA4BrBC,MAAM,CAACC,OAAP,GAAiBlB,cAAjB",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util/token",
      "sourcesContent": [
        "const jwt = require(\"jsonwebtoken\");\nconst jwtSettings = require(\"../../../configs/config.json\").jwt;\nconst { UserAuthManager } = require(\"./UserAuthManager\");\n\n// TODO: Почему не назвать module TokenManager и не запихнуть сюда getTokenFromHeader() ?\n\nclass TokenGenerator {\n  static sign(user) {\n    const payloadCommon = UserAuthManager.getAccessPayloadForUser(user);\n    const payloadRefresh = UserAuthManager.getRefreshPayloadForUser(user);\n\n    const options = {\n      expiresIn: jwtSettings.expiresIn,\n      algorithm: jwtSettings.algorithm\n    };\n\n    const refreshOptions = {\n      expiresIn: jwtSettings.refreshExpiresIn,\n      algorithm: jwtSettings.algorithm\n    };\n\n    return {\n      token:\n        \"Bearer \" + jwt.sign(payloadCommon, jwtSettings.jwtSecret, options),\n      refreshToken:\n        \"Bearer \" + jwt.sign(payloadRefresh, jwtSettings.jwtSecret, refreshOptions)\n    };\n  }\n\n  static verify(token, secret) {\n    return jwt.verify(token, secret);\n  }\n}\n\nmodule.exports = TokenGenerator;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557941829331
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/util\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/util/object-validator.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/util/object-validator.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/util/object-validator.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/util/object-validator.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util",
        "sourceFileName": "object-validator.js"
      }
    },
    "ast": null,
    "code": "// import Joi from 'joi';\n//\n// class Validator {\n//   registration(obj) {\n//     const schema = Joi.object().keys({\n//       firstname: Joi.string().min(3).max(30).required(),\n//       lastname: Joi.string().min(3).max(30).required(),\n//       email: Joi.string().email({ minDomainAtoms: 2 }).required(),\n//       phone: Joi.number().min(10).required(),\n//       code: Joi.number().min(5).required(),\n//       user_type_id: Joi.number().max(1),\n//       patronymic: Joi.string().min(3).max(30),\n//       reg_from_device: Joi.string().max(20)\n//     });\n//     const result = Joi.validate(obj, schema);\n//     if (result.error) return false;\n//     return true;\n//   }\n//\n//   login(obj) {\n//     const schema = Joi.object().keys({\n//       phone: Joi.number().min(10).required(),\n//       code: Joi.number().min(5).required(),\n//     });\n//     const result = Joi.validate(obj, schema);\n//     if (result.error) return false;\n//     return true;\n//   }\n//\n//   updateBody(obj) {\n//     const schema = Joi.object().keys({\n//       firstname: Joi.string().min(3).max(30),\n//       lastname: Joi.string().min(3).max(30),\n//       email: Joi.string().email({ minDomainAtoms: 2 }),\n//       phone: Joi.number().min(10),\n//       patronymic: Joi.string().min(3).max(30)\n//     });\n//     const result = Joi.validate(obj, schema);\n//     if (result.error) return false;\n//     return true;\n//   }\n// }\n//\n// export default new Validator();\n\"use strict\";\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9iamVjdC12YWxpZGF0b3IuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbmF2cnV6am4vRG9jdW1lbnRzL0FyY2hpdmUvYmFja2VuZC9iYWNrL3NyYy91dGlsIiwic291cmNlc0NvbnRlbnQiOlsiLy8gaW1wb3J0IEpvaSBmcm9tICdqb2knO1xuLy9cbi8vIGNsYXNzIFZhbGlkYXRvciB7XG4vLyAgIHJlZ2lzdHJhdGlvbihvYmopIHtcbi8vICAgICBjb25zdCBzY2hlbWEgPSBKb2kub2JqZWN0KCkua2V5cyh7XG4vLyAgICAgICBmaXJzdG5hbWU6IEpvaS5zdHJpbmcoKS5taW4oMykubWF4KDMwKS5yZXF1aXJlZCgpLFxuLy8gICAgICAgbGFzdG5hbWU6IEpvaS5zdHJpbmcoKS5taW4oMykubWF4KDMwKS5yZXF1aXJlZCgpLFxuLy8gICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCh7IG1pbkRvbWFpbkF0b21zOiAyIH0pLnJlcXVpcmVkKCksXG4vLyAgICAgICBwaG9uZTogSm9pLm51bWJlcigpLm1pbigxMCkucmVxdWlyZWQoKSxcbi8vICAgICAgIGNvZGU6IEpvaS5udW1iZXIoKS5taW4oNSkucmVxdWlyZWQoKSxcbi8vICAgICAgIHVzZXJfdHlwZV9pZDogSm9pLm51bWJlcigpLm1heCgxKSxcbi8vICAgICAgIHBhdHJvbnltaWM6IEpvaS5zdHJpbmcoKS5taW4oMykubWF4KDMwKSxcbi8vICAgICAgIHJlZ19mcm9tX2RldmljZTogSm9pLnN0cmluZygpLm1heCgyMClcbi8vICAgICB9KTtcbi8vICAgICBjb25zdCByZXN1bHQgPSBKb2kudmFsaWRhdGUob2JqLCBzY2hlbWEpO1xuLy8gICAgIGlmIChyZXN1bHQuZXJyb3IpIHJldHVybiBmYWxzZTtcbi8vICAgICByZXR1cm4gdHJ1ZTtcbi8vICAgfVxuLy9cbi8vICAgbG9naW4ob2JqKSB7XG4vLyAgICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCgpLmtleXMoe1xuLy8gICAgICAgcGhvbmU6IEpvaS5udW1iZXIoKS5taW4oMTApLnJlcXVpcmVkKCksXG4vLyAgICAgICBjb2RlOiBKb2kubnVtYmVyKCkubWluKDUpLnJlcXVpcmVkKCksXG4vLyAgICAgfSk7XG4vLyAgICAgY29uc3QgcmVzdWx0ID0gSm9pLnZhbGlkYXRlKG9iaiwgc2NoZW1hKTtcbi8vICAgICBpZiAocmVzdWx0LmVycm9yKSByZXR1cm4gZmFsc2U7XG4vLyAgICAgcmV0dXJuIHRydWU7XG4vLyAgIH1cbi8vXG4vLyAgIHVwZGF0ZUJvZHkob2JqKSB7XG4vLyAgICAgY29uc3Qgc2NoZW1hID0gSm9pLm9iamVjdCgpLmtleXMoe1xuLy8gICAgICAgZmlyc3RuYW1lOiBKb2kuc3RyaW5nKCkubWluKDMpLm1heCgzMCksXG4vLyAgICAgICBsYXN0bmFtZTogSm9pLnN0cmluZygpLm1pbigzKS5tYXgoMzApLFxuLy8gICAgICAgZW1haWw6IEpvaS5zdHJpbmcoKS5lbWFpbCh7IG1pbkRvbWFpbkF0b21zOiAyIH0pLFxuLy8gICAgICAgcGhvbmU6IEpvaS5udW1iZXIoKS5taW4oMTApLFxuLy8gICAgICAgcGF0cm9ueW1pYzogSm9pLnN0cmluZygpLm1pbigzKS5tYXgoMzApXG4vLyAgICAgfSk7XG4vLyAgICAgY29uc3QgcmVzdWx0ID0gSm9pLnZhbGlkYXRlKG9iaiwgc2NoZW1hKTtcbi8vICAgICBpZiAocmVzdWx0LmVycm9yKSByZXR1cm4gZmFsc2U7XG4vLyAgICAgcmV0dXJuIHRydWU7XG4vLyAgIH1cbi8vIH1cbi8vXG4vLyBleHBvcnQgZGVmYXVsdCBuZXcgVmFsaWRhdG9yKCk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "object-validator.js"
      ],
      "names": [],
      "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/util",
      "sourcesContent": [
        "// import Joi from 'joi';\n//\n// class Validator {\n//   registration(obj) {\n//     const schema = Joi.object().keys({\n//       firstname: Joi.string().min(3).max(30).required(),\n//       lastname: Joi.string().min(3).max(30).required(),\n//       email: Joi.string().email({ minDomainAtoms: 2 }).required(),\n//       phone: Joi.number().min(10).required(),\n//       code: Joi.number().min(5).required(),\n//       user_type_id: Joi.number().max(1),\n//       patronymic: Joi.string().min(3).max(30),\n//       reg_from_device: Joi.string().max(20)\n//     });\n//     const result = Joi.validate(obj, schema);\n//     if (result.error) return false;\n//     return true;\n//   }\n//\n//   login(obj) {\n//     const schema = Joi.object().keys({\n//       phone: Joi.number().min(10).required(),\n//       code: Joi.number().min(5).required(),\n//     });\n//     const result = Joi.validate(obj, schema);\n//     if (result.error) return false;\n//     return true;\n//   }\n//\n//   updateBody(obj) {\n//     const schema = Joi.object().keys({\n//       firstname: Joi.string().min(3).max(30),\n//       lastname: Joi.string().min(3).max(30),\n//       email: Joi.string().email({ minDomainAtoms: 2 }),\n//       phone: Joi.number().min(10),\n//       patronymic: Joi.string().min(3).max(30)\n//     });\n//     const result = Joi.validate(obj, schema);\n//     if (result.error) return false;\n//     return true;\n//   }\n// }\n//\n// export default new Validator();\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557950750694
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/model\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/model/user.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/model",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/model/user.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/model/user.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/model/user.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/model",
        "sourceFileName": "user.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nconst Schema = _mongoose.default.Schema;\nconst UserTypes = {\n  // admin = 0,\n  // cleaner = 1,\n  // user = 2\n  userType: {\n    type: String,\n    required: true\n  }\n};\n\nconst User = _mongoose.default.model('User', new Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  surname: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true\n  },\n  avatar: {\n    type: String\n  },\n  address: {\n    type: String,\n    required: true\n  },\n  phone: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  registration_date: {\n    type: Date,\n    default: Date.now\n  }\n}));\n\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXIuanMiXSwibmFtZXMiOlsiU2NoZW1hIiwibW9uZ29vc2UiLCJVc2VyVHlwZXMiLCJ1c2VyVHlwZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsIlVzZXIiLCJtb2RlbCIsIm5hbWUiLCJzdXJuYW1lIiwiZW1haWwiLCJhdmF0YXIiLCJhZGRyZXNzIiwicGhvbmUiLCJwYXNzd29yZCIsInJlZ2lzdHJhdGlvbl9kYXRlIiwiRGF0ZSIsImRlZmF1bHQiLCJub3ciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBLE1BQU1BLE1BQU0sR0FBR0Msa0JBQVNELE1BQXhCO0FBRUEsTUFBTUUsU0FBUyxHQUFHO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBQyxFQUFBQSxRQUFRLEVBQUU7QUFDUkMsSUFBQUEsSUFBSSxFQUFFQyxNQURFO0FBRVJDLElBQUFBLFFBQVEsRUFBRTtBQUZGO0FBSk0sQ0FBbEI7O0FBVUEsTUFBTUMsSUFBSSxHQUFHTixrQkFBU08sS0FBVCxDQUFlLE1BQWYsRUFBd0IsSUFBSVIsTUFBSixDQUFXO0FBQzVDUyxFQUFBQSxJQUFJLEVBQUU7QUFDRkwsSUFBQUEsSUFBSSxFQUFFQyxNQURKO0FBRUZDLElBQUFBLFFBQVEsRUFBRTtBQUZSLEdBRHNDO0FBSzVDSSxFQUFBQSxPQUFPLEVBQUU7QUFDTE4sSUFBQUEsSUFBSSxFQUFFQyxNQUREO0FBRUxDLElBQUFBLFFBQVEsRUFBRTtBQUZMLEdBTG1DO0FBUzVDSyxFQUFBQSxLQUFLLEVBQUU7QUFDSFAsSUFBQUEsSUFBSSxFQUFFQyxNQURIO0FBRUhDLElBQUFBLFFBQVEsRUFBRTtBQUZQLEdBVHFDO0FBYTVDTSxFQUFBQSxNQUFNLEVBQUU7QUFDSlIsSUFBQUEsSUFBSSxFQUFFQztBQURGLEdBYm9DO0FBZ0I1Q1EsRUFBQUEsT0FBTyxFQUFFO0FBQ0xULElBQUFBLElBQUksRUFBRUMsTUFERDtBQUVMQyxJQUFBQSxRQUFRLEVBQUU7QUFGTCxHQWhCbUM7QUFvQjVDUSxFQUFBQSxLQUFLLEVBQUU7QUFDSFYsSUFBQUEsSUFBSSxFQUFFQyxNQURIO0FBRUhDLElBQUFBLFFBQVEsRUFBRTtBQUZQLEdBcEJxQztBQXdCNUNTLEVBQUFBLFFBQVEsRUFBRTtBQUNOWCxJQUFBQSxJQUFJLEVBQUVDLE1BREE7QUFFTkMsSUFBQUEsUUFBUSxFQUFFO0FBRkosR0F4QmtDO0FBNEI1Q1UsRUFBQUEsaUJBQWlCLEVBQUU7QUFDZlosSUFBQUEsSUFBSSxFQUFFYSxJQURTO0FBRWZDLElBQUFBLE9BQU8sRUFBRUQsSUFBSSxDQUFDRTtBQUZDO0FBNUJ5QixDQUFYLENBQXhCLENBQWI7O2VBa0NlWixJIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9uYXZydXpqbi9Eb2N1bWVudHMvQXJjaGl2ZS9iYWNrZW5kL2JhY2svc3JjL21vZGVsIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcblxuY29uc3QgVXNlclR5cGVzID0ge1xuICAvLyBhZG1pbiA9IDAsXG4gIC8vIGNsZWFuZXIgPSAxLFxuICAvLyB1c2VyID0gMlxuICB1c2VyVHlwZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZVxuICB9XG59O1xuXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInLCAgbmV3IFNjaGVtYSh7XG4gICAgbmFtZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfSxcbiAgICBzdXJuYW1lOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIGVtYWlsOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIGF2YXRhcjoge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIGFkZHJlc3M6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgcGhvbmU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgcGFzc3dvcmQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgcmVnaXN0cmF0aW9uX2RhdGU6IHtcbiAgICAgICAgdHlwZTogRGF0ZSxcbiAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3dcbiAgICB9XG59KSk7XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "user.js"
      ],
      "names": [
        "Schema",
        "mongoose",
        "UserTypes",
        "userType",
        "type",
        "String",
        "required",
        "User",
        "model",
        "name",
        "surname",
        "email",
        "avatar",
        "address",
        "phone",
        "password",
        "registration_date",
        "Date",
        "default",
        "now"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA,MAAMA,MAAM,GAAGC,kBAASD,MAAxB;AAEA,MAAME,SAAS,GAAG;AAChB;AACA;AACA;AACAC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF;AAJM,CAAlB;;AAUA,MAAMC,IAAI,GAAGN,kBAASO,KAAT,CAAe,MAAf,EAAwB,IAAIR,MAAJ,CAAW;AAC5CS,EAAAA,IAAI,EAAE;AACFL,IAAAA,IAAI,EAAEC,MADJ;AAEFC,IAAAA,QAAQ,EAAE;AAFR,GADsC;AAK5CI,EAAAA,OAAO,EAAE;AACLN,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE;AAFL,GALmC;AAS5CK,EAAAA,KAAK,EAAE;AACHP,IAAAA,IAAI,EAAEC,MADH;AAEHC,IAAAA,QAAQ,EAAE;AAFP,GATqC;AAa5CM,EAAAA,MAAM,EAAE;AACJR,IAAAA,IAAI,EAAEC;AADF,GAboC;AAgB5CQ,EAAAA,OAAO,EAAE;AACLT,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE;AAFL,GAhBmC;AAoB5CQ,EAAAA,KAAK,EAAE;AACHV,IAAAA,IAAI,EAAEC,MADH;AAEHC,IAAAA,QAAQ,EAAE;AAFP,GApBqC;AAwB5CS,EAAAA,QAAQ,EAAE;AACNX,IAAAA,IAAI,EAAEC,MADA;AAENC,IAAAA,QAAQ,EAAE;AAFJ,GAxBkC;AA4B5CU,EAAAA,iBAAiB,EAAE;AACfZ,IAAAA,IAAI,EAAEa,IADS;AAEfC,IAAAA,OAAO,EAAED,IAAI,CAACE;AAFC;AA5ByB,CAAX,CAAxB,CAAb;;eAkCeZ,I",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/model",
      "sourcesContent": [
        "import mongoose from 'mongoose';\nconst Schema = mongoose.Schema;\n\nconst UserTypes = {\n  // admin = 0,\n  // cleaner = 1,\n  // user = 2\n  userType: {\n    type: String,\n    required: true\n  }\n};\n\nconst User = mongoose.model('User',  new Schema({\n    name: {\n        type: String,\n        required: true\n    },\n    surname: {\n        type: String,\n        required: true\n    },\n    email: {\n        type: String,\n        required: true\n    },\n    avatar: {\n        type: String\n    },\n    address: {\n        type: String,\n        required: true\n    },\n    phone: {\n        type: String,\n        required: true\n    },\n    password: {\n        type: String,\n        required: true\n    },\n    registration_date: {\n        type: Date,\n        default: Date.now\n    }\n}));\n\nexport default User;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557990681552
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/router\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/router/index.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/router",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/router/index.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/router/index.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/router/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/router",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _koaCompose = _interopRequireDefault(require(\"koa-compose\"));\n\nvar _auth = _interopRequireDefault(require(\"./auth\"));\n\nvar _commonUser = _interopRequireDefault(require(\"./common-user\"));\n\nfunction combineRoutes(routes) {\n  if (!Array.isArray(routes)) routes = [].prototype.slice.call(arguments);\n  const middleware = [];\n  routes.forEach(router => {\n    middleware.push(router.routes());\n    if (router.allowedMethods) middleware.push(router.allowedMethods());\n  });\n  return (0, _koaCompose.default)(middleware);\n}\n\nconst routes = [_auth.default, _commonUser.default];\n\nvar _default = () => combineRoutes(routes);\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImNvbWJpbmVSb3V0ZXMiLCJyb3V0ZXMiLCJBcnJheSIsImlzQXJyYXkiLCJwcm90b3R5cGUiLCJzbGljZSIsImNhbGwiLCJhcmd1bWVudHMiLCJtaWRkbGV3YXJlIiwiZm9yRWFjaCIsInJvdXRlciIsInB1c2giLCJhbGxvd2VkTWV0aG9kcyIsImF1dGgiLCJjb21tb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztBQUVBLFNBQVNBLGFBQVQsQ0FBdUJDLE1BQXZCLEVBQStCO0FBQzdCLE1BQUksQ0FBQ0MsS0FBSyxDQUFDQyxPQUFOLENBQWNGLE1BQWQsQ0FBTCxFQUE0QkEsTUFBTSxHQUFHLEdBQUdHLFNBQUgsQ0FBYUMsS0FBYixDQUFtQkMsSUFBbkIsQ0FBd0JDLFNBQXhCLENBQVQ7QUFFNUIsUUFBTUMsVUFBVSxHQUFHLEVBQW5CO0FBQ0FQLEVBQUFBLE1BQU0sQ0FBQ1EsT0FBUCxDQUFlQyxNQUFNLElBQUk7QUFDdkJGLElBQUFBLFVBQVUsQ0FBQ0csSUFBWCxDQUFnQkQsTUFBTSxDQUFDVCxNQUFQLEVBQWhCO0FBQ0EsUUFBSVMsTUFBTSxDQUFDRSxjQUFYLEVBQTJCSixVQUFVLENBQUNHLElBQVgsQ0FBZ0JELE1BQU0sQ0FBQ0UsY0FBUCxFQUFoQjtBQUM1QixHQUhEO0FBS0EsU0FBTyx5QkFBUUosVUFBUixDQUFQO0FBQ0Q7O0FBRUQsTUFBTVAsTUFBTSxHQUFHLENBQUNZLGFBQUQsRUFBT0MsbUJBQVAsQ0FBZjs7ZUFFZSxNQUFNZCxhQUFhLENBQUNDLE1BQUQsQyIsInNvdXJjZVJvb3QiOiIvVXNlcnMvbmF2cnV6am4vRG9jdW1lbnRzL0FyY2hpdmUvYmFja2VuZC9iYWNrL3NyYy9yb3V0ZXIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29tcG9zZSBmcm9tICdrb2EtY29tcG9zZSc7XG5pbXBvcnQgYXV0aCBmcm9tICcuL2F1dGgnO1xuaW1wb3J0IGNvbW1vbiBmcm9tICcuL2NvbW1vbi11c2VyJ1xuXG5mdW5jdGlvbiBjb21iaW5lUm91dGVzKHJvdXRlcykge1xuICBpZiAoIUFycmF5LmlzQXJyYXkocm91dGVzKSkgcm91dGVzID0gW10ucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtcblxuICBjb25zdCBtaWRkbGV3YXJlID0gW107XG4gIHJvdXRlcy5mb3JFYWNoKHJvdXRlciA9PiB7XG4gICAgbWlkZGxld2FyZS5wdXNoKHJvdXRlci5yb3V0ZXMoKSk7XG4gICAgaWYgKHJvdXRlci5hbGxvd2VkTWV0aG9kcykgbWlkZGxld2FyZS5wdXNoKHJvdXRlci5hbGxvd2VkTWV0aG9kcygpKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGNvbXBvc2UobWlkZGxld2FyZSk7XG59XG5cbmNvbnN0IHJvdXRlcyA9IFthdXRoLCBjb21tb25dO1xuXG5leHBvcnQgZGVmYXVsdCAoKSA9PiBjb21iaW5lUm91dGVzKHJvdXRlcyk7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "combineRoutes",
        "routes",
        "Array",
        "isArray",
        "prototype",
        "slice",
        "call",
        "arguments",
        "middleware",
        "forEach",
        "router",
        "push",
        "allowedMethods",
        "auth",
        "common"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;AAEA,SAASA,aAAT,CAAuBC,MAAvB,EAA+B;AAC7B,MAAI,CAACC,KAAK,CAACC,OAAN,CAAcF,MAAd,CAAL,EAA4BA,MAAM,GAAG,GAAGG,SAAH,CAAaC,KAAb,CAAmBC,IAAnB,CAAwBC,SAAxB,CAAT;AAE5B,QAAMC,UAAU,GAAG,EAAnB;AACAP,EAAAA,MAAM,CAACQ,OAAP,CAAeC,MAAM,IAAI;AACvBF,IAAAA,UAAU,CAACG,IAAX,CAAgBD,MAAM,CAACT,MAAP,EAAhB;AACA,QAAIS,MAAM,CAACE,cAAX,EAA2BJ,UAAU,CAACG,IAAX,CAAgBD,MAAM,CAACE,cAAP,EAAhB;AAC5B,GAHD;AAKA,SAAO,yBAAQJ,UAAR,CAAP;AACD;;AAED,MAAMP,MAAM,GAAG,CAACY,aAAD,EAAOC,mBAAP,CAAf;;eAEe,MAAMd,aAAa,CAACC,MAAD,C",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/router",
      "sourcesContent": [
        "import compose from 'koa-compose';\nimport auth from './auth';\nimport common from './common-user'\n\nfunction combineRoutes(routes) {\n  if (!Array.isArray(routes)) routes = [].prototype.slice.call(arguments);\n\n  const middleware = [];\n  routes.forEach(router => {\n    middleware.push(router.routes());\n    if (router.allowedMethods) middleware.push(router.allowedMethods());\n  });\n\n  return compose(middleware);\n}\n\nconst routes = [auth, common];\n\nexport default () => combineRoutes(routes);\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557941438807
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/router\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/router/auth.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/router",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/router/auth.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/router/auth.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/router/auth.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/router",
        "sourceFileName": "auth.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _koaRouter = _interopRequireDefault(require(\"koa-router\"));\n\nvar _User = _interopRequireDefault(require(\"../controllers/User\"));\n\nvar _TokenGenerator = _interopRequireDefault(require(\"../util/token/TokenGenerator\"));\n\nconst router = new _koaRouter.default();\n\nvar _default = router.prefix(\"/api/auth\").post(\"/:action\", async ctx => {\n  switch (ctx.params.action) {\n    case \"signup\":\n      {\n        const user = _User.default.createUser(ctx.request.body);\n\n        ctx.response.body = await _TokenGenerator.default.sign(user);\n        break;\n      }\n\n    case \"signin\":\n      {\n        console.log(ctx.request.body.email);\n\n        const user = _User.default.findUserWithParam(ctx.request.body.email);\n\n        ctx.response.body = await _TokenGenerator.default.sign(user);\n        break;\n      }\n\n    default:\n      {\n        return ctx.throw(402, \"Action not found\");\n      }\n  }\n});\n\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsicm91dGVyIiwiUm91dGVyIiwicHJlZml4IiwicG9zdCIsImN0eCIsInBhcmFtcyIsImFjdGlvbiIsInVzZXIiLCJVc2VyIiwiY3JlYXRlVXNlciIsInJlcXVlc3QiLCJib2R5IiwicmVzcG9uc2UiLCJUb2tlbkdlbmVyYXRvciIsInNpZ24iLCJjb25zb2xlIiwibG9nIiwiZW1haWwiLCJmaW5kVXNlcldpdGhQYXJhbSIsInRocm93Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFFQSxNQUFNQSxNQUFNLEdBQUcsSUFBSUMsa0JBQUosRUFBZjs7ZUFFZUQsTUFBTSxDQUNsQkUsTUFEWSxDQUNMLFdBREssRUFHWkMsSUFIWSxDQUdQLFVBSE8sRUFHSyxNQUFNQyxHQUFOLElBQWE7QUFDN0IsVUFBUUEsR0FBRyxDQUFDQyxNQUFKLENBQVdDLE1BQW5CO0FBQ0UsU0FBSyxRQUFMO0FBQWU7QUFDYixjQUFNQyxJQUFJLEdBQUdDLGNBQUtDLFVBQUwsQ0FBZ0JMLEdBQUcsQ0FBQ00sT0FBSixDQUFZQyxJQUE1QixDQUFiOztBQUNBUCxRQUFBQSxHQUFHLENBQUNRLFFBQUosQ0FBYUQsSUFBYixHQUFvQixNQUFNRSx3QkFBZUMsSUFBZixDQUFvQlAsSUFBcEIsQ0FBMUI7QUFDQTtBQUNEOztBQUNELFNBQUssUUFBTDtBQUFlO0FBQ2JRLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZWixHQUFHLENBQUNNLE9BQUosQ0FBWUMsSUFBWixDQUFpQk0sS0FBN0I7O0FBQ0EsY0FBTVYsSUFBSSxHQUFHQyxjQUFLVSxpQkFBTCxDQUF1QmQsR0FBRyxDQUFDTSxPQUFKLENBQVlDLElBQVosQ0FBaUJNLEtBQXhDLENBQWI7O0FBQ0FiLFFBQUFBLEdBQUcsQ0FBQ1EsUUFBSixDQUFhRCxJQUFiLEdBQW9CLE1BQU1FLHdCQUFlQyxJQUFmLENBQW9CUCxJQUFwQixDQUExQjtBQUNBO0FBQ0Q7O0FBQ0Q7QUFBUztBQUNQLGVBQU9ILEdBQUcsQ0FBQ2UsS0FBSixDQUFVLEdBQVYsRUFBZSxrQkFBZixDQUFQO0FBQ0Q7QUFkSDtBQWdCRCxDQXBCWSxDIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9uYXZydXpqbi9Eb2N1bWVudHMvQXJjaGl2ZS9iYWNrZW5kL2JhY2svc3JjL3JvdXRlciIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSb3V0ZXIgZnJvbSAna29hLXJvdXRlcic7XG5pbXBvcnQgVXNlciBmcm9tICcuLi9jb250cm9sbGVycy9Vc2VyJztcbmltcG9ydCBUb2tlbkdlbmVyYXRvciBmcm9tICcuLi91dGlsL3Rva2VuL1Rva2VuR2VuZXJhdG9yJztcblxuY29uc3Qgcm91dGVyID0gbmV3IFJvdXRlcigpO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXJcbiAgLnByZWZpeChcIi9hcGkvYXV0aFwiKVxuXG4gIC5wb3N0KFwiLzphY3Rpb25cIiwgYXN5bmMgY3R4ID0+IHtcbiAgICBzd2l0Y2ggKGN0eC5wYXJhbXMuYWN0aW9uKSB7XG4gICAgICBjYXNlIFwic2lnbnVwXCI6IHtcbiAgICAgICAgY29uc3QgdXNlciA9IFVzZXIuY3JlYXRlVXNlcihjdHgucmVxdWVzdC5ib2R5KTtcbiAgICAgICAgY3R4LnJlc3BvbnNlLmJvZHkgPSBhd2FpdCBUb2tlbkdlbmVyYXRvci5zaWduKHVzZXIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJzaWduaW5cIjoge1xuICAgICAgICBjb25zb2xlLmxvZyhjdHgucmVxdWVzdC5ib2R5LmVtYWlsKTtcbiAgICAgICAgY29uc3QgdXNlciA9IFVzZXIuZmluZFVzZXJXaXRoUGFyYW0oY3R4LnJlcXVlc3QuYm9keS5lbWFpbCk7XG4gICAgICAgIGN0eC5yZXNwb25zZS5ib2R5ID0gYXdhaXQgVG9rZW5HZW5lcmF0b3Iuc2lnbih1c2VyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIHJldHVybiBjdHgudGhyb3coNDAyLCBcIkFjdGlvbiBub3QgZm91bmRcIik7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "auth.js"
      ],
      "names": [
        "router",
        "Router",
        "prefix",
        "post",
        "ctx",
        "params",
        "action",
        "user",
        "User",
        "createUser",
        "request",
        "body",
        "response",
        "TokenGenerator",
        "sign",
        "console",
        "log",
        "email",
        "findUserWithParam",
        "throw"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA;;AACA;;AAEA,MAAMA,MAAM,GAAG,IAAIC,kBAAJ,EAAf;;eAEeD,MAAM,CAClBE,MADY,CACL,WADK,EAGZC,IAHY,CAGP,UAHO,EAGK,MAAMC,GAAN,IAAa;AAC7B,UAAQA,GAAG,CAACC,MAAJ,CAAWC,MAAnB;AACE,SAAK,QAAL;AAAe;AACb,cAAMC,IAAI,GAAGC,cAAKC,UAAL,CAAgBL,GAAG,CAACM,OAAJ,CAAYC,IAA5B,CAAb;;AACAP,QAAAA,GAAG,CAACQ,QAAJ,CAAaD,IAAb,GAAoB,MAAME,wBAAeC,IAAf,CAAoBP,IAApB,CAA1B;AACA;AACD;;AACD,SAAK,QAAL;AAAe;AACbQ,QAAAA,OAAO,CAACC,GAAR,CAAYZ,GAAG,CAACM,OAAJ,CAAYC,IAAZ,CAAiBM,KAA7B;;AACA,cAAMV,IAAI,GAAGC,cAAKU,iBAAL,CAAuBd,GAAG,CAACM,OAAJ,CAAYC,IAAZ,CAAiBM,KAAxC,CAAb;;AACAb,QAAAA,GAAG,CAACQ,QAAJ,CAAaD,IAAb,GAAoB,MAAME,wBAAeC,IAAf,CAAoBP,IAApB,CAA1B;AACA;AACD;;AACD;AAAS;AACP,eAAOH,GAAG,CAACe,KAAJ,CAAU,GAAV,EAAe,kBAAf,CAAP;AACD;AAdH;AAgBD,CApBY,C",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/router",
      "sourcesContent": [
        "import Router from 'koa-router';\nimport User from '../controllers/User';\nimport TokenGenerator from '../util/token/TokenGenerator';\n\nconst router = new Router();\n\nexport default router\n  .prefix(\"/api/auth\")\n\n  .post(\"/:action\", async ctx => {\n    switch (ctx.params.action) {\n      case \"signup\": {\n        const user = User.createUser(ctx.request.body);\n        ctx.response.body = await TokenGenerator.sign(user);\n        break;\n      }\n      case \"signin\": {\n        console.log(ctx.request.body.email);\n        const user = User.findUserWithParam(ctx.request.body.email);\n        ctx.response.body = await TokenGenerator.sign(user);\n        break;\n      }\n      default: {\n        return ctx.throw(402, \"Action not found\");\n      }\n    }\n  });\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557991163533
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/controllers\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/controllers/User.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/controllers",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/controllers/User.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/controllers/User.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/controllers/User.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/controllers",
        "sourceFileName": "User.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _User = _interopRequireDefault(require(\"../model/User\"));\n\nconst _ = require(\"lodash\");\n\nclass User {\n  static async createUser(userData) {\n    return await new _User.default({ ...userData\n    }).save();\n  }\n\n  static async getUsers() {\n    let users = await _User.default.find().sort(\"name\");\n    return users.map(user => {\n      user = _.pick(user, [\"name\", \"surname\", \"phone\", \"registration_date\"]);\n    });\n  }\n\n  static async getUser(id) {\n    let user = await _User.default.findById(id);\n    user = _.pick(user, [\"name\", \"surname\", \"phone\", \"registration_date\"]);\n    return user;\n  }\n\n  static async updateUser(id, userData) {\n    return await _User.default.findByIdAndUpdate(id, { ...userData\n    }, {\n      new: true\n    });\n  }\n\n  static async removeUser(id) {\n    return await _User.default.findByIdAndRemove(id);\n  }\n\n  static findUserWithParam(email) {\n    const user = _User.default.findOne({\n      email\n    });\n\n    if (!user) ctx.throw(402, \"User not found\");\n    return user;\n  }\n\n}\n\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwibmFtZXMiOlsiXyIsInJlcXVpcmUiLCJVc2VyIiwiY3JlYXRlVXNlciIsInVzZXJEYXRhIiwiVXNlck1vZGVsIiwic2F2ZSIsImdldFVzZXJzIiwidXNlcnMiLCJmaW5kIiwic29ydCIsIm1hcCIsInVzZXIiLCJwaWNrIiwiZ2V0VXNlciIsImlkIiwiZmluZEJ5SWQiLCJ1cGRhdGVVc2VyIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJuZXciLCJyZW1vdmVVc2VyIiwiZmluZEJ5SWRBbmRSZW1vdmUiLCJmaW5kVXNlcldpdGhQYXJhbSIsImVtYWlsIiwiZmluZE9uZSIsImN0eCIsInRocm93IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBOztBQUVBLE1BQU1BLENBQUMsR0FBR0MsT0FBTyxDQUFDLFFBQUQsQ0FBakI7O0FBRUEsTUFBTUMsSUFBTixDQUFXO0FBQ1QsZUFBYUMsVUFBYixDQUF3QkMsUUFBeEIsRUFBa0M7QUFDaEMsV0FBTyxNQUFNLElBQUlDLGFBQUosQ0FBYyxFQUFFLEdBQUdEO0FBQUwsS0FBZCxFQUErQkUsSUFBL0IsRUFBYjtBQUNEOztBQUVELGVBQWFDLFFBQWIsR0FBd0I7QUFDdEIsUUFBSUMsS0FBSyxHQUFHLE1BQU1ILGNBQVVJLElBQVYsR0FBaUJDLElBQWpCLENBQXNCLE1BQXRCLENBQWxCO0FBQ0EsV0FBT0YsS0FBSyxDQUFDRyxHQUFOLENBQVVDLElBQUksSUFBSTtBQUN2QkEsTUFBQUEsSUFBSSxHQUFHWixDQUFDLENBQUNhLElBQUYsQ0FBT0QsSUFBUCxFQUFhLENBQUMsTUFBRCxFQUFTLFNBQVQsRUFBb0IsT0FBcEIsRUFBNkIsbUJBQTdCLENBQWIsQ0FBUDtBQUNELEtBRk0sQ0FBUDtBQUdEOztBQUVELGVBQWFFLE9BQWIsQ0FBcUJDLEVBQXJCLEVBQXlCO0FBQ3ZCLFFBQUlILElBQUksR0FBRyxNQUFNUCxjQUFVVyxRQUFWLENBQW1CRCxFQUFuQixDQUFqQjtBQUNBSCxJQUFBQSxJQUFJLEdBQUdaLENBQUMsQ0FBQ2EsSUFBRixDQUFPRCxJQUFQLEVBQWEsQ0FBQyxNQUFELEVBQVMsU0FBVCxFQUFvQixPQUFwQixFQUE2QixtQkFBN0IsQ0FBYixDQUFQO0FBQ0EsV0FBT0EsSUFBUDtBQUNEOztBQUVELGVBQWFLLFVBQWIsQ0FBd0JGLEVBQXhCLEVBQTRCWCxRQUE1QixFQUFzQztBQUNwQyxXQUFPLE1BQU1DLGNBQVVhLGlCQUFWLENBQ1hILEVBRFcsRUFFWCxFQUFFLEdBQUdYO0FBQUwsS0FGVyxFQUdYO0FBQUVlLE1BQUFBLEdBQUcsRUFBRTtBQUFQLEtBSFcsQ0FBYjtBQUtEOztBQUVELGVBQWFDLFVBQWIsQ0FBd0JMLEVBQXhCLEVBQTRCO0FBQzFCLFdBQU8sTUFBTVYsY0FBVWdCLGlCQUFWLENBQTRCTixFQUE1QixDQUFiO0FBQ0Q7O0FBRUQsU0FBT08saUJBQVAsQ0FBeUJDLEtBQXpCLEVBQWdDO0FBQzlCLFVBQU1YLElBQUksR0FBR1AsY0FBVW1CLE9BQVYsQ0FBa0I7QUFBRUQsTUFBQUE7QUFBRixLQUFsQixDQUFiOztBQUNBLFFBQUksQ0FBQ1gsSUFBTCxFQUFXYSxHQUFHLENBQUNDLEtBQUosQ0FBVSxHQUFWLEVBQWUsZ0JBQWY7QUFDWCxXQUFPZCxJQUFQO0FBQ0Q7O0FBbENROztBQXFDWGUsTUFBTSxDQUFDQyxPQUFQLEdBQWlCMUIsSUFBakIiLCJzb3VyY2VSb290IjoiL1VzZXJzL25hdnJ1empuL0RvY3VtZW50cy9BcmNoaXZlL2JhY2tlbmQvYmFjay9zcmMvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlck1vZGVsIGZyb20gXCIuLi9tb2RlbC9Vc2VyXCI7XG5cbmNvbnN0IF8gPSByZXF1aXJlKFwibG9kYXNoXCIpO1xuXG5jbGFzcyBVc2VyIHtcbiAgc3RhdGljIGFzeW5jIGNyZWF0ZVVzZXIodXNlckRhdGEpIHtcbiAgICByZXR1cm4gYXdhaXQgbmV3IFVzZXJNb2RlbCh7IC4uLnVzZXJEYXRhIH0pLnNhdmUoKTtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRVc2VycygpIHtcbiAgICBsZXQgdXNlcnMgPSBhd2FpdCBVc2VyTW9kZWwuZmluZCgpLnNvcnQoXCJuYW1lXCIpO1xuICAgIHJldHVybiB1c2Vycy5tYXAodXNlciA9PiB7XG4gICAgICB1c2VyID0gXy5waWNrKHVzZXIsIFtcIm5hbWVcIiwgXCJzdXJuYW1lXCIsIFwicGhvbmVcIiwgXCJyZWdpc3RyYXRpb25fZGF0ZVwiXSk7XG4gICAgfSk7XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0VXNlcihpZCkge1xuICAgIGxldCB1c2VyID0gYXdhaXQgVXNlck1vZGVsLmZpbmRCeUlkKGlkKTtcbiAgICB1c2VyID0gXy5waWNrKHVzZXIsIFtcIm5hbWVcIiwgXCJzdXJuYW1lXCIsIFwicGhvbmVcIiwgXCJyZWdpc3RyYXRpb25fZGF0ZVwiXSk7XG4gICAgcmV0dXJuIHVzZXI7XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgdXBkYXRlVXNlcihpZCwgdXNlckRhdGEpIHtcbiAgICByZXR1cm4gYXdhaXQgVXNlck1vZGVsLmZpbmRCeUlkQW5kVXBkYXRlKFxuICAgICAgaWQsXG4gICAgICB7IC4uLnVzZXJEYXRhIH0sXG4gICAgICB7IG5ldzogdHJ1ZSB9XG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyByZW1vdmVVc2VyKGlkKSB7XG4gICAgcmV0dXJuIGF3YWl0IFVzZXJNb2RlbC5maW5kQnlJZEFuZFJlbW92ZShpZCk7XG4gIH1cblxuICBzdGF0aWMgZmluZFVzZXJXaXRoUGFyYW0oZW1haWwpIHtcbiAgICBjb25zdCB1c2VyID0gVXNlck1vZGVsLmZpbmRPbmUoeyBlbWFpbCB9KTtcbiAgICBpZiAoIXVzZXIpIGN0eC50aHJvdyg0MDIsIFwiVXNlciBub3QgZm91bmRcIik7XG4gICAgcmV0dXJuIHVzZXI7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBVc2VyO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "User.js"
      ],
      "names": [
        "_",
        "require",
        "User",
        "createUser",
        "userData",
        "UserModel",
        "save",
        "getUsers",
        "users",
        "find",
        "sort",
        "map",
        "user",
        "pick",
        "getUser",
        "id",
        "findById",
        "updateUser",
        "findByIdAndUpdate",
        "new",
        "removeUser",
        "findByIdAndRemove",
        "findUserWithParam",
        "email",
        "findOne",
        "ctx",
        "throw",
        "module",
        "exports"
      ],
      "mappings": ";;;;AAAA;;AAEA,MAAMA,CAAC,GAAGC,OAAO,CAAC,QAAD,CAAjB;;AAEA,MAAMC,IAAN,CAAW;AACT,eAAaC,UAAb,CAAwBC,QAAxB,EAAkC;AAChC,WAAO,MAAM,IAAIC,aAAJ,CAAc,EAAE,GAAGD;AAAL,KAAd,EAA+BE,IAA/B,EAAb;AACD;;AAED,eAAaC,QAAb,GAAwB;AACtB,QAAIC,KAAK,GAAG,MAAMH,cAAUI,IAAV,GAAiBC,IAAjB,CAAsB,MAAtB,CAAlB;AACA,WAAOF,KAAK,CAACG,GAAN,CAAUC,IAAI,IAAI;AACvBA,MAAAA,IAAI,GAAGZ,CAAC,CAACa,IAAF,CAAOD,IAAP,EAAa,CAAC,MAAD,EAAS,SAAT,EAAoB,OAApB,EAA6B,mBAA7B,CAAb,CAAP;AACD,KAFM,CAAP;AAGD;;AAED,eAAaE,OAAb,CAAqBC,EAArB,EAAyB;AACvB,QAAIH,IAAI,GAAG,MAAMP,cAAUW,QAAV,CAAmBD,EAAnB,CAAjB;AACAH,IAAAA,IAAI,GAAGZ,CAAC,CAACa,IAAF,CAAOD,IAAP,EAAa,CAAC,MAAD,EAAS,SAAT,EAAoB,OAApB,EAA6B,mBAA7B,CAAb,CAAP;AACA,WAAOA,IAAP;AACD;;AAED,eAAaK,UAAb,CAAwBF,EAAxB,EAA4BX,QAA5B,EAAsC;AACpC,WAAO,MAAMC,cAAUa,iBAAV,CACXH,EADW,EAEX,EAAE,GAAGX;AAAL,KAFW,EAGX;AAAEe,MAAAA,GAAG,EAAE;AAAP,KAHW,CAAb;AAKD;;AAED,eAAaC,UAAb,CAAwBL,EAAxB,EAA4B;AAC1B,WAAO,MAAMV,cAAUgB,iBAAV,CAA4BN,EAA5B,CAAb;AACD;;AAED,SAAOO,iBAAP,CAAyBC,KAAzB,EAAgC;AAC9B,UAAMX,IAAI,GAAGP,cAAUmB,OAAV,CAAkB;AAAED,MAAAA;AAAF,KAAlB,CAAb;;AACA,QAAI,CAACX,IAAL,EAAWa,GAAG,CAACC,KAAJ,CAAU,GAAV,EAAe,gBAAf;AACX,WAAOd,IAAP;AACD;;AAlCQ;;AAqCXe,MAAM,CAACC,OAAP,GAAiB1B,IAAjB",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/controllers",
      "sourcesContent": [
        "import UserModel from \"../model/User\";\n\nconst _ = require(\"lodash\");\n\nclass User {\n  static async createUser(userData) {\n    return await new UserModel({ ...userData }).save();\n  }\n\n  static async getUsers() {\n    let users = await UserModel.find().sort(\"name\");\n    return users.map(user => {\n      user = _.pick(user, [\"name\", \"surname\", \"phone\", \"registration_date\"]);\n    });\n  }\n\n  static async getUser(id) {\n    let user = await UserModel.findById(id);\n    user = _.pick(user, [\"name\", \"surname\", \"phone\", \"registration_date\"]);\n    return user;\n  }\n\n  static async updateUser(id, userData) {\n    return await UserModel.findByIdAndUpdate(\n      id,\n      { ...userData },\n      { new: true }\n    );\n  }\n\n  static async removeUser(id) {\n    return await UserModel.findByIdAndRemove(id);\n  }\n\n  static findUserWithParam(email) {\n    const user = UserModel.findOne({ email });\n    if (!user) ctx.throw(402, \"User not found\");\n    return user;\n  }\n}\n\nmodule.exports = User;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557951187814
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/model\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/model/User.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/model",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/model/User.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/model/User.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/model/User.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/model",
        "sourceFileName": "User.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nconst Schema = _mongoose.default.Schema;\nconst UserTypes = {\n  // admin = 0,\n  // cleaner = 1,\n  // user = 2\n  userType: {\n    type: String,\n    required: true\n  }\n};\n\nconst User = _mongoose.default.model('User', new Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  surname: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true\n  },\n  avatar: {\n    type: String\n  },\n  address: {\n    type: String,\n    required: true\n  },\n  phone: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  registration_date: {\n    type: Date,\n    default: Date.now\n  }\n}));\n\nvar _default = User;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwibmFtZXMiOlsiU2NoZW1hIiwibW9uZ29vc2UiLCJVc2VyVHlwZXMiLCJ1c2VyVHlwZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsIlVzZXIiLCJtb2RlbCIsIm5hbWUiLCJzdXJuYW1lIiwiZW1haWwiLCJhdmF0YXIiLCJhZGRyZXNzIiwicGhvbmUiLCJwYXNzd29yZCIsInJlZ2lzdHJhdGlvbl9kYXRlIiwiRGF0ZSIsImRlZmF1bHQiLCJub3ciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBOztBQUNBLE1BQU1BLE1BQU0sR0FBR0Msa0JBQVNELE1BQXhCO0FBRUEsTUFBTUUsU0FBUyxHQUFHO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBQyxFQUFBQSxRQUFRLEVBQUU7QUFDUkMsSUFBQUEsSUFBSSxFQUFFQyxNQURFO0FBRVJDLElBQUFBLFFBQVEsRUFBRTtBQUZGO0FBSk0sQ0FBbEI7O0FBVUEsTUFBTUMsSUFBSSxHQUFHTixrQkFBU08sS0FBVCxDQUFlLE1BQWYsRUFBd0IsSUFBSVIsTUFBSixDQUFXO0FBQzVDUyxFQUFBQSxJQUFJLEVBQUU7QUFDRkwsSUFBQUEsSUFBSSxFQUFFQyxNQURKO0FBRUZDLElBQUFBLFFBQVEsRUFBRTtBQUZSLEdBRHNDO0FBSzVDSSxFQUFBQSxPQUFPLEVBQUU7QUFDTE4sSUFBQUEsSUFBSSxFQUFFQyxNQUREO0FBRUxDLElBQUFBLFFBQVEsRUFBRTtBQUZMLEdBTG1DO0FBUzVDSyxFQUFBQSxLQUFLLEVBQUU7QUFDSFAsSUFBQUEsSUFBSSxFQUFFQyxNQURIO0FBRUhDLElBQUFBLFFBQVEsRUFBRTtBQUZQLEdBVHFDO0FBYTVDTSxFQUFBQSxNQUFNLEVBQUU7QUFDSlIsSUFBQUEsSUFBSSxFQUFFQztBQURGLEdBYm9DO0FBZ0I1Q1EsRUFBQUEsT0FBTyxFQUFFO0FBQ0xULElBQUFBLElBQUksRUFBRUMsTUFERDtBQUVMQyxJQUFBQSxRQUFRLEVBQUU7QUFGTCxHQWhCbUM7QUFvQjVDUSxFQUFBQSxLQUFLLEVBQUU7QUFDSFYsSUFBQUEsSUFBSSxFQUFFQyxNQURIO0FBRUhDLElBQUFBLFFBQVEsRUFBRTtBQUZQLEdBcEJxQztBQXdCNUNTLEVBQUFBLFFBQVEsRUFBRTtBQUNOWCxJQUFBQSxJQUFJLEVBQUVDLE1BREE7QUFFTkMsSUFBQUEsUUFBUSxFQUFFO0FBRkosR0F4QmtDO0FBNEI1Q1UsRUFBQUEsaUJBQWlCLEVBQUU7QUFDZlosSUFBQUEsSUFBSSxFQUFFYSxJQURTO0FBRWZDLElBQUFBLE9BQU8sRUFBRUQsSUFBSSxDQUFDRTtBQUZDO0FBNUJ5QixDQUFYLENBQXhCLENBQWI7O2VBa0NlWixJIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9uYXZydXpqbi9Eb2N1bWVudHMvQXJjaGl2ZS9iYWNrZW5kL2JhY2svc3JjL21vZGVsIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmNvbnN0IFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcblxuY29uc3QgVXNlclR5cGVzID0ge1xuICAvLyBhZG1pbiA9IDAsXG4gIC8vIGNsZWFuZXIgPSAxLFxuICAvLyB1c2VyID0gMlxuICB1c2VyVHlwZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZVxuICB9XG59O1xuXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInLCAgbmV3IFNjaGVtYSh7XG4gICAgbmFtZToge1xuICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfSxcbiAgICBzdXJuYW1lOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIGVtYWlsOiB7XG4gICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIGF2YXRhcjoge1xuICAgICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIGFkZHJlc3M6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgcGhvbmU6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgcGFzc3dvcmQ6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH0sXG4gICAgcmVnaXN0cmF0aW9uX2RhdGU6IHtcbiAgICAgICAgdHlwZTogRGF0ZSxcbiAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3dcbiAgICB9XG59KSk7XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXI7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "User.js"
      ],
      "names": [
        "Schema",
        "mongoose",
        "UserTypes",
        "userType",
        "type",
        "String",
        "required",
        "User",
        "model",
        "name",
        "surname",
        "email",
        "avatar",
        "address",
        "phone",
        "password",
        "registration_date",
        "Date",
        "default",
        "now"
      ],
      "mappings": ";;;;;;;;;AAAA;;AACA,MAAMA,MAAM,GAAGC,kBAASD,MAAxB;AAEA,MAAME,SAAS,GAAG;AAChB;AACA;AACA;AACAC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,IAAI,EAAEC,MADE;AAERC,IAAAA,QAAQ,EAAE;AAFF;AAJM,CAAlB;;AAUA,MAAMC,IAAI,GAAGN,kBAASO,KAAT,CAAe,MAAf,EAAwB,IAAIR,MAAJ,CAAW;AAC5CS,EAAAA,IAAI,EAAE;AACFL,IAAAA,IAAI,EAAEC,MADJ;AAEFC,IAAAA,QAAQ,EAAE;AAFR,GADsC;AAK5CI,EAAAA,OAAO,EAAE;AACLN,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE;AAFL,GALmC;AAS5CK,EAAAA,KAAK,EAAE;AACHP,IAAAA,IAAI,EAAEC,MADH;AAEHC,IAAAA,QAAQ,EAAE;AAFP,GATqC;AAa5CM,EAAAA,MAAM,EAAE;AACJR,IAAAA,IAAI,EAAEC;AADF,GAboC;AAgB5CQ,EAAAA,OAAO,EAAE;AACLT,IAAAA,IAAI,EAAEC,MADD;AAELC,IAAAA,QAAQ,EAAE;AAFL,GAhBmC;AAoB5CQ,EAAAA,KAAK,EAAE;AACHV,IAAAA,IAAI,EAAEC,MADH;AAEHC,IAAAA,QAAQ,EAAE;AAFP,GApBqC;AAwB5CS,EAAAA,QAAQ,EAAE;AACNX,IAAAA,IAAI,EAAEC,MADA;AAENC,IAAAA,QAAQ,EAAE;AAFJ,GAxBkC;AA4B5CU,EAAAA,iBAAiB,EAAE;AACfZ,IAAAA,IAAI,EAAEa,IADS;AAEfC,IAAAA,OAAO,EAAED,IAAI,CAACE;AAFC;AA5ByB,CAAX,CAAxB,CAAb;;eAkCeZ,I",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/model",
      "sourcesContent": [
        "import mongoose from 'mongoose';\nconst Schema = mongoose.Schema;\n\nconst UserTypes = {\n  // admin = 0,\n  // cleaner = 1,\n  // user = 2\n  userType: {\n    type: String,\n    required: true\n  }\n};\n\nconst User = mongoose.model('User',  new Schema({\n    name: {\n        type: String,\n        required: true\n    },\n    surname: {\n        type: String,\n        required: true\n    },\n    email: {\n        type: String,\n        required: true\n    },\n    avatar: {\n        type: String\n    },\n    address: {\n        type: String,\n        required: true\n    },\n    phone: {\n        type: String,\n        required: true\n    },\n    password: {\n        type: String,\n        required: true\n    },\n    registration_date: {\n        type: Date,\n        default: Date.now\n    }\n}));\n\nexport default User;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557990681552
  },
  "{\"sourceMaps\":\"both\",\"sourceRoot\":\"/Users/navruzjn/Documents/Archive/backend/back/src/db\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"filename\":\"/Users/navruzjn/Documents/Archive/backend/back/src/db/connect.js\",\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/navruzjn/Documents/Archive/backend/back\",\"plugins\":[{\"key\":\"transform-runtime\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"MemberExpression\":{\"enter\":[null],\"exit\":[null]},\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"proposal-class-properties\",\"visitor\":{\"PrivateName\":{\"enter\":[null]},\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]}},\"options\":{}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.4.4": {
    "metadata": {},
    "options": {
      "sourceMaps": "both",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/db",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/Users/navruzjn/Documents/Archive/backend/back",
      "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/db/connect.js",
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/Users/navruzjn/Documents/Archive/backend/back",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "transform-runtime",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "BinaryExpression": {
              "enter": [
                null
              ]
            },
            "MemberExpression": {
              "enter": [
                null
              ],
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "Identifier": {
              "enter": [
                null
              ]
            },
            "JSXIdentifier": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "proposal-class-properties",
          "visitor": {
            "PrivateName": {
              "enter": [
                null
              ]
            },
            "ExportDefaultDeclaration": {
              "enter": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true,
            "ClassDeclaration": {
              "enter": [
                null
              ]
            },
            "ClassExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {}
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "loose": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/Users/navruzjn/Documents/Archive/backend/back/src/db/connect.js",
        "plugins": [
          "classProperties",
          "classPrivateProperties",
          "asyncGenerators",
          "objectRestSpread",
          "jsonStrings",
          "optionalCatchBinding"
        ]
      },
      "generatorOpts": {
        "filename": "/Users/navruzjn/Documents/Archive/backend/back/src/db/connect.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/db",
        "sourceFileName": "connect.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar config = _interopRequireWildcard(require(\"../../configs/config.json\"));\n\nconst dbSettings = config.db;\n\nclass Connect {\n  static mongoConnect() {\n    _mongoose.default.connect(dbSettings.connectPathWorld, {\n      useCreateIndex: true,\n      useNewUrlParser: true\n    }).then(() => console.log(\"Connected to MongoDB\")).catch(err => console.log(\"Could not connect to MongoDB\"));\n  }\n\n}\n\nmodule.exports = Connect;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbm5lY3QuanMiXSwibmFtZXMiOlsiZGJTZXR0aW5ncyIsImNvbmZpZyIsImRiIiwiQ29ubmVjdCIsIm1vbmdvQ29ubmVjdCIsIm1vbmdvb3NlIiwiY29ubmVjdCIsImNvbm5lY3RQYXRoV29ybGQiLCJ1c2VDcmVhdGVJbmRleCIsInVzZU5ld1VybFBhcnNlciIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFDQTs7QUFFQSxNQUFNQSxVQUFVLEdBQUdDLE1BQU0sQ0FBQ0MsRUFBMUI7O0FBRUEsTUFBTUMsT0FBTixDQUFjO0FBQ1osU0FBT0MsWUFBUCxHQUFzQjtBQUNwQkMsc0JBQ0dDLE9BREgsQ0FDV04sVUFBVSxDQUFDTyxnQkFEdEIsRUFDd0M7QUFDcENDLE1BQUFBLGNBQWMsRUFBRSxJQURvQjtBQUVwQ0MsTUFBQUEsZUFBZSxFQUFFO0FBRm1CLEtBRHhDLEVBS0dDLElBTEgsQ0FLUSxNQUFNQyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxzQkFBWixDQUxkLEVBTUdDLEtBTkgsQ0FNU0MsR0FBRyxJQUFJSCxPQUFPLENBQUNDLEdBQVIsQ0FBWSw4QkFBWixDQU5oQjtBQU9EOztBQVRXOztBQVdkRyxNQUFNLENBQUNDLE9BQVAsR0FBaUJiLE9BQWpCIiwic291cmNlUm9vdCI6Ii9Vc2Vycy9uYXZydXpqbi9Eb2N1bWVudHMvQXJjaGl2ZS9iYWNrZW5kL2JhY2svc3JjL2RiIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmltcG9ydCAqIGFzIGNvbmZpZyBmcm9tIFwiLi4vLi4vY29uZmlncy9jb25maWcuanNvblwiO1xuXG5jb25zdCBkYlNldHRpbmdzID0gY29uZmlnLmRiO1xuXG5jbGFzcyBDb25uZWN0IHtcbiAgc3RhdGljIG1vbmdvQ29ubmVjdCgpIHtcbiAgICBtb25nb29zZVxuICAgICAgLmNvbm5lY3QoZGJTZXR0aW5ncy5jb25uZWN0UGF0aFdvcmxkLCB7XG4gICAgICAgIHVzZUNyZWF0ZUluZGV4OiB0cnVlLFxuICAgICAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWVcbiAgICAgIH0pXG4gICAgICAudGhlbigoKSA9PiBjb25zb2xlLmxvZyhcIkNvbm5lY3RlZCB0byBNb25nb0RCXCIpKVxuICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhcIkNvdWxkIG5vdCBjb25uZWN0IHRvIE1vbmdvREJcIikpO1xuICB9XG59XG5tb2R1bGUuZXhwb3J0cyA9IENvbm5lY3Q7XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "connect.js"
      ],
      "names": [
        "dbSettings",
        "config",
        "db",
        "Connect",
        "mongoConnect",
        "mongoose",
        "connect",
        "connectPathWorld",
        "useCreateIndex",
        "useNewUrlParser",
        "then",
        "console",
        "log",
        "catch",
        "err",
        "module",
        "exports"
      ],
      "mappings": ";;;;;;AAAA;;AACA;;AAEA,MAAMA,UAAU,GAAGC,MAAM,CAACC,EAA1B;;AAEA,MAAMC,OAAN,CAAc;AACZ,SAAOC,YAAP,GAAsB;AACpBC,sBACGC,OADH,CACWN,UAAU,CAACO,gBADtB,EACwC;AACpCC,MAAAA,cAAc,EAAE,IADoB;AAEpCC,MAAAA,eAAe,EAAE;AAFmB,KADxC,EAKGC,IALH,CAKQ,MAAMC,OAAO,CAACC,GAAR,CAAY,sBAAZ,CALd,EAMGC,KANH,CAMSC,GAAG,IAAIH,OAAO,CAACC,GAAR,CAAY,8BAAZ,CANhB;AAOD;;AATW;;AAWdG,MAAM,CAACC,OAAP,GAAiBb,OAAjB",
      "sourceRoot": "/Users/navruzjn/Documents/Archive/backend/back/src/db",
      "sourcesContent": [
        "import mongoose from 'mongoose';\nimport * as config from \"../../configs/config.json\";\n\nconst dbSettings = config.db;\n\nclass Connect {\n  static mongoConnect() {\n    mongoose\n      .connect(dbSettings.connectPathWorld, {\n        useCreateIndex: true,\n        useNewUrlParser: true\n      })\n      .then(() => console.log(\"Connected to MongoDB\"))\n      .catch(err => console.log(\"Could not connect to MongoDB\"));\n  }\n}\nmodule.exports = Connect;\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1557990297057
  }
}